TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    1

       1                    ;******************************************************************************
       2                    ;* TMS320C6x ANSI C Codegen                                      Version 4.00 *
       3                    ;* Date/Time created: Fri May 13 18:18:44 2011                                *
       4                    ;******************************************************************************
       5                    
       6                    ;******************************************************************************
       7                    ;* GLOBAL FILE PARAMETERS                                                     *
       8                    ;*                                                                            *
       9                    ;*   Architecture      : TMS320C620x                                          *
      10                    ;*   Optimization      : Disabled                                             *
      11                    ;*   Optimizing for    : Compile time, Ease of Development                    *
      12                    ;*                       Based on options: no -o, no -ms                      *
      13                    ;*   Endian            : Little                                               *
      14                    ;*   Interrupt Thrshld : Disabled                                             *
      15                    ;*   Memory Model      : Small                                                *
      16                    ;*   Calls to RTS      : Near                                                 *
      17                    ;*   Pipelining        : Disabled                                             *
      18                    ;*   Memory Aliases    : Presume are aliases (pessimistic)                    *
      19                    ;*   Debug Info        : Debug                                                *
      20                    ;*                                                                            *
      21                    ;******************************************************************************
      22                    
      23          0000000F  FP      .set    A15
      24          0000002E  DP      .set    B14
      25          0000002F  SP      .set    B15
      26                            .global $bss
      27                    
      28                    ;       acp6x -q -D_TGTDETROIT -Iinclude -I.. -m --i_output_file intermed\xycore.if --template_info_fi
      29                            .file   "..\xycore.c"
      30                            .file   "include\type_c6x.h"
      31                            .sym    _INT16, 0, 3, 13, 16
      32                            .sym    _UINT16, 0, 13, 13, 16
      33                            .sym    _INT32, 0, 4, 13, 32
      34                            .sym    _RESULT, 0, 4, 13, 32
      35                            .sym    _UINT32, 0, 14, 13, 32
      36                            .file   "..\xycore.c"
      37                            .stag   _Parameters, 5280
      38                            .member _dwDotSeed, 0, 14, 8, 32
      39                            .member _wWidthMM, 32, 13, 8, 16
      40                            .member _wHeightMM, 48, 13, 8, 16
      41                            .member _wDistMM, 64, 13, 8, 16
      42                            .member _wNumTargets, 80, 13, 8, 16
      43                            .member _wDelayPerDot, 96, 13, 8, 16
      44                            .member _wOnTimePerDot, 112, 13, 8, 16
      45                            .member _wFiller, 128, 61, 8, 32, , 2
      46                            .member _wType, 160, 61, 8, 512, , 32
      47                            .member _wNumDots, 672, 61, 8, 512, , 32
      48                            .member _wRectR, 1184, 61, 8, 512, , 32
      49                            .member _wRectL, 1696, 61, 8, 512, , 32
      50                            .member _wRectT, 2208, 61, 8, 512, , 32
      51                            .member _wRectB, 2720, 61, 8, 512, , 32
      52                            .member _wOuterR, 3232, 61, 8, 512, , 32
      53                            .member _wOuterL, 3744, 61, 8, 512, , 32
      54                            .member _wOuterT, 4256, 61, 8, 512, , 32
      55                            .member _wOuterB, 4768, 61, 8, 512, , 32
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    2

      56                            .eos
      57                            .sym    _PARAMETERS, 0, 8, 13, 5280,_Parameters
      58                            .file   "c:\c6xtools\include\math.h"
      59                            .file   "include\de62c6x.h"
      60                            .file   "..\xycore.c"
      61                    
      62 00000000                   .sect   ".cinit:c"
      63                            .align  8
      64 00000000 00000008          .field          (CIR - $) - 8, 32
      65 00000004 00000000-         .field          _G_lastRandomNum+0,32
      66 00000008 00000001          .field          0x1,32                  ; _G_lastRandomNum @ 0
      67                    
      68 00000000                   .sect   ".text"
      69                            .global _G_lastRandomNum
      70 00000000           _G_lastRandomNum:       .usect  ".bss:c",4,4
      71                            .sym    _G_lastRandomNum,_G_lastRandomNum, 14, 2, 32
      72                    
      73 0000000c                   .sect   ".cinit:c"
      74                            .align  4
      75 0000000c 00000001          .field          0x1,32                  ; _G_lastRand2 @ 0
      76                    
      77 00000000                   .sect   ".text"
      78                            .global _G_lastRand2
      79 00000004           _G_lastRand2:   .usect  ".bss:c",4,4
      80                            .sym    _G_lastRand2,_G_lastRand2, 14, 2, 32
      81 00000000                   .sect   ".text"
      82                            .global _SetSeed
      83                            .sym    _SetSeed,_SetSeed, 32, 2, 0
      84                            .func   669
      85                    ;------------------------------------------------------------------------------
      86                    ; 669 | void SetSeed( unsigned int seed )                                      
      87                    ;------------------------------------------------------------------------------
      88                    
      89                    ;******************************************************************************
      90                    ;* FUNCTION NAME: _SetSeed                                                    *
      91                    ;*                                                                            *
      92                    ;*   Regs Modified     : SP                                                   *
      93                    ;*   Regs Used         : A4,B3,DP,SP                                          *
      94                    ;*   Local Frame Size  : 0 Args + 4 Auto + 0 Save = 4 byte                    *
      95                    ;******************************************************************************
      96 00000000           _SetSeed:
      97                    ;** --------------------------------------------------------------------------*
      98                            .sym    _seed,4, 14, 17, 32
      99                            .sym    _seed,4, 14, 1, 32
     101                            .line   2
     100 00000000 07BF005A             SUB     .L2     SP,8,SP           ; |669| 
     102 00000004 023C22F4             STW     .D2T1   A4,*+SP(4)        ; |670| 
     103                            .line   3
     104                    ;------------------------------------------------------------------------------
     105                    ; 671 | G_lastRandomNum = seed;                                                
     106                    ;------------------------------------------------------------------------------
     107 00000008 0200007C-            STW     .D2T1   A4,*+DP(_G_lastRandomNum) ; |671| 
     108                            .line   4
     109 0000000c 000C0362             B       .S2     B3                ; |672| 
     110 00000010 07BD005A             ADD     .L2     8,SP,SP           ; |672| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    3

     111 00000014 00006000             NOP             4
     112                               ; BRANCH OCCURS                   ; |672| 
     113                            .endfunc        672,000000000h,8
     114                    
     115                    
     116 00000018                   .sect   ".text"
     117                            .global _SetSeed2
     118                            .sym    _SetSeed2,_SetSeed2, 32, 2, 0
     119                            .func   674
     120                    ;------------------------------------------------------------------------------
     121                    ; 674 | void SetSeed2( unsigned int seed )                                     
     122                    ;------------------------------------------------------------------------------
     123                    
     124                    ;******************************************************************************
     125                    ;* FUNCTION NAME: _SetSeed2                                                   *
     126                    ;*                                                                            *
     127                    ;*   Regs Modified     : SP                                                   *
     128                    ;*   Regs Used         : A4,B3,DP,SP                                          *
     129                    ;*   Local Frame Size  : 0 Args + 4 Auto + 0 Save = 4 byte                    *
     130                    ;******************************************************************************
     131 00000018           _SetSeed2:
     132                    ;** --------------------------------------------------------------------------*
     133                            .sym    _seed,4, 14, 17, 32
     134                            .sym    _seed,4, 14, 1, 32
     136                            .line   2
     135 00000018 07BF005A             SUB     .L2     SP,8,SP           ; |674| 
     137 0000001c 023C22F4             STW     .D2T1   A4,*+SP(4)        ; |675| 
     138                            .line   3
     139                    ;------------------------------------------------------------------------------
     140                    ; 676 | G_lastRand2 = seed;                                                    
     141                    ;------------------------------------------------------------------------------
     142 00000020 0200017C-            STW     .D2T1   A4,*+DP(_G_lastRand2) ; |676| 
     143                            .line   4
     144 00000024 000C0362             B       .S2     B3                ; |677| 
     145 00000028 07BD005A             ADD     .L2     8,SP,SP           ; |677| 
     146 0000002c 00006000             NOP             4
     147                               ; BRANCH OCCURS                   ; |677| 
     148                            .endfunc        677,000000000h,8
     149                    
     150                    
     151 00000030                   .sect   ".text"
     152                            .global _GetRandNum
     153                            .sym    _GetRandNum,_GetRandNum, 45, 2, 0
     154                            .func   697
     155                    ;------------------------------------------------------------------------------
     156                    ; 697 | unsigned short GetRandNum()                                            
     157                    ;------------------------------------------------------------------------------
     158                    
     159                    ;******************************************************************************
     160                    ;* FUNCTION NAME: _GetRandNum                                                 *
     161                    ;*                                                                            *
     162                    ;*   Regs Modified     : A0,A3,A4,B4,B5,B6,B7,SP                              *
     163                    ;*   Regs Used         : A0,A3,A4,B3,B4,B5,B6,B7,DP,SP                        *
     164                    ;*   Local Frame Size  : 0 Args + 8 Auto + 0 Save = 8 byte                    *
     165                    ;******************************************************************************
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    4

     166 00000030           _GetRandNum:
     167                    ;** --------------------------------------------------------------------------*
     168                            .sym    _a,4, 14, 1, 32
     169                            .sym    _c,8, 14, 1, 32
     171                            .line   3
     170 00000030 07BF005A             SUB     .L2     SP,8,SP           ; |697| 
     172                    ;------------------------------------------------------------------------------
     173                    ; 699 | unsigned int a = 2147437301, c = 453816981;                            
     174                    ;------------------------------------------------------------------------------
     175 00000034 00257AA8             MVKL    .S1     0x7fff4af5,A0     ; |699| 
     176 00000038 003FFFE8             MVKH    .S1     0x7fff4af5,A0     ; |699| 
     177 0000003c 003C22F4             STW     .D2T1   A0,*+SP(4)        ; |699| 
     178 00000040 02594AAA             MVKL    .S2     0x1b0cb295,B4     ; |699| 
     179 00000044 020D866A             MVKH    .S2     0x1b0cb295,B4     ; |699| 
     180 00000048 023C42F6             STW     .D2T2   B4,*+SP(8)        ; |699| 
     181                            .line   5
     182                    ;------------------------------------------------------------------------------
     183                    ; 701 | G_lastRandomNum = a * G_lastRandomNum + c;                             
     184                    ;------------------------------------------------------------------------------
     185 0000004c 0280006E-            LDW     .D2T2   *+DP(_G_lastRandomNum),B5 ; |701| 
     186 00000050 00006000             NOP             4
     187                    
     188 00000054 0380B483             MPYLH   .M2X    A0,B5,B7          ; |701| 
     189 00000058 01941480  ||         MPYLH   .M1X    B5,A0,A3          ; |701| 
     190                    
     191 0000005c 0300BF82             MPYU    .M2X    B5,A0,B6          ; |701| 
     192 00000060 028CF07A             ADD     .L2X    A3,B7,B5          ; |701| 
     193 00000064 02960CA2             SHL     .S2     B5,16,B5          ; |701| 
     194 00000068 0294C07A             ADD     .L2     B6,B5,B5          ; |701| 
     195 0000006c 0214807A             ADD     .L2     B4,B5,B4          ; 
     196 00000070 0200007E-            STW     .D2T2   B4,*+DP(_G_lastRandomNum) ; |701| 
     197                            .line   6
     198                    ;------------------------------------------------------------------------------
     199                    ; 702 | return ( (unsigned short) (0x0000FFFF & (G_lastRandomNum >> 8)) );     
     200                    ;------------------------------------------------------------------------------
     201 00000074 00101058             MV      .L1X    B4,A0
     202 00000078 00011008             EXTU    .S1     A0,8,16,A0        ; |702| 
     203 0000007c 02021008             EXTU    .S1     A0,16,16,A4       ; |702| 
     204                            .line   7
     205 00000080 000C0362             B       .S2     B3                ; |703| 
     206 00000084 07BD005A             ADD     .L2     8,SP,SP           ; |703| 
     207 00000088 00006000             NOP             4
     208                               ; BRANCH OCCURS                   ; |703| 
     209                            .endfunc        703,000000000h,8
     210                    
     211                    
     212 0000008c                   .sect   ".text"
     213                            .global _GetRandNum2
     214                            .sym    _GetRandNum2,_GetRandNum2, 45, 2, 0
     215                            .func   705
     216                    ;------------------------------------------------------------------------------
     217                    ; 705 | unsigned short GetRandNum2()                                           
     218                    ;------------------------------------------------------------------------------
     219                    
     220                    ;******************************************************************************
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    5

     221                    ;* FUNCTION NAME: _GetRandNum2                                                *
     222                    ;*                                                                            *
     223                    ;*   Regs Modified     : A0,A3,A4,B4,B5,B6,B7,SP                              *
     224                    ;*   Regs Used         : A0,A3,A4,B3,B4,B5,B6,B7,DP,SP                        *
     225                    ;*   Local Frame Size  : 0 Args + 8 Auto + 0 Save = 8 byte                    *
     226                    ;******************************************************************************
     227 0000008c           _GetRandNum2:
     228                    ;** --------------------------------------------------------------------------*
     229                            .sym    _a,4, 14, 1, 32
     230                            .sym    _c,8, 14, 1, 32
     232                            .line   3
     231 0000008c 07BF005A             SUB     .L2     SP,8,SP           ; |705| 
     233                    ;------------------------------------------------------------------------------
     234                    ; 707 | unsigned int a = 2147437301, c = 453816981;                            
     235                    ;------------------------------------------------------------------------------
     236 00000090 00257AA8             MVKL    .S1     0x7fff4af5,A0     ; |707| 
     237 00000094 003FFFE8             MVKH    .S1     0x7fff4af5,A0     ; |707| 
     238 00000098 003C22F4             STW     .D2T1   A0,*+SP(4)        ; |707| 
     239 0000009c 02594AAA             MVKL    .S2     0x1b0cb295,B4     ; |707| 
     240 000000a0 020D866A             MVKH    .S2     0x1b0cb295,B4     ; |707| 
     241 000000a4 023C42F6             STW     .D2T2   B4,*+SP(8)        ; |707| 
     242                            .line   5
     243                    ;------------------------------------------------------------------------------
     244                    ; 709 | G_lastRand2 = a * G_lastRand2 + c;                                     
     245                    ;------------------------------------------------------------------------------
     246 000000a8 0280016E-            LDW     .D2T2   *+DP(_G_lastRand2),B5 ; |709| 
     247 000000ac 00006000             NOP             4
     248                    
     249 000000b0 0380B483             MPYLH   .M2X    A0,B5,B7          ; |709| 
     250 000000b4 01941480  ||         MPYLH   .M1X    B5,A0,A3          ; |709| 
     251                    
     252 000000b8 0300BF82             MPYU    .M2X    B5,A0,B6          ; |709| 
     253 000000bc 028CF07A             ADD     .L2X    A3,B7,B5          ; |709| 
     254 000000c0 02960CA2             SHL     .S2     B5,16,B5          ; |709| 
     255 000000c4 0294C07A             ADD     .L2     B6,B5,B5          ; |709| 
     256 000000c8 0214807A             ADD     .L2     B4,B5,B4          ; 
     257 000000cc 0200017E-            STW     .D2T2   B4,*+DP(_G_lastRand2) ; |709| 
     258                            .line   6
     259                    ;------------------------------------------------------------------------------
     260                    ; 710 | return ( (unsigned short) (0x0000FFFF & (G_lastRand2 >> 8)) );         
     261                    ;------------------------------------------------------------------------------
     262 000000d0 00101058             MV      .L1X    B4,A0
     263 000000d4 00011008             EXTU    .S1     A0,8,16,A0        ; |710| 
     264 000000d8 02021008             EXTU    .S1     A0,16,16,A4       ; |710| 
     265                            .line   7
     266 000000dc 000C0362             B       .S2     B3                ; |711| 
     267 000000e0 07BD005A             ADD     .L2     8,SP,SP           ; |711| 
     268 000000e4 00006000             NOP             4
     269                               ; BRANCH OCCURS                   ; |711| 
     270                            .endfunc        711,000000000h,8
     271                    
     272                    
     273                            .sym    _INT16, 0, 3, 13, 16
     274                            .sym    _PARAMETERS, 0, 8, 13, 5280,_Parameters
     275                            .sym    _UINT16, 0, 13, 13, 16
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    6

     276                            .sym    _UINT32, 0, 14, 13, 32
     277                            .sym    _INT32, 0, 4, 13, 32
     278 000000e8                   .sect   ".text"
     279                            .global _main
     280                            .sym    _main,_main, 32, 2, 0
     281                            .func   722
     282                    ;------------------------------------------------------------------------------
     283                    ; 722 | void main()                                                            
     284                    ; 724 | INT16                hv, vv;           // horiz & vert displacement of 
     285                    ;     | random-dot texture associated with target                              
     286                    ; 725 | INT16                hw, vw;           // horiz & vert displacement of 
     287                    ;     | target window                                                          
     288                    ; 726 | INT16                nDotLifeDecr;     // per-refresh decrease in curre
     289                    ;     | nt dot lifetime                                                        
     290                    ; 728 | register INT32       i32val;           // this (hopefully dedicated!) r
     291                    ;     | egister var is used for the animation                                  
     292                    ; 729 | // calculations implementing the OPTICFLOW target type                 
     293                    ; 730 | INT32                x32, y32;                                         
     294                    ; 731 | INT16                i16Theta;                                         
     295                    ; 732 | INT16                i16Scale;                                         
     296                    ; 733 | // these are designated 'register' to speed-up boundary comparisons for
     297                    ;     |                                                                        
     298                    ; 734 | // certain tgt types during XYCORE_DOFRAME processing:                 
     299                    ; 735 | register UINT16      xCoord;           // coordinates of a dot in pixel
     300                    ;     |  units [0..MAX_PIX]                                                    
     301                    ; 736 | register UINT16      yCoord;           //                              
     302                    ; 737 | register UINT16      rectR;            // the right, left, top and bott
     303                    ;     | om sides of a rect                                                     
     304                    ; 738 | register UINT16      rectL;            //                              
     305                    ; 739 | register UINT16      rectU;            //                              
     306                    ; 740 | register UINT16      rectD;            //                              
     307                    ; 742 | UINT16               rectW;            // width, height of window for c
     308                    ;     | urrent target                                                          
     309                    ; 743 | UINT16               rectH;            //                              
     310                    ; 744 | UINT16               screenW_mm;       // display width and height in m
     311                    ;     | m                                                                      
     312                    ; 745 | UINT16               screenH_mm;                                       
     313                    ; 746 | UINT16               u16Type;          //                              
     314                    ; 747 | UINT16               u16Dummy, u16tmp; //                              
     315                    ; 748 | UINT16               u16Over;                                          
     316                    ; 749 | UINT16               nMaxDotLife;      // max dot life [1..32767] (fini
     317                    ;     | te dotlife tgts only)                                                  
     318                    ; 750 | UINT32               command;          // new command from host XYAPI  
     319                    ; 751 | UINT32               status;           // used to reset CmdStat reg to 
     320                    ;     | XYCORE_READY                                                           
     321                    ; 752 | UINT32               xyvals;           // the next beam location to wri
     322                    ;     | te: [x15..x0 y15..y0]                                                  
     323                    ; 753 | UINT32               timdurbyte;       // trigger duration             
     324                    ; 754 | UINT32               timdelnib;        // trigger delay                
     325                    ; 755 | UINT32               timvals;          // the trigger parameters packed
     326                    ;     |  appropriately for writing to timing reg                               
     327                    ; 756 | UINT32               *locaddr;         // dotter board's location regis
     328                    ;     | ter                                                                    
     329                    ; 757 | UINT32               *stataddr;        // dotter board's status registe
     330                    ;     | r                                                                      
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    7

     331                    ; 758 | UINT32               *timaddr;         // dotter board's timing registe
     332                    ;     | r                                                                      
     333                    ; 759 | UINT32               i,j,k,l,m,d,cd;                                   
     334                    ; 760 | UINT32               dotPosOffset;     // offset into dot position arra
     335                    ;     | ys                                                                     
     336                    ; 761 | register UINT32      nTotalVisDots;    // total #dots that are visible 
     337                    ;     | in a given frame                                                       
     338                    ; 762 | UINT32               maxRepeats;       // max # repeats in a given fram
     339                    ;     | e (targets may have different repeat values)                           
     340                    ; 763 | double               dDummy;           // used to initialize trig and o
     341                    ;     | ther LUTs                                                              
     342                    ; 765 | // NOTE on array declarations:  We statically allocate all memory that 
     343                    ;     | we need.  Using an array declaration such as                           
     344                    ; 766 | // "UINT32 arrayName[ARRAYSIZE]" did not work because apparently it doe
     345                    ;     | s not tell the special-purpose compiler where                          
     346                    ; 767 | // to allocate space for the array within the local processor's memory 
     347                    ;     | map.  We tried such a declaration during                               
     348                    ; 768 | // program development (targeted for the Detroit C6x), and the resultin
     349                    ;     | g core program did not appear to function at                           
     350                    ; 769 | // all.  Hence, each array is defined by a pointer, each pointer is ass
     351                    ;     | igned to the array's start address in the                              
     352                    ; 770 | // local processors's memory map, and care is taken in assigning these 
     353                    ;     | start addresses so that the defined arrays do                          
     354                    ; 771 | // not overlap.  Then individual elements of the array may be accessed 
     355                    ;     | using ptrName[i] or *(ptrName + i).                                    
     356                    ; 772 | //                                                                     
     357                    ; 773 | register UINT16      *a;               // x-coord of next dot to be dra
     358                    ;     | wn (ptr into xdotpos)                                                  
     359                    ; 774 | register UINT16      *b;               // y-coord of next dot to be dra
     360                    ;     | wn (ptr into ydotpos)                                                  
     361                    ; 775 | register UINT16      *de;              // ptr into xdotpos, points to e
     362                    ;     | lement AFTER x-coord of last dot to be drawn                           
     363                    ; 776 | UINT16               *xdotpos;         // array of x-coords for dots of
     364                    ;     |  all targets, stored sequentially: target0,                            
     365                    ; 777 | //    target1, ... [maxsize = MAXTOTALDOTS * sizeof(UINT16)]           
     366                    ; 778 | UINT16               *ydotpos;         // array of y-coords for dots of
     367                    ;     |  all targets, stored sequentially: target0,                            
     368                    ; 779 | //    target1, ... [maxsize = MAXTOTALDOTS * sizeof(UINT16)]           
     369                    ; 780 | volatile INT16       *dotLife;         // [finite dotlife tgts] array o
     370                    ;     | f current lifetimes of dots of all finite                              
     371                    ; 781 | //    dotlife targets.  units=(set by host). counts down until negative
     372                    ;     | .                                                                      
     373                    ; 782 | //    [maxsize = MAXTOTALDOTS * sizeof(INT16)]                         
     374                    ; 783 | volatile INT16       *nextDotLife;     // [finite dotlife tgts] lifetim
     375                    ;     | e of next dot to be drawn (ptr into dotLife)                           
     376                    ; 784 | volatile INT16       *dotNoise;        // [DL_NOISEDIR/SPEED] array of 
     377                    ;     | per-dot noise offsets. units = deg/10 for                              
     378                    ; 785 | //    DL_NOISEDIR, or 1% increments for DL_NOISESPEED.                 
     379                    ; 786 | //    [maxsize=MAXTOTALDOTS * sizeof(INT16)]                           
     380                    ; 787 | volatile INT16       *nextDotNoise;    // [DL_NOISEDIR/SPEED] ptr into 
     381                    ;     | array 'dotNoise'                                                       
     382                    ; 788 | volatile INT16       *fracDX;          // [DL_NOISEDIR/SPEED] array of 
     383                    ;     | per-dot fractional parts of x-coordinate                               
     384                    ; 789 | //    displacements to be carried over to the next update. Scaled.     
     385                    ; 790 | //    [maxsize = MAXTOTALDOTS * sizeof(INT16)                          
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    8

     386                    ; 791 | volatile INT16       *nextFracDX;      // [DL_NOISEDIR/SPEED] ptr into 
     387                    ;     | array 'fracDX'                                                         
     388                    ; 792 | volatile INT16       *fracDY;          // [DL_NOISEDIR/SPEED] array of 
     389                    ;     | per-dot fractional parts of y-coordinate                               
     390                    ; 793 | //    displacements to be carried over to the next update. Scaled.     
     391                    ; 794 | //    [maxsize = MAXTOTALDOTS * sizeof(INT16)                          
     392                    ; 795 | volatile INT16       *nextFracDY;      // [DL_NOISEDIR/SPEED] ptr into 
     393                    ;     | array 'fracDY'                                                         
     394                    ; 796 | volatile PARAMETERS  *parameters;      // local storage for target para
     395                    ;     | meters obtained from host CPU [size =                                  
     396                    ; 797 | //    sizeof(PARAMETERS)]                                              
     397                    ; 798 | volatile UINT16      *hsize;           // target window widths [size = 
     398                    ;     | MAX_TARGETS * sizeof(UINT16)]                                          
     399                    ; 799 | volatile UINT16      *vsize;           // target window heights [size =
     400                    ;     |  MAX_TARGETS * sizeof(UINT16)]                                         
     401                    ; 800 | volatile UINT16      *nRedrawsLeft;    // how many more times target mu
     402                    ;     | st be redrawn during current refresh                                   
     403                    ; 801 | //    period [size = MAX_TARGETS * sizeof(UINT16)]                     
     404                    ; 802 | volatile UINT16      *nVisDotsPerTgt;  // #dots visible in current refr
     405                    ;     | esh period for each tgt                                                
     406                    ; 803 | //    [size = MAX_TARGETS * sizeof(UINT16)]                            
     407                    ; 804 | volatile INT16       *nNoiseUpdTicks;  // countdown timer for DL_NOISED
     408                    ;     | IR/SPEED noise update interval, in msecs                               
     409                    ; 805 | //    [size = MAX_TARGETS * sizeof(INT16)]                             
     410                    ; 806 | volatile UINT32      *visibleDotsXY;   // packed (x,y)-coords of all do
     411                    ;     | ts visible in current refresh period                                   
     412                    ; 807 | //    [size = MAXDOTSPERFRAME * sizeof(UINT32)]                        
     413                    ; 808 | volatile UINT32      *SharedArray;     // points to start of shared mem
     414                    ;     | ory, where host XYAPI stores target                                    
     415                    ; 809 | //    parameters followed by motion update records for the current fram
     416                    ;     | e                                                                      
     417                    ; 810 | //    [size = sizeof(PARAMETERS) + MAX_TARGETS * UPDRECSZ * sizeof(INT1
     418                    ;     | 6)]                                                                    
     419                    ; 811 | volatile INT16       *data;            // points to start of target dis
     420                    ;     | placement data within shared memory                                    
     421                    ; 812 | //    [size = MAX_TARGETS * UPDRECSZ * sizeof(INT16)]                  
     422                    ; 814 | volatile INT16       *tanLUT;          // lookup table for tan(P)*2^10,
     423                    ;     |  where P = [0..4499] in deg/100                                        
     424                    ; 815 | //    [size = 4500 * sizeof(INT16)]                                    
     425                    ; 816 | volatile INT16       *sincosLUT;       // lookup table for sin(P)*cos(P
     426                    ;     | )*2^10, where P = [0..4499] in deg/100                                 
     427                    ; 817 | //    [size = 4500 * sizeof(INT16)]                                    
     428                    ; 818 | volatile INT16       *sinLUT;          // lookup table for sin(P)*2^10,
     429                    ;     |  where P = [0..3599] in deg/10                                         
     430                    ; 819 | //    [size = 3600 * sizeof(INT16)]                                    
     431                    ; 820 | volatile INT16       *cosLUT;          // lookup table for tan(P)*2^10,
     432                    ;     |  where P = [0..3599] in deg/10                                         
     433                    ; 821 | //    [size = 3600 * sizeof(INT16)]                                    
     434                    ; 822 | volatile INT32       *pow2LUT;         // lookup table for pow(2.0, (P-
     435                    ;     | 140)/20)*2^20, where P = [0..280]                                      
     436                    ; 823 | //    [size = 281 * sizeof(INT32)]                                     
     437                    ; 824 | volatile INT32       *speedNoiseAdj;   // lookup table for the multipli
     438                    ;     | cative speed noise adj factor E(N) =                                   
     439                    ; 825 | //    (2^10) * (2^N - 2^(-N)) / (2 * ln(2) * N), where N=1..7.         
     440                    ; 826 | //    [size = 7 * sizeof(INT32)]                                       
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE    9

     441                    ; 838 | #if defined(_TGTDAKARF5)                                             //
     442                    ;     |  inits: init board, PCI interface, and                                 
     443                    ; 839 | C4X_Open( SHARED_SRAM_512K );                                     // DS
     444                    ;     | PLINK3. not all operations are required                                
     445                    ; 840 | *((UINT32 *)0xC0200004) = 0x00000001;                             // fo
     446                    ;     | r every DSP target...                                                  
     447                    ; 841 | *((UINT32 *)0xC0200004) = 0x00000000;                                  
     448                    ; 842 | #elif defined(_TGTDETROIT)                                             
     449                    ;------------------------------------------------------------------------------
     450                    
     451                    ;******************************************************************************
     452                    ;* FUNCTION NAME: _main                                                       *
     453                    ;*                                                                            *
     454                    ;*   Regs Modified     : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,A14,   *
     455                    ;*                           A15,B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10,B11,B12,SP *
     456                    ;*   Regs Used         : A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,A14,   *
     457                    ;*                           A15,B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10,B11,B12,SP *
     458                    ;*   Local Frame Size  : 0 Args + 224 Auto + 40 Save = 264 byte               *
     459                    ;******************************************************************************
     460 000000e8           _main:
     461                    ;** --------------------------------------------------------------------------*
     462                            .sym    _hv,4, 3, 1, 16
     463                            .sym    _vv,6, 3, 1, 16
     464                            .sym    _hw,8, 3, 1, 16
     465                            .sym    _vw,10, 3, 1, 16
     466                            .sym    _nDotLifeDecr,12, 3, 1, 16
     467                            .sym    _i32val,27, 4, 4, 32
     468                            .sym    _x32,16, 4, 1, 32
     469                            .sym    _y32,20, 4, 1, 32
     470                            .sym    _i16Theta,24, 3, 1, 16
     471                            .sym    _i16Scale,26, 3, 1, 16
     472                            .sym    _xCoord,10, 13, 4, 16
     473                            .sym    _yCoord,11, 13, 4, 16
     474                            .sym    _rectR,8, 13, 4, 16
     475                            .sym    _rectL,24, 13, 4, 16
     476                            .sym    _rectU,13, 13, 4, 16
     477                            .sym    _rectD,25, 13, 4, 16
     478                            .sym    _rectW,28, 13, 1, 16
     479                            .sym    _rectH,30, 13, 1, 16
     480                            .sym    _screenW_mm,32, 13, 1, 16
     481                            .sym    _screenH_mm,34, 13, 1, 16
     482                            .sym    _u16Type,36, 13, 1, 16
     483                            .sym    _u16Dummy,38, 13, 1, 16
     484                            .sym    _u16tmp,40, 13, 1, 16
     485                            .sym    _u16Over,42, 13, 1, 16
     486                            .sym    _nMaxDotLife,44, 13, 1, 16
     487                            .sym    _command,48, 14, 1, 32
     488                            .sym    _status,52, 14, 1, 32
     489                            .sym    _xyvals,56, 14, 1, 32
     490                            .sym    _timdurbyte,60, 14, 1, 32
     491                            .sym    _timdelnib,64, 14, 1, 32
     492                            .sym    _timvals,68, 14, 1, 32
     493                            .sym    _locaddr,72, 30, 1, 32
     494                            .sym    _stataddr,76, 30, 1, 32
     495                            .sym    _timaddr,80, 30, 1, 32
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   10

     496                            .sym    _i,84, 14, 1, 32
     497                            .sym    _j,88, 14, 1, 32
     498                            .sym    _k,92, 14, 1, 32
     499                            .sym    _l,96, 14, 1, 32
     500                            .sym    _m,100, 14, 1, 32
     501                            .sym    _d,104, 14, 1, 32
     502                            .sym    _cd,108, 14, 1, 32
     503                            .sym    _dotPosOffset,112, 14, 1, 32
     504                            .sym    _nTotalVisDots,12, 14, 4, 32
     505                            .sym    _maxRepeats,116, 14, 1, 32
     506                            .sym    _dDummy,120, 7, 1, 64
     507                            .sym    _a,9, 29, 4, 32
     508                            .sym    _b,7, 29, 4, 32
     509                            .sym    _de,14, 29, 4, 32
     510                            .sym    _xdotpos,128, 29, 1, 32
     511                            .sym    _ydotpos,132, 29, 1, 32
     512                            .sym    _dotLife,136, 19, 1, 32
     513                            .sym    _nextDotLife,140, 19, 1, 32
     514                            .sym    _dotNoise,144, 19, 1, 32
     515                            .sym    _nextDotNoise,148, 19, 1, 32
     516                            .sym    _fracDX,152, 19, 1, 32
     517                            .sym    _nextFracDX,156, 19, 1, 32
     518                            .sym    _fracDY,160, 19, 1, 32
     519                            .sym    _nextFracDY,164, 19, 1, 32
     520                            .sym    _parameters,168, 24, 1, 32, _Parameters
     521                            .sym    _hsize,172, 29, 1, 32
     522                            .sym    _vsize,176, 29, 1, 32
     523                            .sym    _nRedrawsLeft,180, 29, 1, 32
     524                            .sym    _nVisDotsPerTgt,184, 29, 1, 32
     525                            .sym    _nNoiseUpdTicks,188, 19, 1, 32
     526                            .sym    _visibleDotsXY,192, 30, 1, 32
     527                            .sym    _SharedArray,196, 30, 1, 32
     528                            .sym    _data,200, 19, 1, 32
     529                            .sym    _tanLUT,204, 19, 1, 32
     530                            .sym    _sincosLUT,208, 19, 1, 32
     531                            .sym    _sinLUT,212, 19, 1, 32
     532                            .sym    _cosLUT,216, 19, 1, 32
     533                            .sym    _pow2LUT,220, 20, 1, 32
     534                            .sym    _speedNoiseAdj,224, 20, 1, 32
     536 000000ec 050039FC             STW     .D2T1   A10,*+SP(228)     ; |722| 
     535 000000e8 07FF7C52             ADDK    .S2     -264,SP           ; |722| 
     537 000000f0 05803AFC             STW     .D2T1   A11,*+SP(232)     ; |722| 
     538 000000f4 06003BFC             STW     .D2T1   A12,*+SP(236)     ; |722| 
     539 000000f8 06803CFC             STW     .D2T1   A13,*+SP(240)     ; |722| 
     540 000000fc 07003DFC             STW     .D2T1   A14,*+SP(244)     ; |722| 
     541 00000100 01803EFE             STW     .D2T2   B3,*+SP(248)      ; |722| 
     542 00000104 05003FFE             STW     .D2T2   B10,*+SP(252)     ; |722| 
     543 00000108 058040FE             STW     .D2T2   B11,*+SP(256)     ; |722| 
     544 0000010c 060041FE             STW     .D2T2   B12,*+SP(260)     ; |722| 
     545 00000110 078042FC             STW     .D2T1   A15,*+SP(264)     ; |722| 
     546                            .line   122
     547                    ;------------------------------------------------------------------------------
     548                    ; 843 | C6x_OpenC6x( NO_FLAGS );                                               
     549                    ;------------------------------------------------------------------------------
     550 00000114 0FFFE010!            B       .S1     _C6x_OpenC6x      ; |843| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   11

     551 00000118 0180942A'            MVKL    .S2     RL84,B3           ; |843| 
     552 0000011c 0180006A'            MVKH    .S2     RL84,B3           ; |843| 
     553 00000120 020000F8             ZERO    .L1     A4                ; |843| 
     554 00000124 00002000             NOP             2
     555 00000128           RL84:      ; CALL OCCURS                     ; |843| 
     556                            .line   123
     557                    ;------------------------------------------------------------------------------
     558                    ; 844 | C6x_OpenPlx( NO_FLAGS );                                               
     559                    ;------------------------------------------------------------------------------
     561 0000012c 01809E2A'            MVKL    .S2     RL86,B3           ; |844| 
     560 00000128 0FFFDC10!            B       .S1     _C6x_OpenPlx      ; |844| 
     562 00000130 0180006A'            MVKH    .S2     RL86,B3           ; |844| 
     563 00000134 020000F8             ZERO    .L1     A4                ; |844| 
     564 00000138 00002000             NOP             2
     565 0000013c           RL86:      ; CALL OCCURS                     ; |844| 
     566                            .line   124
     567                    ;------------------------------------------------------------------------------
     568                    ; 845 | C6x_ControlResetDspLink3( DE62_CONTROL_RELEASE_DL3_RESET );            
     569                    ;------------------------------------------------------------------------------
     571 00000140 0180A82A'            MVKL    .S2     RL88,B3           ; |845| 
     570 0000013c 0FFFDC10!            B       .S1     _C6x_ControlResetDspLink3 ; |845| 
     572 00000144 0180006A'            MVKH    .S2     RL88,B3           ; |845| 
     573 00000148 02000128             MVK     .S1     0x2,A4            ; |845| 
     574 0000014c 00002000             NOP             2
     575 00000150           RL88:      ; CALL OCCURS                     ; |845| 
     576                            .line   125
     577                    ;------------------------------------------------------------------------------
     578                    ; 846 | C6x_ControlLed( DE62_C6X_CONTROL_LED_GP_OFF );                         
     579                    ; 847 | #else    // _TGTDAYTONA                                                
     580                    ; 848 | C6x_OpenC6x( NO_FLAGS );                                               
     581                    ; 849 | C6x_OpenHurricane( NO_FLAGS );                                         
     582                    ; 850 | C6x_ControlResetDspLink3( FT_CONTROL_RELEASE_DL3_RESET );              
     583                    ; 851 | C6x_ControlLed( FT_C6X_LED_0_OFF | FT_C6X_LED_1_OFF );                 
     584                    ; 852 | #endif                                                                 
     585                    ;------------------------------------------------------------------------------
     587 00000154 0180B22A'            MVKL    .S2     RL90,B3           ; |846| 
     586 00000150 0FFFD810!            B       .S1     _C6x_ControlLed   ; |846| 
     588 00000158 0180006A'            MVKH    .S2     RL90,B3           ; |846| 
     589 0000015c 02000128             MVK     .S1     0x2,A4            ; |846| 
     590 00000160 00002000             NOP             2
     591 00000164           RL90:      ; CALL OCCURS                     ; |846| 
     592                            .line   133
     593                    ;------------------------------------------------------------------------------
     594                    ; 854 | locaddr = (UINT32 *) LOCADDR;                                        //
     595                    ;     |  set up addresses to access dotter board regs                          
     596                    ;------------------------------------------------------------------------------
     598 00000168 0200BA6A             MVKH    .S2     0x1740000,B4      ; |854| 
     597 00000164 020000FA             ZERO    .L2     B4                ; |854| 
     599 0000016c 023E42F6             STW     .D2T2   B4,*+SP(72)       ; |854| 
     600                            .line   134
     601                    ;------------------------------------------------------------------------------
     602                    ; 855 | stataddr = (UINT32 *) STATADDR;                                        
     603                    ;------------------------------------------------------------------------------
     604 00000170 020000FA             ZERO    .L2     B4                ; |855| 
     605 00000174 0200BA6A             MVKH    .S2     0x1740000,B4      ; |855| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   12

     606 00000178 023E62F6             STW     .D2T2   B4,*+SP(76)       ; |855| 
     607                            .line   135
     608                    ;------------------------------------------------------------------------------
     609                    ; 856 | timaddr = (UINT32 *) TIMADDR;                                          
     610                    ;------------------------------------------------------------------------------
     611 0000017c 00000228             MVKL    .S1     0x1740004,A0      ; |856| 
     612 00000180 0000BA68             MVKH    .S1     0x1740004,A0      ; |856| 
     613 00000184 003E82F4             STW     .D2T1   A0,*+SP(80)       ; |856| 
     614                            .line   137
     615                    ;------------------------------------------------------------------------------
     616                    ; 858 | SharedArray = (UINT32*) SHDATA_BASE;                                 //
     617                    ;     |  "allocate" all program array in the local                             
     618                    ;------------------------------------------------------------------------------
     619 00000188 020000FA             ZERO    .L2     B4                ; |858| 
     620 0000018c 0200A06A             MVKH    .S2     0x1400000,B4      ; |858| 
     621 00000190 020031FE             STW     .D2T2   B4,*+SP(196)      ; |858| 
     622                            .line   138
     623                    ;------------------------------------------------------------------------------
     624                    ; 859 | data = (INT16*) ((UINT32)SHDATA_BASE + (UINT32)sizeof(PARAMETERS));  //
     625                    ;     |  processor's memory map by assigning the                               
     626                    ; 860 | // approp memory addresses to pointer vars...                          
     627                    ;------------------------------------------------------------------------------
     628 00000194 02014A2A             MVKL    .S2     0x1400294,B4      ; |859| 
     629 00000198 0200A06A             MVKH    .S2     0x1400294,B4      ; |859| 
     630 0000019c 020032FE             STW     .D2T2   B4,*+SP(200)      ; |859| 
     631                            .line   140
     632                    ;------------------------------------------------------------------------------
     633                    ; 861 | i = 0;                                                                 
     634                    ; 862 | #if defined(_TGTDETROIT)                                             //
     635                    ;     |  for the Detroit, dot pos arrays are stored                            
     636                    ;------------------------------------------------------------------------------
     637 000001a0 020000FA             ZERO    .L2     B4                ; |861| 
     638 000001a4 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |861| 
     639                            .line   142
     640                    ;------------------------------------------------------------------------------
     641                    ; 863 | xdotpos = (UINT16 *) DE62_C6X_LOCAL_SSRAM_START;                  // in
     642                    ;     |  a faster "local memory" region than the                               
     643                    ;------------------------------------------------------------------------------
     644 000001a8 000000F8             ZERO    .L1     A0                ; |863| 
     645 000001ac 00002068             MVKH    .S1     0x400000,A0       ; |863| 
     646 000001b0 000020FC             STW     .D2T1   A0,*+SP(128)      ; |863| 
     647                            .line   143
     648                    ;------------------------------------------------------------------------------
     649                    ; 864 | i += MAXTOTALDOTS * sizeof(UINT16);                               // ot
     650                    ;     | her vars: SSRAM is ~5% faster than SDRAM                               
     651                    ;------------------------------------------------------------------------------
     652 000001b4 029D4C2A             MVK     .S2     15000,B5          ; |864| 
     653 000001b8 0210BC42             ADDAW   .D2     B4,B5,B4          ; |864| 
     654 000001bc 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |864| 
     655                            .line   144
     656                    ;------------------------------------------------------------------------------
     657                    ; 865 | ydotpos = (UINT16 *) (DE62_C6X_LOCAL_SSRAM_START + i);                 
     658                    ;------------------------------------------------------------------------------
     659 000001c0 000000F8             ZERO    .L1     A0                ; |865| 
     660 000001c4 00002068             MVKH    .S1     0x400000,A0       ; |865| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   13

     661 000001c8 0200907A             ADD     .L2X    A0,B4,B4          ; 
     662 000001cc 020021FE             STW     .D2T2   B4,*+SP(132)      ; |865| 
     663                            .line   145
     664                    ;------------------------------------------------------------------------------
     665                    ; 866 | i = 0;                                                                 
     666                    ; 867 | #else    // _TGTDAYTONA, _TGTDAKARF5                                   
     667                    ; 868 | xdotpos = (UINT16 *) LOCALDATA_BASE;                                   
     668                    ; 869 | i += MAXTOTALDOTS * sizeof(UINT16);                                    
     669                    ; 870 | ydotpos = (UINT16 *) (LOCALDATA_BASE + i);                             
     670                    ; 871 | i += MAXTOTALDOTS * sizeof(UINT16);                                    
     671                    ; 872 | #endif                                                                 
     672                    ;------------------------------------------------------------------------------
     673 000001d0 000000F8             ZERO    .L1     A0                ; |866| 
     674 000001d4 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |866| 
     675                            .line   153
     676                    ;------------------------------------------------------------------------------
     677                    ; 874 | dotLife = (volatile INT16 *) (LOCALDATA_BASE + i);                   //
     678                    ;     |  REM: sizeof() returns sizes in units of the                           
     679                    ;------------------------------------------------------------------------------
     680 000001d8 020000FA             ZERO    .L2     B4                ; |874| 
     681 000001dc 0201006A             MVKH    .S2     0x2000000,B4      ; |874| 
     682 000001e0 01901078             ADD     .L1X    B4,A0,A3          ; 
     683 000001e4 018022FC             STW     .D2T1   A3,*+SP(136)      ; |874| 
     684                            .line   154
     685                    ;------------------------------------------------------------------------------
     686                    ; 875 | i += MAXTOTALDOTS * sizeof(INT16);                                   //
     687                    ;     |  fundamental data size of tgt processor. On                            
     688                    ;------------------------------------------------------------------------------
     689 000001e8 019D4C28             MVK     .S1     15000,A3          ; |875| 
     690 000001ec 00007C40             ADDAW   .D1     A0,A3,A0          ; |875| 
     691 000001f0 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |875| 
     692                            .line   155
     693                    ;------------------------------------------------------------------------------
     694                    ; 876 | dotNoise = (volatile INT16 *) (LOCALDATA_BASE + i);                  //
     695                    ;     |  the Detroit/Daytona, this is a byte, but on                           
     696                    ;------------------------------------------------------------------------------
     697 000001f4 018000F8             ZERO    .L1     A3                ; |876| 
     698 000001f8 01810068             MVKH    .S1     0x2000000,A3      ; |876| 
     699 000001fc 01806078             ADD     .L1     A3,A0,A3          ; 
     700 00000200 018024FC             STW     .D2T1   A3,*+SP(144)      ; |876| 
     701                            .line   156
     702                    ;------------------------------------------------------------------------------
     703                    ; 877 | i += MAXTOTALDOTS * sizeof(INT16);                                   //
     704                    ;     |  the Dakar it is a 4-byte word.  All arrays                            
     705                    ;------------------------------------------------------------------------------
     706 00000204 019D4C28             MVK     .S1     15000,A3          ; |877| 
     707 00000208 00007C40             ADDAW   .D1     A0,A3,A0          ; |877| 
     708 0000020c 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |877| 
     709                            .line   157
     710                    ;------------------------------------------------------------------------------
     711                    ; 878 | fracDX = (volatile INT16 *) (LOCALDATA_BASE + i);                    //
     712                    ;     |  on the Dakar will be INT32 or UINT32,                                 
     713                    ;------------------------------------------------------------------------------
     714 00000210 020000FA             ZERO    .L2     B4                ; |878| 
     715 00000214 0201006A             MVKH    .S2     0x2000000,B4      ; |878| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   14

     716 00000218 0200907A             ADD     .L2X    B4,A0,B4          ; 
     717 0000021c 020026FE             STW     .D2T2   B4,*+SP(152)      ; |878| 
     718                            .line   158
     719                    ;------------------------------------------------------------------------------
     720                    ; 879 | i += MAXTOTALDOTS * sizeof(INT16);                                   //
     721                    ;     |  regardless of the types we use here!!!!!                              
     722                    ;------------------------------------------------------------------------------
     723 00000220 01807C40             ADDAW   .D1     A0,A3,A3          ; |879| 
     724 00000224 01BEA2F4             STW     .D2T1   A3,*+SP(84)       ; |879| 
     725                            .line   159
     726                    ;------------------------------------------------------------------------------
     727                    ; 880 | fracDY = (volatile INT16 *) (LOCALDATA_BASE + i);                      
     728                    ;------------------------------------------------------------------------------
     729 00000228 000000F8             ZERO    .L1     A0                ; |880| 
     730 0000022c 00010068             MVKH    .S1     0x2000000,A0      ; |880| 
     731 00000230 000C0078             ADD     .L1     A0,A3,A0          ; 
     732 00000234 000028FC             STW     .D2T1   A0,*+SP(160)      ; |880| 
     733                            .line   160
     734                    ;------------------------------------------------------------------------------
     735                    ; 881 | i += MAXTOTALDOTS * sizeof(INT16);                                     
     736                    ;------------------------------------------------------------------------------
     737 00000238 001D4C28             MVK     .S1     15000,A0          ; |881| 
     738 0000023c 000C1C40             ADDAW   .D1     A3,A0,A0          ; |881| 
     739 00000240 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |881| 
     740                            .line   161
     741                    ;------------------------------------------------------------------------------
     742                    ; 882 | hsize = (volatile UINT16 *) (LOCALDATA_BASE + i);                      
     743                    ;------------------------------------------------------------------------------
     744 00000244 020000FA             ZERO    .L2     B4                ; |882| 
     745 00000248 0201006A             MVKH    .S2     0x2000000,B4      ; |882| 
     746 0000024c 0200907A             ADD     .L2X    B4,A0,B4          ; 
     747 00000250 02002BFE             STW     .D2T2   B4,*+SP(172)      ; |882| 
     748                            .line   162
     749                    ;------------------------------------------------------------------------------
     750                    ; 883 | i += MAX_TARGETS * sizeof(UINT16);                                     
     751                    ;------------------------------------------------------------------------------
     752 00000254 00002050             ADDK    .S1     64,A0             ; |883| 
     753 00000258 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |883| 
     754                            .line   163
     755                    ;------------------------------------------------------------------------------
     756                    ; 884 | vsize = (volatile UINT16 *) (LOCALDATA_BASE + i);                      
     757                    ;------------------------------------------------------------------------------
     758 0000025c 018000F8             ZERO    .L1     A3                ; |884| 
     759 00000260 01810068             MVKH    .S1     0x2000000,A3      ; |884| 
     760 00000264 01806078             ADD     .L1     A3,A0,A3          ; 
     761 00000268 01802CFC             STW     .D2T1   A3,*+SP(176)      ; |884| 
     762                            .line   164
     763                    ;------------------------------------------------------------------------------
     764                    ; 885 | i += MAX_TARGETS * sizeof(UINT16);                                     
     765                    ;------------------------------------------------------------------------------
     766 0000026c 00002050             ADDK    .S1     64,A0             ; |885| 
     767 00000270 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |885| 
     768                            .line   165
     769                    ;------------------------------------------------------------------------------
     770                    ; 886 | nRedrawsLeft = (volatile UINT16 *) (LOCALDATA_BASE + i);               
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   15

     771                    ;------------------------------------------------------------------------------
     772 00000274 020000FA             ZERO    .L2     B4                ; |886| 
     773 00000278 0201006A             MVKH    .S2     0x2000000,B4      ; |886| 
     774 0000027c 0200907A             ADD     .L2X    B4,A0,B4          ; 
     775 00000280 02002DFE             STW     .D2T2   B4,*+SP(180)      ; |886| 
     776                            .line   166
     777                    ;------------------------------------------------------------------------------
     778                    ; 887 | i += MAX_TARGETS * sizeof(UINT16);                                     
     779                    ;------------------------------------------------------------------------------
     780 00000284 00002050             ADDK    .S1     64,A0             ; |887| 
     781 00000288 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |887| 
     782                            .line   167
     783                    ;------------------------------------------------------------------------------
     784                    ; 888 | nVisDotsPerTgt = (volatile UINT16 *) (LOCALDATA_BASE + i);             
     785                    ;------------------------------------------------------------------------------
     786 0000028c 020000FA             ZERO    .L2     B4                ; |888| 
     787 00000290 0201006A             MVKH    .S2     0x2000000,B4      ; |888| 
     788 00000294 0200907A             ADD     .L2X    B4,A0,B4          ; 
     789 00000298 02002EFE             STW     .D2T2   B4,*+SP(184)      ; |888| 
     790                            .line   168
     791                    ;------------------------------------------------------------------------------
     792                    ; 889 | i += MAX_TARGETS * sizeof(UINT16);                                     
     793                    ;------------------------------------------------------------------------------
     794 0000029c 00002050             ADDK    .S1     64,A0             ; |889| 
     795 000002a0 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |889| 
     796                            .line   169
     797                    ;------------------------------------------------------------------------------
     798                    ; 890 | nNoiseUpdTicks = (volatile INT16 *) (LOCALDATA_BASE + i);              
     799                    ;------------------------------------------------------------------------------
     800 000002a4 020000FA             ZERO    .L2     B4                ; |890| 
     801 000002a8 0201006A             MVKH    .S2     0x2000000,B4      ; |890| 
     802 000002ac 0200907A             ADD     .L2X    B4,A0,B4          ; 
     803 000002b0 02002FFE             STW     .D2T2   B4,*+SP(188)      ; |890| 
     804                            .line   170
     805                    ;------------------------------------------------------------------------------
     806                    ; 891 | i += MAX_TARGETS * sizeof(INT16);                                      
     807                    ;------------------------------------------------------------------------------
     808 000002b4 00002050             ADDK    .S1     64,A0             ; |891| 
     809 000002b8 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |891| 
     810                            .line   171
     811                    ;------------------------------------------------------------------------------
     812                    ; 892 | visibleDotsXY = (volatile UINT32 *) (LOCALDATA_BASE + i);              
     813                    ;------------------------------------------------------------------------------
     814 000002bc 020000FA             ZERO    .L2     B4                ; |892| 
     815 000002c0 0201006A             MVKH    .S2     0x2000000,B4      ; |892| 
     816 000002c4 0200907A             ADD     .L2X    B4,A0,B4          ; 
     817 000002c8 020030FE             STW     .D2T2   B4,*+SP(192)      ; |892| 
     818                            .line   172
     819                    ;------------------------------------------------------------------------------
     820                    ; 893 | i += MAXDOTSPERFRAME * sizeof(UINT32);                                 
     821                    ;------------------------------------------------------------------------------
     822                    ;** --------------------------------------------------------------------------*
     823 000002cc 001F4050             ADDK    .S1     16000,A0          ; |893| 
     824 000002d0 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |893| 
     825                            .line   174
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   16

     826                    ;------------------------------------------------------------------------------
     827                    ; 895 | tanLUT = (volatile INT16 *) (LOCALDATA_BASE + i);                    //
     828                    ;     |  lookup tables for OPTICFLOW animation calcs!                          
     829                    ;------------------------------------------------------------------------------
     830 000002d4 018000F8             ZERO    .L1     A3                ; |895| 
     831 000002d8 01810068             MVKH    .S1     0x2000000,A3      ; |895| 
     832 000002dc 01806078             ADD     .L1     A3,A0,A3          ; 
     833 000002e0 018033FC             STW     .D2T1   A3,*+SP(204)      ; |895| 
     834                            .line   175
     835                    ;------------------------------------------------------------------------------
     836                    ; 896 | i += 4500 * sizeof(INT16);                                             
     837                    ;------------------------------------------------------------------------------
     838 000002e4 00119450             ADDK    .S1     9000,A0           ; |896| 
     839 000002e8 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |896| 
     840                            .line   176
     841                    ;------------------------------------------------------------------------------
     842                    ; 897 | sincosLUT = (volatile INT16 *) (LOCALDATA_BASE + i);                   
     843                    ;------------------------------------------------------------------------------
     844 000002ec 020000FA             ZERO    .L2     B4                ; |897| 
     845 000002f0 0201006A             MVKH    .S2     0x2000000,B4      ; |897| 
     846 000002f4 0200907A             ADD     .L2X    B4,A0,B4          ; 
     847 000002f8 020034FE             STW     .D2T2   B4,*+SP(208)      ; |897| 
     848                            .line   177
     849                    ;------------------------------------------------------------------------------
     850                    ; 898 | i += 4500 * sizeof(INT16);                                             
     851                    ;------------------------------------------------------------------------------
     852 000002fc 00119450             ADDK    .S1     9000,A0           ; |898| 
     853 00000300 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |898| 
     854                            .line   178
     855                    ;------------------------------------------------------------------------------
     856                    ; 899 | sinLUT = (volatile INT16 *) (LOCALDATA_BASE + i);                      
     857                    ;------------------------------------------------------------------------------
     858 00000304 018000F8             ZERO    .L1     A3                ; |899| 
     859 00000308 01810068             MVKH    .S1     0x2000000,A3      ; |899| 
     860 0000030c 01806078             ADD     .L1     A3,A0,A3          ; 
     861 00000310 018035FC             STW     .D2T1   A3,*+SP(212)      ; |899| 
     862                            .line   179
     863                    ;------------------------------------------------------------------------------
     864                    ; 900 | i += 3600 * sizeof(INT16);                                             
     865                    ;------------------------------------------------------------------------------
     866 00000314 000E1050             ADDK    .S1     7200,A0           ; |900| 
     867 00000318 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |900| 
     868                            .line   180
     869                    ;------------------------------------------------------------------------------
     870                    ; 901 | cosLUT = (volatile INT16 *) (LOCALDATA_BASE + i);                      
     871                    ;------------------------------------------------------------------------------
     872 0000031c 020000FA             ZERO    .L2     B4                ; |901| 
     873 00000320 0201006A             MVKH    .S2     0x2000000,B4      ; |901| 
     874 00000324 0200907A             ADD     .L2X    B4,A0,B4          ; 
     875 00000328 020036FE             STW     .D2T2   B4,*+SP(216)      ; |901| 
     876                            .line   181
     877                    ;------------------------------------------------------------------------------
     878                    ; 902 | i += 3600 * sizeof(INT16);                                             
     879                    ;------------------------------------------------------------------------------
     880 0000032c 000E1050             ADDK    .S1     7200,A0           ; |902| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   17

     881 00000330 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |902| 
     882                            .line   183
     883                    ;------------------------------------------------------------------------------
     884                    ; 904 | pow2LUT = (volatile INT32 *) (LOCALDATA_BASE + i);                   //
     885                    ;     |  special lookup tables for NOISYSPEED target's                         
     886                    ;------------------------------------------------------------------------------
     887 00000334 020000FA             ZERO    .L2     B4                ; |904| 
     888 00000338 0201006A             MVKH    .S2     0x2000000,B4      ; |904| 
     889 0000033c 0200907A             ADD     .L2X    B4,A0,B4          ; 
     890 00000340 020037FE             STW     .D2T2   B4,*+SP(220)      ; |904| 
     891                            .line   184
     892                    ;------------------------------------------------------------------------------
     893                    ; 905 | i += 281 * sizeof(INT32);                                            //
     894                    ;     |  multiplicative noise algorithm                                        
     895                    ;------------------------------------------------------------------------------
     896 00000344 00023250             ADDK    .S1     1124,A0           ; |905| 
     897 00000348 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |905| 
     898                            .line   185
     899                    ;------------------------------------------------------------------------------
     900                    ; 906 | speedNoiseAdj = (volatile INT32 *) (LOCALDATA_BASE + i);               
     901                    ;------------------------------------------------------------------------------
     902 0000034c 018000F8             ZERO    .L1     A3                ; |906| 
     903 00000350 01810068             MVKH    .S1     0x2000000,A3      ; |906| 
     904 00000354 01806078             ADD     .L1     A3,A0,A3          ; 
     905 00000358 018038FC             STW     .D2T1   A3,*+SP(224)      ; |906| 
     906                            .line   186
     907                    ;------------------------------------------------------------------------------
     908                    ; 907 | i += 7 * sizeof(INT32);                                                
     909                    ;------------------------------------------------------------------------------
     910 0000035c 00000E50             ADDK    .S1     28,A0             ; |907| 
     911 00000360 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |907| 
     912                            .line   188
     913                    ;------------------------------------------------------------------------------
     914                    ; 909 | parameters = (volatile PARAMETERS *) (LOCALDATA_BASE + i);             
     915                    ;------------------------------------------------------------------------------
     916 00000364 020000FA             ZERO    .L2     B4                ; |909| 
     917 00000368 0201006A             MVKH    .S2     0x2000000,B4      ; |909| 
     918 0000036c 0200907A             ADD     .L2X    B4,A0,B4          ; 
     919 00000370 02002AFE             STW     .D2T2   B4,*+SP(168)      ; |909| 
     920                            .line   189
     921                    ;------------------------------------------------------------------------------
     922                    ; 910 | i += sizeof( PARAMETERS );                                             
     923                    ;------------------------------------------------------------------------------
     924 00000374 00014A50             ADDK    .S1     660,A0            ; |910| 
     925 00000378 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |910| 
     926                            .line   193
     927                    ;------------------------------------------------------------------------------
     928                    ; 914 | command = status = XYCORE_READY;                                     //
     929                    ;     |  initialize CmdStat register: Detroit and                              
     930                    ; 915 | #if defined(_TGTDAKARF5)                                             //
     931                    ;     |  Dakar use PCI runtime mailbox reg#2 for                               
     932                    ; 916 | C4X_Control( PCI, SET_MAILBOX, 2, &status );                      // th
     933                    ;     | is, while Daytona (NodeA) uses the first                               
     934                    ; 917 | #elif defined(_TGTDETROIT)                                           //
     935                    ;     |  32bit word in its SSRAM...                                            
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   18

     936                    ;------------------------------------------------------------------------------
     937 0000037c 020000AA             MVK     .S2     0x1,B4            ; |914| 
     938 00000380 023DA2F6             STW     .D2T2   B4,*+SP(52)       ; |914| 
     939 00000384 023D82F6             STW     .D2T2   B4,*+SP(48)       ; |914| 
     940                            .line   197
     941                    ;------------------------------------------------------------------------------
     942                    ; 918 | C6x_WritePlx( MAILBOX2_OFFSET, status );                          // NO
     943                    ;     | TE: We set "ready" status here so CXDRIVER                             
     944                    ; 919 | #else    // _TGTDAYTONA                                              //
     945                    ;     |  does not have to wait while we init the trig                          
     946                    ; 920 | *((UINT32 *)0x00400000) = status;                                 // ta
     947                    ;     | bles, which takes a while!                                             
     948                    ; 921 | #endif                                                                 
     949                    ;------------------------------------------------------------------------------
     950 00000388 0280642A             MVKL    .S2     0x16000c8,B5      ; |918| 
     951 0000038c 0280B06A             MVKH    .S2     0x16000c8,B5      ; |918| 
     952 00000390 021402F6             STW     .D2T2   B4,*B5            ; |918| 
     953                            .line   203
     954                    ;------------------------------------------------------------------------------
     955                    ; 924 | for( i = 0; i < 4500; i++ )                                          //
     956                    ;     |  initialize all lookup tables...                                       
     957                    ;------------------------------------------------------------------------------
     958 00000394 020000FA             ZERO    .L2     B4                ; |924| 
     959 00000398 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |924| 
     960 0000039c 0008CA28             MVK     .S1     4500,A0           ; |924| 
     961 000003a0 009019F8             CMPLTU  .L1X    B4,A0,A1          ; 
     962 000003a4 90003510     [!A1]   B       .S1     L2                ; |924| 
     963 000003a8 00008000             NOP             5
     964                               ; BRANCH OCCURS                   ; |924| 
     965                    ;*----------------------------------------------------------------------------*
     966                    ;*   SOFTWARE PIPELINE INFORMATION
     967                    ;*      Disqualified loop: software pipelining disabled
     968                    ;*----------------------------------------------------------------------------*
     969 000003ac           L1:    
     970                            .line   205
     971                    ;------------------------------------------------------------------------------
     972                    ; 926 | dDummy = ((double) i) * 0.00017453293;                            //   
     973                    ;     |  convert integer deg/100 to radians                                    
     974                    ;------------------------------------------------------------------------------
     976 000003b0 023EA2E4             LDW     .D2T1   *+SP(84),A4       ; |926| 
     975 000003ac 0FFF8C10!            B       .S1     __fltud           ; |926| 
     977 000003b4 0181E02A'            MVKL    .S2     RL94,B3           ; |926| 
     978 000003b8 0180006A'            MVKH    .S2     RL94,B3           ; |926| 
     979 000003bc 00002000             NOP             2
     980 000003c0           RL94:      ; CALL OCCURS                     ; |926| 
     981                    
     982 000003c0 0FFF8811!            B       .S1     __mpyd            ; |926| 
     983 000003c4 02F02D2A  ||         MVKL    .S2     0x3f26e05a,B5     ; |926| 
     984                    
     985 000003c8 027E182A             MVKL    .S2     0x73edfc30,B4     ; |926| 
     986 000003cc 029F936A             MVKH    .S2     0x3f26e05a,B5     ; |926| 
     987 000003d0 0181EE2A'            MVKL    .S2     RL96,B3           ; |926| 
     988 000003d4 0239F6EA             MVKH    .S2     0x73edfc30,B4     ; |926| 
     989 000003d8 0180006A'            MVKH    .S2     RL96,B3           ; |926| 
     990 000003dc           RL96:      ; CALL OCCURS                     ; |926| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   19

     991 000003dc 023FC2F4             STW     .D2T1   A4,*+SP(120)      ; |926| 
     992 000003e0 02BFE2F4             STW     .D2T1   A5,*+SP(124)      ; |926| 
     993                            .line   206
     994                    ;------------------------------------------------------------------------------
     995                    ; 927 | tanLUT[i] = (INT16) floor( 1024.0 * tan( dDummy ) + 0.5 );             
     996                    ;------------------------------------------------------------------------------
     997 000003e4 0FFF8410!            B       .S1     _tan              ; |927| 
     998 000003e8 0181FA2A'            MVKL    .S2     RL116,B3          ; |927| 
     999 000003ec 0180006A'            MVKH    .S2     RL116,B3          ; |927| 
    1000 000003f0 00004000             NOP             3
    1001 000003f4           RL116:     ; CALL OCCURS                     ; |927| 
    1002 000003f4 0FFF8410!            B       .S1     __mpyd            ; |927| 
    1003 000003f8 01820A2A'            MVKL    .S2     RL118,B3          ; |927| 
    1004 000003fc 0294105A             MV      .L2X    A5,B5             ; 
    1005 00000400 028000F8             ZERO    .L1     A5                ; |927| 
    1006 00000404 02A04868             MVKH    .S1     0x40900000,A5     ; |927| 
    1007                    
    1008 00000408 0180006B'            MVKH    .S2     RL118,B3          ; |927| 
    1009 0000040c 0210105B  ||         MV      .L2X    A4,B4             ; 
    1010 00000410 020000F8  ||         ZERO    .L1     A4                ; |927| 
    1011                    
    1012 00000414           RL118:     ; CALL OCCURS                     ; |927| 
    1013 00000414 0FFF8010!            B       .S1     __addd            ; |927| 
    1014 00000418 0182162A'            MVKL    .S2     RL120,B3          ; |927| 
    1015 0000041c 028000FA             ZERO    .L2     B5                ; |927| 
    1016 00000420 029FF06A             MVKH    .S2     0x3fe00000,B5     ; |927| 
    1017 00000424 0180006A'            MVKH    .S2     RL120,B3          ; |927| 
    1018 00000428 020000FA             ZERO    .L2     B4                ; |927| 
    1019 0000042c           RL120:     ; CALL OCCURS                     ; |927| 
    1020 0000042c 0FFF7C10!            B       .S1     _floor            ; |927| 
    1021 00000430 01821E2A'            MVKL    .S2     RL122,B3          ; |927| 
    1022 00000434 0180006A'            MVKH    .S2     RL122,B3          ; |927| 
    1023 00000438 00004000             NOP             3
    1024 0000043c           RL122:     ; CALL OCCURS                     ; |927| 
    1025 0000043c 0FFF7C10!            B       .S1     __fixdi           ; |927| 
    1026 00000440 0182262A'            MVKL    .S2     RL124,B3          ; |927| 
    1027 00000444 0180006A'            MVKH    .S2     RL124,B3          ; |927| 
    1028 00000448 00004000             NOP             3
    1029 0000044c           RL124:     ; CALL OCCURS                     ; |927| 
    1030 0000044c 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |927| 
    1031 00000450 028033EE             LDW     .D2T2   *+SP(204),B5      ; |927| 
    1032 00000454 00121048             EXT     .S1     A4,16,16,A0       ; |927| 
    1033 00000458 00004000             NOP             3
    1034 0000045c 00148AD4             STH     .D2T1   A0,*+B5[B4]       ; |927| 
    1035                            .line   207
    1036                    ;------------------------------------------------------------------------------
    1037                    ; 928 | sincosLUT[i] = (INT16) floor( 1024.0 * sin( dDummy ) * cos( dDummy ) + 
    1038                    ;     | 0.5 );                                                                 
    1039                    ;------------------------------------------------------------------------------
    1040                    
    1041 00000460 0FFF7411!            B       .S1     _sin              ; |928| 
    1042 00000464 02BFE2E4  ||         LDW     .D2T1   *+SP(124),A5      ; |928| 
    1043                    
    1044 00000468 023FC2E4             LDW     .D2T1   *+SP(120),A4      ; |928| 
    1045 0000046c 01823C2A'            MVKL    .S2     RL168,B3          ; |928| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   20

    1046 00000470 0180006A'            MVKH    .S2     RL168,B3          ; |928| 
    1047 00000474 00002000             NOP             2
    1048 00000478           RL168:     ; CALL OCCURS                     ; |928| 
    1049 00000478 0FFF7410!            B       .S1     __mpyd            ; |928| 
    1050 0000047c 0294105A             MV      .L2X    A5,B5             ; 
    1051 00000480 0210105A             MV      .L2X    A4,B4             ; 
    1052 00000484 0182502A'            MVKL    .S2     RL170,B3          ; |928| 
    1053 00000488 028000F8             ZERO    .L1     A5                ; |928| 
    1054                    
    1055 0000048c 0180006B'            MVKH    .S2     RL170,B3          ; |928| 
    1056 00000490 02A04869  ||         MVKH    .S1     0x40900000,A5     ; |928| 
    1057 00000494 020000F8  ||         ZERO    .L1     A4                ; |928| 
    1058                    
    1059 000004a0           RL170:     ; CALL OCCURS                     ; |928| 
    1060                    
    1061 000004a0 0FFF6C11!            B       .S1     _cos              ; |928| 
    1062 000004a4 05140059  ||         MV      .L1     A5,A10            ; 
    1063 000004a8 02BFE2E4  ||         LDW     .D2T1   *+SP(124),A5      ; |928| 
    1064                    
    1065 000004ac 05900059             MV      .L1     A4,A11            ; 
    1066 000004b0 023FC2E4  ||         LDW     .D2T1   *+SP(120),A4      ; |928| 
    1067                    
    1068 000004b4 0182602A'            MVKL    .S2     RL172,B3          ; |928| 
    1069 000004b8 0180006A'            MVKH    .S2     RL172,B3          ; |928| 
    1070 000004bc 00002000             NOP             2
    1071 000004c0           RL172:     ; CALL OCCURS                     ; |928| 
    1072 000004c0 0FFF6810!            B       .S1     __mpyd            ; |928| 
    1073 000004c4 0210105A             MV      .L2X    A4,B4             ; 
    1074 000004c8 0294105A             MV      .L2X    A5,B5             ; 
    1075 000004cc 01826E2A'            MVKL    .S2     RL174,B3          ; |928| 
    1076 000004d0 0180006A'            MVKH    .S2     RL174,B3          ; |928| 
    1077                    
    1078 000004d4 02A80059             MV      .L1     A10,A5            ; |928| 
    1079 000004d8 022C01A0  ||         MV      .S1     A11,A4            ; |928| 
    1080                    
    1081 000004dc           RL174:     ; CALL OCCURS                     ; |928| 
    1082                    ;** --------------------------------------------------------------------------*
    1083 000004dc 0FFF6810!            B       .S1     __addd            ; |928| 
    1084 000004e0 01827A2A'            MVKL    .S2     RL176,B3          ; |928| 
    1085 000004e4 0180006A'            MVKH    .S2     RL176,B3          ; |928| 
    1086 000004e8 028000FA             ZERO    .L2     B5                ; |928| 
    1087 000004ec 029FF06A             MVKH    .S2     0x3fe00000,B5     ; |928| 
    1088 000004f0 020000FA             ZERO    .L2     B4                ; |928| 
    1089 000004f4           RL176:     ; CALL OCCURS                     ; |928| 
    1090 000004f4 0FFF6410!            B       .S1     _floor            ; |928| 
    1091 000004f8 0182822A'            MVKL    .S2     RL178,B3          ; |928| 
    1092 000004fc 0180006A'            MVKH    .S2     RL178,B3          ; |928| 
    1093 00000500 00004000             NOP             3
    1094 00000504           RL178:     ; CALL OCCURS                     ; |928| 
    1095 00000504 0FFF6010!            B       .S1     __fixdi           ; |928| 
    1096 00000508 01828A2A'            MVKL    .S2     RL180,B3          ; |928| 
    1097 0000050c 0180006A'            MVKH    .S2     RL180,B3          ; |928| 
    1098 00000510 00004000             NOP             3
    1099 00000514           RL180:     ; CALL OCCURS                     ; |928| 
    1100 00000514 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |928| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   21

    1101 00000518 028034EE             LDW     .D2T2   *+SP(208),B5      ; |928| 
    1102 0000051c 00121048             EXT     .S1     A4,16,16,A0       ; |928| 
    1103 00000520 00004000             NOP             3
    1104 00000524 00148AD4             STH     .D2T1   A0,*+B5[B4]       ; |928| 
    1105                            .line   208
    1106 00000528 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |929| 
    1107 0000052c 00006000             NOP             4
    1108 00000530 0210205A             ADD     .L2     1,B4,B4           ; |929| 
    1109 00000534 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |929| 
    1110 00000538 0288CA2A             MVK     .S2     4500,B5           ; |929| 
    1111 0000053c 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    1112 00000540 2FFFCD90     [ B0]   B       .S1     L1                ; |929| 
    1113 00000544 00008000             NOP             5
    1114                               ; BRANCH OCCURS                   ; |929| 
    1115                    ;** --------------------------------------------------------------------------*
    1116 00000548           L2:    
    1117                            .line   209
    1118                    ;------------------------------------------------------------------------------
    1119                    ; 930 | for( i = 0; i < 3600; i++ )                                            
    1120                    ;------------------------------------------------------------------------------
    1122 0000054c 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |930| 
    1121 00000548 000000F8             ZERO    .L1     A0                ; |930| 
    1123 00000550 01870828             MVK     .S1     3600,A3           ; |930| 
    1124 00000554 008C0BF8             CMPLTU  .L1     A0,A3,A1          ; 
    1125 00000558 90002F90     [!A1]   B       .S1     L4                ; |930| 
    1126 0000055c 00008000             NOP             5
    1127                               ; BRANCH OCCURS                   ; |930| 
    1128                    ;*----------------------------------------------------------------------------*
    1129                    ;*   SOFTWARE PIPELINE INFORMATION
    1130                    ;*      Disqualified loop: software pipelining disabled
    1131                    ;*----------------------------------------------------------------------------*
    1132 00000560           L3:    
    1133                            .line   211
    1134                    ;------------------------------------------------------------------------------
    1135                    ; 932 | dDummy = ((double) i) * 0.0017453293;                             //   
    1136                    ;     |  convert integer deg/10 to radians                                     
    1137                    ;------------------------------------------------------------------------------
    1139 00000564 023EA2E4             LDW     .D2T1   *+SP(84),A4       ; |932| 
    1138 00000560 0FFF5410!            B       .S1     __fltud           ; |932| 
    1140 00000568 0182BA2A'            MVKL    .S2     RL184,B3          ; |932| 
    1141 0000056c 0180006A'            MVKH    .S2     RL184,B3          ; |932| 
    1142 00000570 00002000             NOP             2
    1143 00000574           RL184:     ; CALL OCCURS                     ; |932| 
    1144                    
    1145 00000574 0FFF5411!            B       .S1     __mpyd            ; |932| 
    1146 00000578 02CC38AA  ||         MVKL    .S2     0x3f5c9871,B5     ; |932| 
    1147                    
    1148 0000057c 023D9E2A             MVKL    .S2     0x10e97b3c,B4     ; |932| 
    1149 00000580 029FAE6A             MVKH    .S2     0x3f5c9871,B5     ; |932| 
    1150 00000584 0182C82A'            MVKL    .S2     RL186,B3          ; |932| 
    1151 00000588 020874EA             MVKH    .S2     0x10e97b3c,B4     ; |932| 
    1152 0000058c 0180006A'            MVKH    .S2     RL186,B3          ; |932| 
    1153 00000590           RL186:     ; CALL OCCURS                     ; |932| 
    1154 00000590 023FC2F4             STW     .D2T1   A4,*+SP(120)      ; |932| 
    1155 00000594 02BFE2F4             STW     .D2T1   A5,*+SP(124)      ; |932| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   22

    1156                            .line   212
    1157                    ;------------------------------------------------------------------------------
    1158                    ; 933 | sinLUT[i] = (INT16) floor( 1024.0 * sin( dDummy ) + 0.5 );             
    1159                    ;------------------------------------------------------------------------------
    1160 00000598 0FFF5010!            B       .S1     _sin              ; |933| 
    1161 0000059c 0182D42A'            MVKL    .S2     RL206,B3          ; |933| 
    1162 000005a0 0180006A'            MVKH    .S2     RL206,B3          ; |933| 
    1163 000005a4 00004000             NOP             3
    1164 000005a8           RL206:     ; CALL OCCURS                     ; |933| 
    1165 000005a8 0FFF4C10!            B       .S1     __mpyd            ; |933| 
    1166 000005ac 0182E62A'            MVKL    .S2     RL208,B3          ; |933| 
    1167 000005b0 0294105A             MV      .L2X    A5,B5             ; 
    1168 000005b4 028000F8             ZERO    .L1     A5                ; |933| 
    1169 000005b8 02A04868             MVKH    .S1     0x40900000,A5     ; |933| 
    1170                    
    1171 000005c0 0180006B'            MVKH    .S2     RL208,B3          ; |933| 
    1172 000005c4 0210105B  ||         MV      .L2X    A4,B4             ; 
    1173 000005c8 020000F8  ||         ZERO    .L1     A4                ; |933| 
    1174                    
    1175 000005cc           RL208:     ; CALL OCCURS                     ; |933| 
    1176 000005cc 0FFF4810!            B       .S1     __addd            ; |933| 
    1177 000005d0 0182F22A'            MVKL    .S2     RL210,B3          ; |933| 
    1178 000005d4 028000FA             ZERO    .L2     B5                ; |933| 
    1179 000005d8 029FF06A             MVKH    .S2     0x3fe00000,B5     ; |933| 
    1180 000005dc 0180006A'            MVKH    .S2     RL210,B3          ; |933| 
    1181 000005e0 020000FA             ZERO    .L2     B4                ; |933| 
    1182 000005e4           RL210:     ; CALL OCCURS                     ; |933| 
    1183 000005e4 0FFF4410!            B       .S1     _floor            ; |933| 
    1184 000005e8 0182FA2A'            MVKL    .S2     RL212,B3          ; |933| 
    1185 000005ec 0180006A'            MVKH    .S2     RL212,B3          ; |933| 
    1186 000005f0 00004000             NOP             3
    1187 000005f4           RL212:     ; CALL OCCURS                     ; |933| 
    1188 000005f4 0FFF4410!            B       .S1     __fixdi           ; |933| 
    1189 000005f8 0183022A'            MVKL    .S2     RL214,B3          ; |933| 
    1190 000005fc 0180006A'            MVKH    .S2     RL214,B3          ; |933| 
    1191 00000600 00004000             NOP             3
    1192 00000604           RL214:     ; CALL OCCURS                     ; |933| 
    1193 00000604 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |933| 
    1194 00000608 028035EE             LDW     .D2T2   *+SP(212),B5      ; |933| 
    1195 0000060c 00121048             EXT     .S1     A4,16,16,A0       ; |933| 
    1196 00000610 00004000             NOP             3
    1197 00000614 00148AD4             STH     .D2T1   A0,*+B5[B4]       ; |933| 
    1198                            .line   213
    1199                    ;------------------------------------------------------------------------------
    1200                    ; 934 | cosLUT[i] = (INT16) floor( 1024.0 * cos( dDummy ) + 0.5 );             
    1201                    ;------------------------------------------------------------------------------
    1202                    
    1203 00000618 0FFF4011!            B       .S1     _cos              ; |934| 
    1204 0000061c 02BFE2E4  ||         LDW     .D2T1   *+SP(124),A5      ; |934| 
    1205                    
    1206 00000620 023FC2E4             LDW     .D2T1   *+SP(120),A4      ; |934| 
    1207 00000624 0183182A'            MVKL    .S2     RL234,B3          ; |934| 
    1208 00000628 0180006A'            MVKH    .S2     RL234,B3          ; |934| 
    1209 0000062c 00002000             NOP             2
    1210 00000630           RL234:     ; CALL OCCURS                     ; |934| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   23

    1211 00000630 0FFF3C10!            B       .S1     __mpyd            ; |934| 
    1212 00000634 0294105A             MV      .L2X    A5,B5             ; 
    1213 00000638 0210105A             MV      .L2X    A4,B4             ; 
    1214 0000063c 0183282A'            MVKL    .S2     RL236,B3          ; |934| 
    1215 00000640 028000F8             ZERO    .L1     A5                ; |934| 
    1216                    
    1217 00000644 0180006B'            MVKH    .S2     RL236,B3          ; |934| 
    1218 00000648 02A04869  ||         MVKH    .S1     0x40900000,A5     ; |934| 
    1219 0000064c 020000F8  ||         ZERO    .L1     A4                ; |934| 
    1220                    
    1221 00000650           RL236:     ; CALL OCCURS                     ; |934| 
    1222 00000650 0FFF3810!            B       .S1     __addd            ; |934| 
    1223 00000654 0183342A'            MVKL    .S2     RL238,B3          ; |934| 
    1224 00000658 028000FA             ZERO    .L2     B5                ; |934| 
    1225 0000065c 0180006A'            MVKH    .S2     RL238,B3          ; |934| 
    1226 00000660 029FF06A             MVKH    .S2     0x3fe00000,B5     ; |934| 
    1227 00000664 020000FA             ZERO    .L2     B4                ; |934| 
    1228 00000668           RL238:     ; CALL OCCURS                     ; |934| 
    1229 00000668 0FFF3410!            B       .S1     _floor            ; |934| 
    1230 0000066c 01833C2A'            MVKL    .S2     RL240,B3          ; |934| 
    1231 00000670 0180006A'            MVKH    .S2     RL240,B3          ; |934| 
    1232 00000674 00004000             NOP             3
    1233 00000678           RL240:     ; CALL OCCURS                     ; |934| 
    1234                    ;** --------------------------------------------------------------------------*
    1235 00000678 0FFF3410!            B       .S1     __fixdi           ; |934| 
    1236 0000067c 0183442A'            MVKL    .S2     RL242,B3          ; |934| 
    1237 00000680 0180006A'            MVKH    .S2     RL242,B3          ; |934| 
    1238 00000684 00004000             NOP             3
    1239 00000688           RL242:     ; CALL OCCURS                     ; |934| 
    1240 00000688 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |934| 
    1241 0000068c 028036EE             LDW     .D2T2   *+SP(216),B5      ; |934| 
    1242 00000690 00121048             EXT     .S1     A4,16,16,A0       ; |934| 
    1243 00000694 00004000             NOP             3
    1244 00000698 00148AD4             STH     .D2T1   A0,*+B5[B4]       ; |934| 
    1245                            .line   214
    1246 0000069c 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |935| 
    1247 000006a0 00006000             NOP             4
    1248 000006a4 0210205A             ADD     .L2     1,B4,B4           ; |935| 
    1249 000006a8 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |935| 
    1250 000006ac 0287082A             MVK     .S2     3600,B5           ; |935| 
    1251 000006b0 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    1252 000006b4 2FFFD810     [ B0]   B       .S1     L3                ; |935| 
    1253 000006b8 00008000             NOP             5
    1254                               ; BRANCH OCCURS                   ; |935| 
    1255                    ;** --------------------------------------------------------------------------*
    1256 000006bc           L4:    
    1257                            .line   216
    1258                    ;------------------------------------------------------------------------------
    1259                    ; 937 | for( i = 0; i < 281; i++ )                                             
    1260                    ;------------------------------------------------------------------------------
    1262 000006c0 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |937| 
    1261 000006bc 000000F8             ZERO    .L1     A0                ; |937| 
    1263 000006c4 01808CA8             MVK     .S1     281,A3            ; |937| 
    1264 000006c8 008C0BF8             CMPLTU  .L1     A0,A3,A1          ; 
    1265 000006cc 90002010     [!A1]   B       .S1     L6                ; |937| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   24

    1266 000006d0 05008CAA             MVK     .S2     281,B10           ; |941| 
    1267 000006d4 00006000             NOP             4
    1268                               ; BRANCH OCCURS                   ; |937| 
    1269                    ;*----------------------------------------------------------------------------*
    1270                    ;*   SOFTWARE PIPELINE INFORMATION
    1271                    ;*      Disqualified loop: software pipelining disabled
    1272                    ;*----------------------------------------------------------------------------*
    1273 000006d8           L5:    
    1274                            .line   218
    1275                    ;------------------------------------------------------------------------------
    1276                    ; 939 | dDummy = (((double) i) - 140) / 20.0;                                  
    1277                    ;------------------------------------------------------------------------------
    1279 000006dc 023EA2E4             LDW     .D2T1   *+SP(84),A4       ; |939| 
    1278 000006d8 0FFF2810!            B       .S1     __fltud           ; |939| 
    1280 000006e0 0183762A'            MVKL    .S2     RL252,B3          ; |939| 
    1281 000006e4 0180006A'            MVKH    .S2     RL252,B3          ; |939| 
    1282 000006e8 00002000             NOP             2
    1283 000006ec           RL252:     ; CALL OCCURS                     ; |939| 
    1284 000006ec 0FFF2410!            B       .S1     __subd            ; |939| 
    1285 000006f0 02C0002A             MVKL    .S2     0x40618000,B5     ; |939| 
    1286 000006f4 0183822A'            MVKL    .S2     RL254,B3          ; |939| 
    1287 000006f8 02A030EA             MVKH    .S2     0x40618000,B5     ; |939| 
    1288 000006fc 0180006A'            MVKH    .S2     RL254,B3          ; |939| 
    1289 00000700 020000FA             ZERO    .L2     B4                ; |939| 
    1290 00000704           RL254:     ; CALL OCCURS                     ; |939| 
    1291 00000704 0FFF2010!            B       .S1     __divd            ; |939| 
    1292 00000708 01838E2A'            MVKL    .S2     RL256,B3          ; |939| 
    1293 0000070c 028000FA             ZERO    .L2     B5                ; |939| 
    1294 00000710 02A01A6A             MVKH    .S2     0x40340000,B5     ; |939| 
    1295 00000714 0180006A'            MVKH    .S2     RL256,B3          ; |939| 
    1296 00000718 020000FA             ZERO    .L2     B4                ; |939| 
    1297 0000071c           RL256:     ; CALL OCCURS                     ; |939| 
    1298 0000071c 023FC2F4             STW     .D2T1   A4,*+SP(120)      ; |939| 
    1299 00000720 02BFE2F4             STW     .D2T1   A5,*+SP(124)      ; |939| 
    1300                            .line   219
    1301                    ;------------------------------------------------------------------------------
    1302                    ; 940 | pow2LUT[i] = (INT32) floor(pow(2.0, dDummy + 20.0) + 0.5);             
    1303                    ;------------------------------------------------------------------------------
    1304 00000724 0FFF1C10!            B       .S1     __addd            ; |940| 
    1305 00000728 01839E2A'            MVKL    .S2     RL274,B3          ; |940| 
    1306 0000072c 028000FA             ZERO    .L2     B5                ; |940| 
    1307 00000730 02A01A6A             MVKH    .S2     0x40340000,B5     ; |940| 
    1308 00000734 0180006A'            MVKH    .S2     RL274,B3          ; |940| 
    1309 00000738 020000FA             ZERO    .L2     B4                ; |940| 
    1310 0000073c           RL274:     ; CALL OCCURS                     ; |940| 
    1311 0000073c 0FFF1C10!            B       .S1     _pow              ; |940| 
    1312 00000740 0294105A             MV      .L2X    A5,B5             ; 
    1313 00000744 0183AE2A'            MVKL    .S2     RL276,B3          ; |940| 
    1314 00000748 028000F8             ZERO    .L1     A5                ; |940| 
    1315 0000074c 02A00068             MVKH    .S1     0x40000000,A5     ; |940| 
    1316                    
    1317 00000750 0210105B             MV      .L2X    A4,B4             ; 
    1318 00000754 0180006B' ||         MVKH    .S2     RL276,B3          ; |940| 
    1319 00000758 020000F8  ||         ZERO    .L1     A4                ; |940| 
    1320                    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   25

    1321 0000075c           RL276:     ; CALL OCCURS                     ; |940| 
    1322 0000075c 0FFF1810!            B       .S1     __addd            ; |940| 
    1323 00000760 028000FA             ZERO    .L2     B5                ; |940| 
    1324 00000764 029FF06A             MVKH    .S2     0x3fe00000,B5     ; |940| 
    1325 00000768 0183BA2A'            MVKL    .S2     RL278,B3          ; |940| 
    1326 0000076c 0180006A'            MVKH    .S2     RL278,B3          ; |940| 
    1327 00000770 020000FA             ZERO    .L2     B4                ; |940| 
    1328 00000774           RL278:     ; CALL OCCURS                     ; |940| 
    1329 00000774 0FFF1410!            B       .S1     _floor            ; |940| 
    1330 00000778 0183C22A'            MVKL    .S2     RL280,B3          ; |940| 
    1331 0000077c 0180006A'            MVKH    .S2     RL280,B3          ; |940| 
    1332 00000780 00004000             NOP             3
    1333 00000784           RL280:     ; CALL OCCURS                     ; |940| 
    1334 00000784 0FFF1010!            B       .S1     __fixdi           ; |940| 
    1335 00000788 0183CA2A'            MVKL    .S2     RL282,B3          ; |940| 
    1336 0000078c 0180006A'            MVKH    .S2     RL282,B3          ; |940| 
    1337 00000790 00004000             NOP             3
    1338 00000794           RL282:     ; CALL OCCURS                     ; |940| 
    1339 00000794 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |940| 
    1340 00000798 028037EE             LDW     .D2T2   *+SP(220),B5      ; |940| 
    1341 0000079c 00006000             NOP             4
    1342 000007a0 02148AF4             STW     .D2T1   A4,*+B5[B4]       ; |940| 
    1343                            .line   220
    1344 000007a4 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |941| 
    1345 000007a8 00006000             NOP             4
    1346 000007ac 0210205A             ADD     .L2     1,B4,B4           ; |941| 
    1347 000007b0 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |941| 
    1348 000007b4 00288BFA             CMPLTU  .L2     B4,B10,B0         ; 
    1349 000007b8 2FFFE710     [ B0]   B       .S1     L5                ; |941| 
    1350 000007bc 00008000             NOP             5
    1351                               ; BRANCH OCCURS                   ; |941| 
    1352                    ;** --------------------------------------------------------------------------*
    1353 000007c0           L6:    
    1354                            .line   221
    1355                    ;------------------------------------------------------------------------------
    1356                    ; 942 | for( i = 0; i < 7; i++ )                                               
    1357                    ;------------------------------------------------------------------------------
    1359 000007c4 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |942| 
    1358 000007c0 000000F8             ZERO    .L1     A0                ; |942| 
    1360 000007c8 0080E9D8             CMPLTU  .L1     A0,7,A1           ; 
    1361 000007cc 90003E90     [!A1]   B       .S1     L8                ; |942| 
    1362 000007d0 00008000             NOP             5
    1363                               ; BRANCH OCCURS                   ; |942| 
    1364                    ;*----------------------------------------------------------------------------*
    1365                    ;*   SOFTWARE PIPELINE INFORMATION
    1366                    ;*      Disqualified loop: software pipelining disabled
    1367                    ;*----------------------------------------------------------------------------*
    1368 000007d4           L7:    
    1369                            .line   223
    1370                    ;------------------------------------------------------------------------------
    1371                    ; 944 | j = i+1;                                                               
    1372                    ;------------------------------------------------------------------------------
    1374 000007d8 00006000             NOP             4
    1373 000007d4 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |944| 
    1375 000007dc 0210205A             ADD     .L2     1,B4,B4           ; |944| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   26

    1376 000007e0 023EC2F6             STW     .D2T2   B4,*+SP(88)       ; |944| 
    1377                            .line   224
    1378                    ;------------------------------------------------------------------------------
    1379                    ; 945 | dDummy = 1024.0 * (pow(2.0, (double)j) - pow(2.0, -((double)j)));      
    1380                    ;------------------------------------------------------------------------------
    1381 000007e4 0FFF0410!            B       .S1     __fltud           ; |945| 
    1382 000007e8 0183FC2A'            MVKL    .S2     RL316,B3          ; |945| 
    1383 000007ec 02101058             MV      .L1X    B4,A4
    1384 000007f0 0180006A'            MVKH    .S2     RL316,B3          ; |945| 
    1385 000007f4 00002000             NOP             2
    1386 000007f8           RL316:     ; CALL OCCURS                     ; |945| 
    1387 000007f8 0FFF0410!            B       .S1     _pow              ; |945| 
    1388 000007fc 01840C2A'            MVKL    .S2     RL318,B3          ; |945| 
    1389 00000800 0294105A             MV      .L2X    A5,B5             ; 
    1390 00000804 028000F8             ZERO    .L1     A5                ; |945| 
    1391 00000808 02A00068             MVKH    .S1     0x40000000,A5     ; |945| 
    1392                    
    1393 0000080c 0210105B             MV      .L2X    A4,B4             ; 
    1394 00000810 020000F9  ||         ZERO    .L1     A4                ; |945| 
    1395 00000814 0180006A' ||         MVKH    .S2     RL318,B3          ; |945| 
    1396                    
    1397 00000818           RL318:     ; CALL OCCURS                     ; |945| 
    1398 00000818 0FFF0010!            B       .S1     __fltud           ; |945| 
    1399                    
    1400 00000820 05900059             MV      .L1     A4,A11            ; 
    1401 00000824 023EC2E4  ||         LDW     .D2T1   *+SP(88),A4       ; |945| 
    1402                    
    1403 00000828 01841C2A'            MVKL    .S2     RL320,B3          ; |945| 
    1404 0000082c 0180006A'            MVKH    .S2     RL320,B3          ; |945| 
    1405 00000830 05140058             MV      .L1     A5,A10            ; 
    1406 00000834 00000000             NOP             1
    1407 00000838           RL320:     ; CALL OCCURS                     ; |945| 
    1408 00000838 0FFEFC10!            B       .S1     __negd            ; |945| 
    1409 0000083c 0184242A'            MVKL    .S2     RL322,B3          ; |945| 
    1410 00000840 0180006A'            MVKH    .S2     RL322,B3          ; |945| 
    1411 00000844 00004000             NOP             3
    1412 00000848           RL322:     ; CALL OCCURS                     ; |945| 
    1413 00000848 0FFEF810!            B       .S1     _pow              ; |945| 
    1414 0000084c 0184362A'            MVKL    .S2     RL324,B3          ; |945| 
    1415 00000850 0294105A             MV      .L2X    A5,B5             ; 
    1416 00000854 028000F8             ZERO    .L1     A5                ; |945| 
    1417 00000858 0180006A'            MVKH    .S2     RL324,B3          ; |945| 
    1418                    
    1419 00000860 02A00069             MVKH    .S1     0x40000000,A5     ; |945| 
    1420 00000864 0210105B  ||         MV      .L2X    A4,B4             ; 
    1421 00000868 020000F8  ||         ZERO    .L1     A4                ; |945| 
    1422                    
    1423 0000086c           RL324:     ; CALL OCCURS                     ; |945| 
    1424 0000086c 0FFEF410!            B       .S1     __subd            ; |945| 
    1425 00000870 0294105A             MV      .L2X    A5,B5             ; 
    1426 00000874 0210105A             MV      .L2X    A4,B4             ; 
    1427 00000878 0184442A'            MVKL    .S2     RL326,B3          ; |945| 
    1428 0000087c 0180006A'            MVKH    .S2     RL326,B3          ; |945| 
    1429                    
    1430 00000880 022C0059             MV      .L1     A11,A4            ; |945| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   27

    1431 00000884 02A801A0  ||         MV      .S1     A10,A5            ; |945| 
    1432                    
    1433 00000888           RL326:     ; CALL OCCURS                     ; |945| 
    1434 00000888 0FFEF010!            B       .S1     __mpyd            ; |945| 
    1435 0000088c 0184562A'            MVKL    .S2     RL328,B3          ; |945| 
    1436 00000890 0294105A             MV      .L2X    A5,B5             ; 
    1437 00000894 028000F8             ZERO    .L1     A5                ; |945| 
    1438 00000898 0180006A'            MVKH    .S2     RL328,B3          ; |945| 
    1439                    
    1440 000008a0 02A04869             MVKH    .S1     0x40900000,A5     ; |945| 
    1441 000008a4 0210105B  ||         MV      .L2X    A4,B4             ; 
    1442 000008a8 020000F8  ||         ZERO    .L1     A4                ; |945| 
    1443                    
    1444 000008ac           RL328:     ; CALL OCCURS                     ; |945| 
    1445 000008ac 023FC2F4             STW     .D2T1   A4,*+SP(120)      ; |945| 
    1446 000008b0 02BFE2F4             STW     .D2T1   A5,*+SP(124)      ; |945| 
    1447                            .line   225
    1448                    ;------------------------------------------------------------------------------
    1449                    ; 946 | dDummy /= (2.0 * ((double)j) * log(2.0));                              
    1450                    ;------------------------------------------------------------------------------
    1451 000008b4 0FFEEC10!            B       .S1     __fltud           ; |946| 
    1452 000008b8 023EC2E4             LDW     .D2T1   *+SP(88),A4       ; |946| 
    1453 000008bc 0184642A'            MVKL    .S2     RL354,B3          ; |946| 
    1454 000008c0 0180006A'            MVKH    .S2     RL354,B3          ; |946| 
    1455 000008c4 00002000             NOP             2
    1456 000008c8           RL354:     ; CALL OCCURS                     ; |946| 
    1457 000008c8 0FFEE810!            B       .S1     __mpyd            ; |946| 
    1458 000008cc 0184762A'            MVKL    .S2     RL356,B3          ; |946| 
    1459 000008d0 0294105A             MV      .L2X    A5,B5             ; 
    1460 000008d4 028000F8             ZERO    .L1     A5                ; |946| 
    1461 000008d8 02A00068             MVKH    .S1     0x40000000,A5     ; |946| 
    1462                    
    1463 000008e0 0180006B'            MVKH    .S2     RL356,B3          ; |946| 
    1464 000008e4 0210105B  ||         MV      .L2X    A4,B4             ; 
    1465 000008e8 020000F8  ||         ZERO    .L1     A4                ; |946| 
    1466                    
    1467 000008ec           RL356:     ; CALL OCCURS                     ; |946| 
    1468 000008ec 0FFEE410!            B       .S1     _log              ; |946| 
    1469 000008f0 05940058             MV      .L1     A5,A11            ; 
    1470 000008f4 0184862A'            MVKL    .S2     RL358,B3          ; |946| 
    1471 000008f8 05100058             MV      .L1     A4,A10            ; 
    1472 000008fc 028005E0             ZERO    .S1     A5                ; |946| 
    1473                    
    1474 00000900 0180006B'            MVKH    .S2     RL358,B3          ; |946| 
    1475 00000904 02A00069  ||         MVKH    .S1     0x40000000,A5     ; |946| 
    1476 00000908 020000F8  ||         ZERO    .L1     A4                ; |946| 
    1477                    
    1478 0000090c           RL358:     ; CALL OCCURS                     ; |946| 
    1479 0000090c 0FFEE010!            B       .S1     __mpyd            ; |946| 
    1480 00000910 0294105A             MV      .L2X    A5,B5             ; 
    1481 00000914 0184942A'            MVKL    .S2     RL360,B3          ; |946| 
    1482 00000918 0210105A             MV      .L2X    A4,B4             ; 
    1483 0000091c 0180006A'            MVKH    .S2     RL360,B3          ; |946| 
    1484                    
    1485 00000920 02280059             MV      .L1     A10,A4            ; |946| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   28

    1486 00000924 02AC01A0  ||         MV      .S1     A11,A5            ; |946| 
    1487                    
    1488 00000928           RL360:     ; CALL OCCURS                     ; |946| 
    1489                    ;** --------------------------------------------------------------------------*
    1490                    
    1491 00000928 0FFEDC11!            B       .S1     __divd            ; |946| 
    1492 0000092c 02BFE2E5  ||         LDW     .D2T1   *+SP(124),A5      ; 
    1493 00000930 0294105A  ||         MV      .L2X    A5,B5             ; 
    1494                    
    1495 00000934 023FC2E5             LDW     .D2T1   *+SP(120),A4      ; 
    1496 00000938 0210105A  ||         MV      .L2X    A4,B4             ; 
    1497                    
    1498 0000093c 0184A42A'            MVKL    .S2     RL362,B3          ; |946| 
    1499 00000940 0180006A'            MVKH    .S2     RL362,B3          ; |946| 
    1500 00000944 00002000             NOP             2
    1501 00000948           RL362:     ; CALL OCCURS                     ; |946| 
    1502 00000948 023FC2F4             STW     .D2T1   A4,*+SP(120)      ; |946| 
    1503 0000094c 02BFE2F4             STW     .D2T1   A5,*+SP(124)      ; |946| 
    1504                            .line   226
    1505                    ;------------------------------------------------------------------------------
    1506                    ; 947 | speedNoiseAdj[i] = (INT32) floor(dDummy + 0.5);                        
    1507                    ;------------------------------------------------------------------------------
    1508 00000950 0FFED810!            B       .S1     __addd            ; |947| 
    1509 00000954 0184B42A'            MVKL    .S2     RL366,B3          ; |947| 
    1510 00000958 028000FA             ZERO    .L2     B5                ; |947| 
    1511 0000095c 029FF06A             MVKH    .S2     0x3fe00000,B5     ; |947| 
    1512 00000960 0180006A'            MVKH    .S2     RL366,B3          ; |947| 
    1513 00000964 020000FA             ZERO    .L2     B4                ; |947| 
    1514 00000968           RL366:     ; CALL OCCURS                     ; |947| 
    1515 00000968 0FFED410!            B       .S1     _floor            ; |947| 
    1516 0000096c 0184BC2A'            MVKL    .S2     RL368,B3          ; |947| 
    1517 00000970 0180006A'            MVKH    .S2     RL368,B3          ; |947| 
    1518 00000974 00004000             NOP             3
    1519 00000978           RL368:     ; CALL OCCURS                     ; |947| 
    1520 00000978 0FFED410!            B       .S1     __fixdi           ; |947| 
    1521 0000097c 0184C42A'            MVKL    .S2     RL370,B3          ; |947| 
    1522 00000980 0180006A'            MVKH    .S2     RL370,B3          ; |947| 
    1523 00000984 00004000             NOP             3
    1524 00000988           RL370:     ; CALL OCCURS                     ; |947| 
    1525 00000988 020038EE             LDW     .D2T2   *+SP(224),B4      ; |947| 
    1526 0000098c 02BEA2E6             LDW     .D2T2   *+SP(84),B5       ; |947| 
    1527 00000990 00006000             NOP             4
    1528 00000994 0210AAF4             STW     .D2T1   A4,*+B4[B5]       ; |947| 
    1529                            .line   227
    1530                    ;------------------------------------------------------------------------------
    1531                    ; 958 | do                                                                   //
    1532                    ;     |  BEGIN: runtime loop -- process cmds from                              
    1533                    ; 959 | {                                                                    //
    1534                    ;     |  host XYAPI until XYCORE_CLOSE is received.                            
    1535                    ; 960 | do                                                                // wa
    1536                    ;     | it for next command in CmdStat reg                                     
    1537                    ; 962 | #if defined(_TGTDAKARF5)                                               
    1538                    ; 963 | C4X_Control( PCI, GET_MAILBOX, 2, &command );                          
    1539                    ; 964 | #elif defined(_TGTDETROIT)                                             
    1540                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   29

    1541 00000998 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |948| 
    1542 0000099c 00006000             NOP             4
    1543 000009a0 0210205A             ADD     .L2     1,B4,B4           ; |948| 
    1544 000009a4 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |948| 
    1545 000009a8 0010E9DA             CMPLTU  .L2     B4,7,B0           ; 
    1546 000009ac 2FFFC690     [ B0]   B       .S1     L7                ; |948| 
    1547 000009b0 00008000             NOP             5
    1548                               ; BRANCH OCCURS                   ; |948| 
    1549                    ;** --------------------------------------------------------------------------*
    1550                    ;**   BEGIN LOOP L8
    1551                    ;** --------------------------------------------------------------------------*
    1552 000009b4           L8:    
    1553                            .line   244
    1554                    ;------------------------------------------------------------------------------
    1555                    ; 965 | C6x_ReadPlx( MAILBOX2_OFFSET, &command );                              
    1556                    ; 966 | #else    // _TGTDAYTONA                                                
    1557                    ; 967 | command = *((UINT32 *)0x00400000);                                     
    1558                    ; 982 | #endif                                                                 
    1559                    ;------------------------------------------------------------------------------
    1561 000009b8 0000B068             MVKH    .S1     0x16000c8,A0      ; |965| 
    1560 000009b4 00006428             MVKL    .S1     0x16000c8,A0      ; |965| 
    1562 000009bc 02000266             LDW     .D1T2   *A0,B4            ; |965| 
    1563 000009c0 00006000             NOP             4
    1564 000009c4 023D82F6             STW     .D2T2   B4,*+SP(48)       ; |965| 
    1565                            .line   262
    1566                    ;------------------------------------------------------------------------------
    1567                    ; 983 | } while( command == XYCORE_READY );                                    
    1568                    ;------------------------------------------------------------------------------
    1569 000009c8 00102A5A             CMPEQ   .L2     B4,1,B0           ; 
    1570 000009cc 2FFFFE90     [ B0]   B       .S1     L8                ; |983| 
    1571 000009d0 00008000             NOP             5
    1572                               ; BRANCH OCCURS                   ; |983| 
    1573                    ;** --------------------------------------------------------------------------*
    1574                            .line   265
    1575                    ;------------------------------------------------------------------------------
    1576                    ; 986 | if( command == XYCORE_INIT )                                      // BE
    1577                    ;     | GIN:  process XYCORE_INIT command                                      
    1578                    ;------------------------------------------------------------------------------
    1579 000009d4 00104A5A             CMPEQ   .L2     B4,2,B0           ; 
    1580 000009d8 30024590     [!B0]   B       .S1     L37               ; |986| 
    1581 000009dc 00008000             NOP             5
    1582                               ; BRANCH OCCURS                   ; |986| 
    1583                    ;** --------------------------------------------------------------------------*
    1584                            .line   267
    1585                    ;------------------------------------------------------------------------------
    1586                    ; 988 | memcpy( (void*) parameters, (void*) SharedArray,               // copy 
    1587                    ;     | params into local mem for faster access                                
    1588                    ; 989 | sizeof(PARAMETERS) );                                                  
    1589                    ;------------------------------------------------------------------------------
    1590                    
    1591 000009e0 0FFEC411!            B       .S1     _memcpy           ; |988| 
    1592 000009e4 020031EE  ||         LDW     .D2T2   *+SP(196),B4      ; 
    1593                    
    1594 000009e8 02002AEC             LDW     .D2T1   *+SP(168),A4      ; 
    1595 000009ec 0184FE2A'            MVKL    .S2     RL372,B3          ; |988| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   30

    1596 000009f0 0180006A'            MVKH    .S2     RL372,B3          ; |988| 
    1597 000009f4 03014A28             MVK     .S1     0x294,A6          ; |988| 
    1598 000009f8 00000000             NOP             1
    1599 000009fc           RL372:     ; CALL OCCURS                     ; |988| 
    1600                            .line   270
    1601                    ;------------------------------------------------------------------------------
    1602                    ; 991 | SetSeed( parameters->dwDotSeed );                              // seed 
    1603                    ;     | both random# generators using the seed                                 
    1604                    ;------------------------------------------------------------------------------
    1606 00000a00 01850C2A'            MVKL    .S2     RL374,B3          ; |991| 
    1605 000009fc 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |991| 
    1607 00000a04 0180006A'            MVKH    .S2     RL374,B3          ; |991| 
    1608 00000a08 00000000             NOP             1
    1609 00000a0c 0FFEC010             B       .S1     _SetSeed          ; |991| 
    1610 00000a10 021002E4             LDW     .D2T1   *B4,A4            ; |991| 
    1611 00000a14 00006000             NOP             4
    1612 00000a18           RL374:     ; CALL OCCURS                     ; |991| 
    1613                            .line   271
    1614                    ;------------------------------------------------------------------------------
    1615                    ; 992 | SetSeed2( parameters->dwDotSeed );                             // value
    1616                    ;     |  provided                                                              
    1617                    ;------------------------------------------------------------------------------
    1619 00000a1c 01851A2A'            MVKL    .S2     RL376,B3          ; |992| 
    1618 00000a18 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |992| 
    1620 00000a20 0180006A'            MVKH    .S2     RL376,B3          ; |992| 
    1621 00000a24 00000000             NOP             1
    1622 00000a28 0FFEBF10             B       .S1     _SetSeed2         ; |992| 
    1623 00000a2c 021002E4             LDW     .D2T1   *B4,A4            ; |992| 
    1624 00000a30 00006000             NOP             4
    1625 00000a34           RL376:     ; CALL OCCURS                     ; |992| 
    1626                            .line   273
    1627                    ;------------------------------------------------------------------------------
    1628                    ; 994 | dotPosOffset = 0;                                              // prote
    1629                    ;     | ct against overflow of dot pos arrays:                                 
    1630                    ;------------------------------------------------------------------------------
    1632 00000a38 023F82F6             STW     .D2T2   B4,*+SP(112)      ; |994| 
    1631 00000a34 020000FA             ZERO    .L2     B4                ; |994| 
    1633                            .line   274
    1634                    ;------------------------------------------------------------------------------
    1635                    ; 995 | for( d = 0; d < parameters->wNumTargets; d++ )                 // if ne
    1636                    ;     | cessary, reduce #targets processed so                                  
    1637                    ; 996 | {                                                              // that 
    1638                    ;     | total #dots to be stored falls under                                   
    1639                    ;------------------------------------------------------------------------------
    1640 00000a3c 023F42F6             STW     .D2T2   B4,*+SP(104)      ; |995| 
    1641 00000a40 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |995| 
    1642 00000a44 00006000             NOP             4
    1643 00000a48 0294A286             LDHU    .D2T2   *+B5(10),B5       ; |995| 
    1644 00000a4c 00006000             NOP             4
    1645 00000a50 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    1646 00000a54 30001210     [!B0]   B       .S1     L10               ; |995| 
    1647 00000a58 00008000             NOP             5
    1648                               ; BRANCH OCCURS                   ; |995| 
    1649                    ;*----------------------------------------------------------------------------*
    1650                    ;*   SOFTWARE PIPELINE INFORMATION
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   31

    1651                    ;*      Disqualified loop: software pipelining disabled
    1652                    ;*----------------------------------------------------------------------------*
    1653 00000a5c           L9:    
    1654                            .line   276
    1655                    ;------------------------------------------------------------------------------
    1656                    ; 997 | if( dotPosOffset + parameters->wNumDots[d] > MAXTOTALDOTS ) // the maxi
    1657                    ;     | mum allowed limit...                                                   
    1658                    ;------------------------------------------------------------------------------
    1660 00000a60 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |997| 
    1659 00000a5c 023F42E4             LDW     .D2T1   *+SP(104),A4      ; |997| 
    1661 00000a64 033A9828             MVK     .S1     30000,A6          ; |997| 
    1662 00000a68 00004000             NOP             3
    1663 00000a6c 01809A40             ADDAH   .D1     A0,A4,A3          ; |997| 
    1664 00000a70 01802A50             ADDK    .S1     84,A3             ; |997| 
    1665 00000a74 028C0204             LDHU    .D1T1   *A3,A5            ; |997| 
    1666 00000a78 01BF82E4             LDW     .D2T1   *+SP(112),A3      ; |997| 
    1667 00000a7c 00006000             NOP             4
    1668 00000a80 028CA078             ADD     .L1     A5,A3,A5          ; |997| 
    1669 00000a84 0098A9F8             CMPGTU  .L1     A5,A6,A1          ; |997| 
    1670 00000a88 80000A10     [ A1]   B       .S1     L10               ; |997| 
    1671 00000a8c 00008000             NOP             5
    1672                               ; BRANCH OCCURS                   ; |997| 
    1673                    ;** --------------------------------------------------------------------------*
    1674                            .line   277
    1675                    ;------------------------------------------------------------------------------
    1676                    ; 998 | break;                                                                 
    1677                    ;------------------------------------------------------------------------------
    1678                            .line   278
    1679                    ;------------------------------------------------------------------------------
    1680                    ; 999 | dotPosOffset += parameters->wNumDots[d];                               
    1681                    ;------------------------------------------------------------------------------
    1682 00000a90 02009A40             ADDAH   .D1     A0,A4,A4          ; |999| 
    1683 00000a94 02002A50             ADDK    .S1     84,A4             ; |999| 
    1684 00000a98 02100204             LDHU    .D1T1   *A4,A4            ; |999| 
    1685 00000a9c 00006000             NOP             4
    1686 00000aa0 018C8078             ADD     .L1     A4,A3,A3          ; 
    1687 00000aa4 01BF82F4             STW     .D2T1   A3,*+SP(112)      ; |999| 
    1688                            .line   279
    1689 00000aa8 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1000| 
    1690 00000aac 00006000             NOP             4
    1691 00000ab0 0290205A             ADD     .L2     1,B4,B5           ; |1000| 
    1692 00000ab4 02BF42F6             STW     .D2T2   B5,*+SP(104)      ; |1000| 
    1693 00000ab8 0200105A             MV      .L2X    A0,B4
    1694 00000abc 0210A286             LDHU    .D2T2   *+B4(10),B4       ; |1000| 
    1695 00000ac0 00006000             NOP             4
    1696 00000ac4 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    1697 00000ac8 2FFFF390     [ B0]   B       .S1     L9                ; |1000| 
    1698 00000acc 00008000             NOP             5
    1699                               ; BRANCH OCCURS                   ; |1000| 
    1700                    ;** --------------------------------------------------------------------------*
    1701 00000ad0           L10:    
    1702                            .line   280
    1703                    ;------------------------------------------------------------------------------
    1704                    ; 1001 | parameters->wNumTargets = d;                                           
    1705                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   32

    1707 00000ad4 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |1001| 
    1706 00000ad0 0200348E             LDHU    .D2T2   *+SP(104),B4      ; |1001| 
    1708 00000ad8 00006000             NOP             4
    1709 00000adc 0200A256             STH     .D1T2   B4,*+A0(10)       ; |1001| 
    1710                            .line   283
    1711                    ;------------------------------------------------------------------------------
    1712                    ; 1004 | dotPosOffset = 0;                                              // gener
    1713                    ;     | ate & store the initial (x,y)-coords of                                
    1714                    ;------------------------------------------------------------------------------
    1715 00000ae0 020000FA             ZERO    .L2     B4                ; |1004| 
    1716 00000ae4 023F82F6             STW     .D2T2   B4,*+SP(112)      ; |1004| 
    1717                            .line   284
    1718                    ;------------------------------------------------------------------------------
    1719                    ; 1005 | for( d = 0; d < parameters->wNumTargets; d++ )                 // dots 
    1720                    ;     | for all tgts in PARAMETERS struct.                                     
    1721                    ;------------------------------------------------------------------------------
    1722 00000ae8 023F42F6             STW     .D2T2   B4,*+SP(104)      ; |1005| 
    1723 00000aec 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1005| 
    1724 00000af0 00006000             NOP             4
    1725 00000af4 0294A286             LDHU    .D2T2   *+B5(10),B5       ; |1005| 
    1726 00000af8 00006000             NOP             4
    1727 00000afc 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    1728 00000b00 3008E110     [!B0]   B       .S1     L144              ; |1005| 
    1729 00000b04 00008000             NOP             5
    1730                               ; BRANCH OCCURS                   ; |1005| 
    1731                    ;** --------------------------------------------------------------------------*
    1732                    ;**   BEGIN LOOP L11
    1733                    ;** --------------------------------------------------------------------------*
    1734 00000b08           L11:    
    1735                            .line   286
    1736                    ;------------------------------------------------------------------------------
    1737                    ; 1007 | u16Type = parameters->wType[d];                             // this tar
    1738                    ;     | get's type                                                             
    1739                    ;------------------------------------------------------------------------------
    1741 00000b0c 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |1007| 
    1740 00000b08 01BF42E4             LDW     .D2T1   *+SP(104),A3      ; |1007| 
    1742 00000b10 00006000             NOP             4
    1743 00000b14 02007A40             ADDAH   .D1     A0,A3,A4          ; |1007| 
    1744 00000b18 02114204             LDHU    .D1T1   *+A4(20),A4       ; |1007| 
    1745 00000b1c 00006000             NOP             4
    1746 00000b20 023E42D4             STH     .D2T1   A4,*+SP(36)       ; |1007| 
    1747                            .line   288
    1748                    ;------------------------------------------------------------------------------
    1749                    ; 1009 | if( u16Type == NO_TARGET )                                  // NO_TARGE
    1750                    ;     | T: not a target; nothing to do here.                                   
    1751                    ; 1010 | ;                                                                      
    1752                    ;------------------------------------------------------------------------------
    1753 00000b24 003E4286             LDHU    .D2T2   *+SP(36),B0       ; |1009| 
    1754 00000b28 00006000             NOP             4
    1755 00000b2c 30020E90     [!B0]   B       .S1     L36               ; |1009| 
    1756 00000b30 00008000             NOP             5
    1757                               ; BRANCH OCCURS                   ; |1009| 
    1758                    ;** --------------------------------------------------------------------------*
    1759                            .line   291
    1760                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   33

    1761                    ; 1012 | else if ( (u16Type == DOTARRAY) &&                          // DOTARRAY
    1762                    ;     | : Nonrandom, rect array of regularly                                   
    1763                    ; 1013 | (parameters->wNumDots[d] > 0) )                   // spaced dots.      
    1764                    ;------------------------------------------------------------------------------
    1765 00000b34 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1012| 
    1766 00000b38 00006000             NOP             4
    1767 00000b3c 00102A5A             CMPEQ   .L2     B4,1,B0           ; |1012| 
    1768 00000b40 22BF42E6     [ B0]   LDW     .D2T2   *+SP(104),B5      ; |1012| 
    1769 00000b44 22002AEE     [ B0]   LDW     .D2T2   *+SP(168),B4      ; |1012| 
    1770 00000b48 00006000             NOP             4
    1771 00000b4c 2210BA42     [ B0]   ADDAH   .D2     B4,B5,B4          ; |1012| 
    1772 00000b50 22002A52     [ B0]   ADDK    .S2     84,B4             ; |1012| 
    1773 00000b54 22100286     [ B0]   LDHU    .D2T2   *B4,B4            ; |1012| 
    1774 00000b58 00006000             NOP             4
    1775 00000b5c 20100ADA     [ B0]   CMPGT   .L2     B4,0,B0           ; |1012| 
    1776 00000b60 30005490     [!B0]   B       .S1     L16               ; |1012| 
    1777 00000b64 00008000             NOP             5
    1778                               ; BRANCH OCCURS                   ; |1012| 
    1779                    ;** --------------------------------------------------------------------------*
    1780                            .line   294
    1781                    ;------------------------------------------------------------------------------
    1782                    ; 1015 | if( parameters->wRectR[d] > 32768 )                      //    width of
    1783                    ;     |  array.  enforce maximum value.                                        
    1784                    ;------------------------------------------------------------------------------
    1785 00000b68 00007A40             ADDAH   .D1     A0,A3,A0          ; |1015| 
    1786 00000b6c 00004A50             ADDK    .S1     148,A0            ; |1015| 
    1787 00000b70 00000204             LDHU    .D1T1   *A0,A0            ; |1015| 
    1788 00000b74 020000FA             ZERO    .L2     B4                ; |1015| 
    1789 00000b78 0211EF8A             SET     .S2     B4,0xf,0xf,B4     ; |1015| 
    1790 00000b7c 00002000             NOP             2
    1791 00000b80 009018F8             CMPGT   .L1X    A0,B4,A1          ; |1015| 
    1792                            .line   295
    1793                    ;------------------------------------------------------------------------------
    1794                    ; 1016 | parameters->wRectR[d] = 32768;                                         
    1795                    ;------------------------------------------------------------------------------
    1796 00000b84 81802AEC     [ A1]   LDW     .D2T1   *+SP(168),A3      ; |1016| 
    1797 00000b88 803F42E4     [ A1]   LDW     .D2T1   *+SP(104),A0      ; |1016| 
    1798 00000b8c 820000FA     [ A1]   ZERO    .L2     B4                ; |1016| 
    1799 00000b90 8211EF8A     [ A1]   SET     .S2     B4,0xf,0xf,B4     ; |1016| 
    1800 00000b94 00002000             NOP             2
    1801 00000b98 800C1A40     [ A1]   ADDAH   .D1     A3,A0,A0          ; |1016| 
    1802 00000b9c 80004A50     [ A1]   ADDK    .S1     148,A0            ; |1016| 
    1803 00000ba0 82000256     [ A1]   STH     .D1T2   B4,*A0            ; |1016| 
    1804                            .line   296
    1805                    ;------------------------------------------------------------------------------
    1806                    ; 1017 | if( parameters->wRectL[d] > 32768 )                      //    dot spac
    1807                    ;     | ing.  enforce maximum value.                                           
    1808                    ;------------------------------------------------------------------------------
    1809 00000ba4 01802AEC             LDW     .D2T1   *+SP(168),A3      ; |1017| 
    1810 00000ba8 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |1017| 
    1811 00000bac 00006000             NOP             4
    1812 00000bb0 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1017| 
    1813 00000bb4 00006A50             ADDK    .S1     212,A0            ; |1017| 
    1814 00000bb8 01800204             LDHU    .D1T1   *A0,A3            ; |1017| 
    1815 00000bbc 000000F8             ZERO    .L1     A0                ; |1017| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   34

    1816 00000bc0 0001EF88             SET     .S1     A0,0xf,0xf,A0     ; |1017| 
    1817 00000bc4 00002000             NOP             2
    1818 00000bc8 008068F8             CMPGT   .L1     A3,A0,A1          ; |1017| 
    1819                            .line   297
    1820                    ;------------------------------------------------------------------------------
    1821                    ; 1018 | parameters->wRectL[d] = 32768;                                         
    1822                    ;------------------------------------------------------------------------------
    1823 00000bcc 81BF42E4     [ A1]   LDW     .D2T1   *+SP(104),A3      ; |1018| 
    1824 00000bd0 82002AEC     [ A1]   LDW     .D2T1   *+SP(168),A4      ; |1018| 
    1825 00000bd4 800000F8     [ A1]   ZERO    .L1     A0                ; |1018| 
    1826 00000bd8 00004000             NOP             3
    1827                    
    1828 00000be0 80107A41     [ A1]   ADDAH   .D1     A4,A3,A0          ; |1018| 
    1829 00000be4 8181EF88  || [ A1]   SET     .S1     A0,0xf,0xf,A3     ; |1018| 
    1830                    
    1831 00000be8 80006A50     [ A1]   ADDK    .S1     212,A0            ; |1018| 
    1832 00000bec 81800254     [ A1]   STH     .D1T1   A3,*A0            ; |1018| 
    1833                            .line   299
    1834                    ;------------------------------------------------------------------------------
    1835                    ; 1020 | cd = parameters->wRectR[d] / 2;                          //    draw arr
    1836                    ;     | ay from L->R, B->T starting w/dot                                      
    1837                    ;------------------------------------------------------------------------------
    1838 00000bf0 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1020| 
    1839 00000bf4 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1020| 
    1840 00000bf8 00006000             NOP             4
    1841 00000bfc 02149A42             ADDAH   .D2     B5,B4,B4          ; |1020| 
    1842 00000c00 02004A52             ADDK    .S2     148,B4            ; |1020| 
    1843 00000c04 02100286             LDHU    .D2T2   *B4,B4            ; |1020| 
    1844 00000c08 00006000             NOP             4
    1845 00000c0c 0293E9A2             SHRU    .S2     B4,31,B5          ; |1020| 
    1846 00000c10 0210A07A             ADD     .L2     B5,B4,B4          ; |1020| 
    1847 00000c14 02102DA2             SHR     .S2     B4,1,B4           ; |1020| 
    1848 00000c18 023F62F6             STW     .D2T2   B4,*+SP(108)      ; |1020| 
    1849                            .line   300
    1850                    ;------------------------------------------------------------------------------
    1851                    ; 1021 | xdotpos[dotPosOffset] = CTR_PIX - cd;                    //    at lower
    1852                    ;     |  left corner. init pos of this                                         
    1853                    ;------------------------------------------------------------------------------
    1854 00000c1c 033F82E6             LDW     .D2T2   *+SP(112),B6      ; |1021| 
    1855 00000c20 038020EE             LDW     .D2T2   *+SP(128),B7      ; |1021| 
    1856 00000c24 02BFFFAA             MVK     .S2     32767,B5          ; |1021| 
    1857 00000c28 0210A0FA             SUB     .L2     B5,B4,B4          ; 
    1858 00000c2c 00002000             NOP             2
    1859 00000c30 021CCAD6             STH     .D2T2   B4,*+B7[B6]       ; |1021| 
    1860                            .line   301
    1861                    ;------------------------------------------------------------------------------
    1862                    ; 1022 | ydotpos[dotPosOffset] = CTR_PIX - cd;                    //    dot so t
    1863                    ;     | hat array is ctr'd at origin.                                          
    1864                    ;------------------------------------------------------------------------------
    1865 00000c34 028021EE             LDW     .D2T2   *+SP(132),B5      ; |1022| 
    1866 00000c38 033F62E6             LDW     .D2T2   *+SP(108),B6      ; |1022| 
    1867 00000c3c 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1022| 
    1868 00000c40 03BFFFAA             MVK     .S2     32767,B7          ; |1022| 
    1869 00000c44 00002000             NOP             2
    1870 00000c48 0318E0FA             SUB     .L2     B7,B6,B6          ; |1022| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   35

    1871 00000c4c 03148AD6             STH     .D2T2   B6,*+B5[B4]       ; |1022| 
    1872                            .line   303
    1873                    ;------------------------------------------------------------------------------
    1874                    ; 1024 | m = CTR_PIX + cd;                                        //    right bo
    1875                    ;     | undary of array                                                        
    1876                    ;------------------------------------------------------------------------------
    1877 00000c50 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |1024| 
    1878 00000c54 00006000             NOP             4
    1879 00000c58 023FFFD2             ADDK    .S2     32767,B4          ; |1024| 
    1880 00000c5c 023F22F6             STW     .D2T2   B4,*+SP(100)      ; |1024| 
    1881                            .line   305
    1882                    ;------------------------------------------------------------------------------
    1883                    ; 1026 | for( i = 1; i < parameters->wNumDots[d]; i++ )           //    draw rem
    1884                    ;     | aining dots from left to right,                                        
    1885                    ; 1027 | {                                                        //    a row at
    1886                    ;     |  a time (H = V spacing):                                               
    1887                    ;------------------------------------------------------------------------------
    1888 00000c60 000000A8             MVK     .S1     1,A0              ; |1026| 
    1889 00000c64 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |1026| 
    1890 00000c68 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1026| 
    1891 00000c6c 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1026| 
    1892 00000c70 00006000             NOP             4
    1893 00000c74 02149A42             ADDAH   .D2     B5,B4,B4          ; |1026| 
    1894 00000c78 02002A52             ADDK    .S2     84,B4             ; |1026| 
    1895 00000c7c 02100286             LDHU    .D2T2   *B4,B4            ; |1026| 
    1896 00000c80 00006000             NOP             4
    1897 00000c84 00901BF8             CMPLTU  .L1X    A0,B4,A1          ; 
    1898 00000c88 90002C10     [!A1]   B       .S1     L15               ; |1026| 
    1899 00000c8c 00008000             NOP             5
    1900                               ; BRANCH OCCURS                   ; |1026| 
    1901                    ;*----------------------------------------------------------------------------*
    1902                    ;*   SOFTWARE PIPELINE INFORMATION
    1903                    ;*      Disqualified loop: software pipelining disabled
    1904                    ;*----------------------------------------------------------------------------*
    1905 00000c90           L12:    
    1906                            .line   307
    1907                    ;------------------------------------------------------------------------------
    1908                    ; 1028 | j = (UINT32) xdotpos[dotPosOffset + i-1];             //       loc of l
    1909                    ;     | ast dot                                                                
    1910                    ;------------------------------------------------------------------------------
    1912 00000c94 033EA2E6             LDW     .D2T2   *+SP(84),B6       ; |1028| 
    1911 00000c90 04BF82E6             LDW     .D2T2   *+SP(112),B9      ; |1028| 
    1913 00000c98 020020EE             LDW     .D2T2   *+SP(128),B4      ; |1028| 
    1914 00000c9c 00004000             NOP             3
    1915 00000ca0 02A4C07A             ADD     .L2     B6,B9,B5          ; |1028| 
    1916 00000ca4 0297E05A             SUB     .L2     B5,1,B5           ; |1028| 
    1917 00000ca8 0290AA86             LDHU    .D2T2   *+B4[B5],B5       ; |1028| 
    1918 00000cac 00006000             NOP             4
    1919 00000cb0 02BEC2F6             STW     .D2T2   B5,*+SP(88)       ; |1028| 
    1920                            .line   308
    1921                    ;------------------------------------------------------------------------------
    1922                    ; 1029 | k = (UINT32) ydotpos[dotPosOffset + i-1];                              
    1923                    ;------------------------------------------------------------------------------
    1924 00000cb4 040021EE             LDW     .D2T2   *+SP(132),B8      ; |1029| 
    1925 00000cb8 03A4C07A             ADD     .L2     B6,B9,B7          ; 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   36

    1926 00000cbc 039FE05A             SUB     .L2     B7,1,B7           ; |1029| 
    1927 00000cc0 00002000             NOP             2
    1928 00000cc4 0020EA84             LDHU    .D2T1   *+B8[B7],A0       ; |1029| 
    1929 00000cc8 00006000             NOP             4
    1930 00000ccc 003EE2F4             STW     .D2T1   A0,*+SP(92)       ; |1029| 
    1931                            .line   309
    1932                    ;------------------------------------------------------------------------------
    1933                    ; 1030 | l = (UINT32) parameters->wRectL[d];                                    
    1934                    ;------------------------------------------------------------------------------
    1935 00000cd0 04002AEE             LDW     .D2T2   *+SP(168),B8      ; |1030| 
    1936 00000cd4 03BF42E6             LDW     .D2T2   *+SP(104),B7      ; |1030| 
    1937 00000cd8 00006000             NOP             4
    1938 00000cdc 03A0FA42             ADDAH   .D2     B8,B7,B7          ; |1030| 
    1939 00000ce0 03806A52             ADDK    .S2     212,B7            ; |1030| 
    1940 00000ce4 019C0284             LDHU    .D2T1   *B7,A3            ; |1030| 
    1941 00000ce8 00006000             NOP             4
    1942 00000cec 01BF02F4             STW     .D2T1   A3,*+SP(96)       ; |1030| 
    1943                            .line   310
    1944                    ;------------------------------------------------------------------------------
    1945                    ; 1031 | if( j + l >= m )                                      //       move up 
    1946                    ;     | to next row of dots                                                    
    1947                    ;------------------------------------------------------------------------------
    1948 00000cf0 03BF22E6             LDW     .D2T2   *+SP(100),B7      ; |1031| 
    1949 00000cf4 02147078             ADD     .L1X    A3,B5,A4          ; 
    1950 00000cf8 00004000             NOP             3
    1951 00000cfc 009C9BF8             CMPLTU  .L1X    A4,B7,A1          ; |1031| 
    1952 00000d00 80000C90     [ A1]   B       .S1     L13               ; |1031| 
    1953 00000d04 00008000             NOP             5
    1954                               ; BRANCH OCCURS                   ; |1031| 
    1955                    ;** --------------------------------------------------------------------------*
    1956                            .line   312
    1957                    ;------------------------------------------------------------------------------
    1958                    ; 1033 | if( k + l > MAX_PIX ) break;                       //       out of room
    1959                    ;     |  in upper-right quad. stop!                                            
    1960                    ;------------------------------------------------------------------------------
    1961 00000d08 020000F8             ZERO    .L1     A4                ; |1033| 
    1962                    
    1963 00000d0c 00100F89             SET     .S1     A4,0x0,0xf,A0     ; |1033| 
    1964 00000d10 01806078  ||         ADD     .L1     A3,A0,A3          ; 
    1965                    
    1966 00000d14 008069F8             CMPGTU  .L1     A3,A0,A1          ; |1033| 
    1967 00000d18 80001C10     [ A1]   B       .S1     L15               ; |1033| 
    1968 00000d1c 00008000             NOP             5
    1969                               ; BRANCH OCCURS                   ; |1033| 
    1970                    ;** --------------------------------------------------------------------------*
    1971                            .line   313
    1972                    ;------------------------------------------------------------------------------
    1973                    ; 1034 | xdotpos[dotPosOffset + i] = CTR_PIX - cd;                              
    1974                    ;------------------------------------------------------------------------------
    1975 00000d20 03BF62E6             LDW     .D2T2   *+SP(108),B7      ; |1034| 
    1976 00000d24 02BFFFAA             MVK     .S2     32767,B5          ; |1034| 
    1977 00000d28 0324C1E2             ADD     .S2     B6,B9,B6          ; 
    1978 00000d2c 00002000             NOP             2
    1979 00000d30 029CA0FA             SUB     .L2     B5,B7,B5          ; |1034| 
    1980 00000d34 0290CAD6             STH     .D2T2   B5,*+B4[B6]       ; |1034| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   37

    1981                            .line   314
    1982                    ;------------------------------------------------------------------------------
    1983                    ; 1035 | ydotpos[dotPosOffset + i] = (UINT16) (k + l);                          
    1984                    ;------------------------------------------------------------------------------
    1985 00000d38 043F02E6             LDW     .D2T2   *+SP(96),B8       ; |1035| 
    1986 00000d3c 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |1035| 
    1987 00000d40 033EE2E6             LDW     .D2T2   *+SP(92),B6       ; |1035| 
    1988 00000d44 02BF82E6             LDW     .D2T2   *+SP(112),B5      ; |1035| 
    1989 00000d48 038021EE             LDW     .D2T2   *+SP(132),B7      ; |1035| 
    1990 00000d4c 00004000             NOP             3
    1991                    
    1992 00000d50 029481E3             ADD     .S2     B4,B5,B5          ; |1035| 
    1993 00000d54 0219007A  ||         ADD     .L2     B8,B6,B4          ; |1035| 
    1994                    
    1995 00000d58 021CAAD6             STH     .D2T2   B4,*+B7[B5]       ; |1035| 
    1996                            .line   315
    1997                    ;------------------------------------------------------------------------------
    1998                    ; 1037 | else                                                  //       move to 
    1999                    ;     | next dot in row                                                        
    2000                    ;------------------------------------------------------------------------------
    2001 00000d5c 00000D10             B       .S1     L14               ; |1036| 
    2002 00000d60 00008000             NOP             5
    2003                               ; BRANCH OCCURS                   ; |1036| 
    2004                    ;** --------------------------------------------------------------------------*
    2005 00000d64           L13:    
    2006                            .line   318
    2007                    ;------------------------------------------------------------------------------
    2008                    ; 1039 | xdotpos[dotPosOffset + i] = (UINT16) (j + l);                          
    2009                    ;------------------------------------------------------------------------------
    2011 00000d68 033F82E6             LDW     .D2T2   *+SP(112),B6      ; |1039| 
    2010 00000d64 02BEA2E6             LDW     .D2T2   *+SP(84),B5       ; |1039| 
    2012 00000d6c 03BF02E6             LDW     .D2T2   *+SP(96),B7       ; |1039| 
    2013 00000d70 043EC2E6             LDW     .D2T2   *+SP(88),B8       ; |1039| 
    2014 00000d74 020020EE             LDW     .D2T2   *+SP(128),B4      ; |1039| 
    2015 00000d78 00004000             NOP             3
    2016                    
    2017 00000d80 0298A1E3             ADD     .S2     B5,B6,B5          ; |1039| 
    2018 00000d84 0320E07A  ||         ADD     .L2     B7,B8,B6          ; |1039| 
    2019                    
    2020 00000d88 0310AAD6             STH     .D2T2   B6,*+B4[B5]       ; |1039| 
    2021                            .line   319
    2022                    ;------------------------------------------------------------------------------
    2023                    ; 1040 | ydotpos[dotPosOffset + i] = (UINT16) k;                                
    2024                    ;------------------------------------------------------------------------------
    2025 00000d8c 038021EE             LDW     .D2T2   *+SP(132),B7      ; |1040| 
    2026 00000d90 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1040| 
    2027 00000d94 02BEA2E6             LDW     .D2T2   *+SP(84),B5       ; |1040| 
    2028 00000d98 03002E8E             LDHU    .D2T2   *+SP(92),B6       ; |1040| 
    2029 00000d9c 00004000             NOP             3
    2030 00000da0 0210A07A             ADD     .L2     B5,B4,B4          ; |1040| 
    2031 00000da4 031C8AD6             STH     .D2T2   B6,*+B7[B4]       ; |1040| 
    2032                    ;** --------------------------------------------------------------------------*
    2033 00000da8           L14:    
    2034                            .line   321
    2036 00000dac 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   38

    2035 00000da8 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |1042| 
    2037 00000db0 0290205A             ADD     .L2     1,B4,B5           ; |1042| 
    2038 00000db4 02BEA2F6             STW     .D2T2   B5,*+SP(84)       ; |1042| 
    2039 00000db8 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1042| 
    2040 00000dbc 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1042| 
    2041 00000dc0 00006000             NOP             4
    2042 00000dc4 02189A42             ADDAH   .D2     B6,B4,B4          ; |1042| 
    2043 00000dc8 02002A52             ADDK    .S2     84,B4             ; |1042| 
    2044 00000dcc 02100286             LDHU    .D2T2   *B4,B4            ; |1042| 
    2045 00000dd0 00006000             NOP             4
    2046 00000dd4 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    2047 00000dd8 2FFFDA10     [ B0]   B       .S1     L12               ; |1042| 
    2048 00000ddc 00008000             NOP             5
    2049                               ; BRANCH OCCURS                   ; |1042| 
    2050                    ;** --------------------------------------------------------------------------*
    2051 00000de0           L15:    
    2052                            .line   322
    2053                    ;------------------------------------------------------------------------------
    2054                    ; 1043 | parameters->wNumDots[d] = i;                             //       #dots
    2055                    ;     |  reduced if array did not fit in                                       
    2056                    ; 1044 | //       upper-right quadrant!                                         
    2057                    ;------------------------------------------------------------------------------
    2059 00000de4 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1043| 
    2058 00000de0 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1043| 
    2060 00000de8 03002A8E             LDHU    .D2T2   *+SP(84),B6       ; |1043| 
    2061 00000dec 00004000             NOP             3
    2062 00000df0 02149A42             ADDAH   .D2     B5,B4,B4          ; |1043| 
    2063 00000df4 02002A52             ADDK    .S2     84,B4             ; |1043| 
    2064 00000df8 031002D6             STH     .D2T2   B6,*B4            ; |1043| 
    2065                            .line   324
    2066 00000dfc 0001B690             B       .S1     L36               ; |1045| 
    2067 00000e00 00008000             NOP             5
    2068                               ; BRANCH OCCURS                   ; |1045| 
    2069                    ;** --------------------------------------------------------------------------*
    2070 00000e04           L16:    
    2071                            .line   326
    2072                    ;------------------------------------------------------------------------------
    2073                    ; 1047 | else if( u16Type == ORIBAR )                                // ORIBAR: 
    2074                    ;     | rect bar or line of dots oriented at                                   
    2075                    ; 1048 | {                                                           // a specif
    2076                    ;     | ic angle in [0..360)...                                                
    2077                    ;------------------------------------------------------------------------------
    2079 00000e08 00006000             NOP             4
    2078 00000e04 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1047| 
    2080 00000e0c 00114A5A             CMPEQ   .L2     B4,10,B0          ; |1047| 
    2081 00000e10 3000B410     [!B0]   B       .S1     L22               ; |1047| 
    2082 00000e14 00008000             NOP             5
    2083                               ; BRANCH OCCURS                   ; |1047| 
    2084                    ;** --------------------------------------------------------------------------*
    2085                            .line   328
    2086                    ;------------------------------------------------------------------------------
    2087                    ; 1049 | hw = (INT16) (parameters->wRectR[d] >> 1);               //    half-wid
    2088                    ;     | th of bar                                                              
    2089                    ;------------------------------------------------------------------------------
    2090 00000e18 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1049| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   39

    2091 00000e1c 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1049| 
    2092 00000e20 00006000             NOP             4
    2093 00000e24 0310BA42             ADDAH   .D2     B4,B5,B6          ; |1049| 
    2094 00000e28 03004A52             ADDK    .S2     148,B6            ; |1049| 
    2095 00000e2c 03180286             LDHU    .D2T2   *B6,B6            ; |1049| 
    2096 00000e30 00006000             NOP             4
    2097 00000e34 031829A2             SHRU    .S2     B6,1,B6           ; |1049| 
    2098 00000e38 033C82D6             STH     .D2T2   B6,*+SP(8)        ; |1049| 
    2099                            .line   329
    2100                    ;------------------------------------------------------------------------------
    2101                    ; 1050 | vw = (INT16) (parameters->wRectL[d] >> 1);               //    half-hei
    2102                    ;     | ght of bar                                                             
    2103                    ;------------------------------------------------------------------------------
    2104 00000e3c 0310BA42             ADDAH   .D2     B4,B5,B6          ; |1050| 
    2105 00000e40 03006A52             ADDK    .S2     212,B6            ; |1050| 
    2106 00000e44 03180286             LDHU    .D2T2   *B6,B6            ; |1050| 
    2107 00000e48 00006000             NOP             4
    2108 00000e4c 031829A2             SHRU    .S2     B6,1,B6           ; |1050| 
    2109 00000e50 033CA2D6             STH     .D2T2   B6,*+SP(10)       ; |1050| 
    2110                            .line   331
    2111                    ;------------------------------------------------------------------------------
    2112                    ; 1052 | if( parameters->wRectT[d] >= 360 )                       //    drift ax
    2113                    ;     | is angle, limited to [0..360)                                          
    2114                    ;------------------------------------------------------------------------------
    2115 00000e54 0210BA42             ADDAH   .D2     B4,B5,B4          ; |1052| 
    2116 00000e58 02008A52             ADDK    .S2     276,B4            ; |1052| 
    2117 00000e5c 02900286             LDHU    .D2T2   *B4,B5            ; |1052| 
    2118 00000e60 0200B42A             MVK     .S2     360,B4            ; |1052| 
    2119 00000e64 00004000             NOP             3
    2120 00000e68 0010AAFA             CMPLT   .L2     B5,B4,B0          ; |1052| 
    2121                            .line   332
    2122                    ;------------------------------------------------------------------------------
    2123                    ; 1053 | parameters->wRectT[d] = 0;                                             
    2124                    ;------------------------------------------------------------------------------
    2125 00000e6c 303F42E4     [!B0]   LDW     .D2T1   *+SP(104),A0      ; |1053| 
    2126 00000e70 31802AEC     [!B0]   LDW     .D2T1   *+SP(168),A3      ; |1053| 
    2127 00000e74 00006000             NOP             4
    2128 00000e78 300C1A40     [!B0]   ADDAH   .D1     A3,A0,A0          ; |1053| 
    2129                    
    2130 00000e80 30008A51     [!B0]   ADDK    .S1     276,A0            ; |1053| 
    2131 00000e84 318000F8  || [!B0]   ZERO    .L1     A3                ; |1053| 
    2132                    
    2133 00000e88 31800254     [!B0]   STH     .D1T1   A3,*A0            ; |1053| 
    2134                            .line   333
    2135                    ;------------------------------------------------------------------------------
    2136                    ; 1054 | xCoord = 10 * parameters->wRectT[d];                     //    convert 
    2137                    ;     | to deg/10                                                              
    2138                    ;------------------------------------------------------------------------------
    2139 00000e8c 01BF42E4             LDW     .D2T1   *+SP(104),A3      ; |1054| 
    2140 00000e90 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |1054| 
    2141 00000e94 00006000             NOP             4
    2142 00000e98 02007A40             ADDAH   .D1     A0,A3,A4          ; |1054| 
    2143 00000e9c 02008A50             ADDK    .S1     276,A4            ; |1054| 
    2144 00000ea0 02100204             LDHU    .D1T1   *A4,A4            ; |1054| 
    2145 00000ea4 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   40

    2146 00000ea8 02114F00             MPYSU   .M1     10,A4,A4          ; |1054| 
    2147 00000eac 00000000             NOP             1
    2148 00000eb0 05121008             EXTU    .S1     A4,16,16,A10      ; |1054| 
    2149                            .line   335
    2150                    ;------------------------------------------------------------------------------
    2151                    ; 1056 | hv = (INT16) sinLUT[xCoord];                             //    1024*sin
    2152                    ;     | (A), where A = drift axis angle                                        
    2153                    ;------------------------------------------------------------------------------
    2154 00000eb4 020035EC             LDW     .D2T1   *+SP(212),A4      ; |1056| 
    2155 00000eb8 00006000             NOP             4
    2156 00000ebc 02114A44             LDH     .D1T1   *+A4[A10],A4      ; |1056| 
    2157 00000ec0 00006000             NOP             4
    2158 00000ec4 023C42D4             STH     .D2T1   A4,*+SP(4)        ; |1056| 
    2159                            .line   336
    2160                    ;------------------------------------------------------------------------------
    2161                    ; 1057 | vv = (INT16) cosLUT[xCoord];                             //    1024*cos
    2162                    ;     | (A)                                                                    
    2163                    ;------------------------------------------------------------------------------
    2164 00000ec8 020036EC             LDW     .D2T1   *+SP(216),A4      ; |1057| 
    2165 00000ecc 00006000             NOP             4
    2166 00000ed0 02114A44             LDH     .D1T1   *+A4[A10],A4      ; |1057| 
    2167 00000ed4 00006000             NOP             4
    2168 00000ed8 023C62D4             STH     .D2T1   A4,*+SP(6)        ; |1057| 
    2169                            .line   338
    2170                    ;------------------------------------------------------------------------------
    2171                    ; 1059 | if( vw == 0 )                                            //    if zero 
    2172                    ;     | half-height, bar is NOT drawn!                                         
    2173                    ; 1060 | {                                                        //    We put a
    2174                    ;     | ll the dots at (0,0), but we                                           
    2175                    ;------------------------------------------------------------------------------
    2176 00000edc 003CA2C6             LDH     .D2T2   *+SP(10),B0       ; |1059| 
    2177 00000ee0 00006000             NOP             4
    2178 00000ee4 20001490     [ B0]   B       .S1     L18               ; |1059| 
    2179 00000ee8 00008000             NOP             5
    2180                               ; BRANCH OCCURS                   ; |1059| 
    2181                    ;** --------------------------------------------------------------------------*
    2182                            .line   340
    2183                    ;------------------------------------------------------------------------------
    2184                    ; 1061 | for(k=0; k<parameters->wNumDots[d]; k++)              //    don't draw 
    2185                    ;     | them in DOFRAME processing.                                            
    2186                    ;------------------------------------------------------------------------------
    2187 00000eec 020000F8             ZERO    .L1     A4                ; |1061| 
    2188 00000ef0 023EE2F4             STW     .D2T1   A4,*+SP(92)       ; |1061| 
    2189 00000ef4 00007A40             ADDAH   .D1     A0,A3,A0          ; |1061| 
    2190 00000ef8 00002A50             ADDK    .S1     84,A0             ; |1061| 
    2191 00000efc 00000204             LDHU    .D1T1   *A0,A0            ; |1061| 
    2192 00000f00 00006000             NOP             4
    2193 00000f04 00808BF8             CMPLTU  .L1     A4,A0,A1          ; 
    2194 00000f08 90019290     [!A1]   B       .S1     L36               ; |1061| 
    2195 00000f0c 000000F8             ZERO    .L1     A0                ; |1063| 
    2196 00000f10 00006000             NOP             4
    2197                               ; BRANCH OCCURS                   ; |1061| 
    2198                    ;*----------------------------------------------------------------------------*
    2199                    ;*   SOFTWARE PIPELINE INFORMATION
    2200                    ;*      Disqualified loop: software pipelining disabled
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   41

    2201                    ;*----------------------------------------------------------------------------*
    2202 00000f14           L17:    
    2203                            .line   342
    2204                    ;------------------------------------------------------------------------------
    2205                    ; 1063 | xdotpos[dotPosOffset + k] = (UINT16) 0;                                
    2206                    ;------------------------------------------------------------------------------
    2208 00000f18 023EE2E4             LDW     .D2T1   *+SP(92),A4       ; |1063| 
    2207 00000f14 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1063| 
    2209 00000f1c 018020EC             LDW     .D2T1   *+SP(128),A3      ; |1063| 
    2210 00000f20 00004000             NOP             3
    2211 00000f24 02109078             ADD     .L1X    A4,B4,A4          ; |1063| 
    2212 00000f28 000C8A54             STH     .D1T1   A0,*+A3[A4]       ; |1063| 
    2213                            .line   343
    2214                    ;------------------------------------------------------------------------------
    2215                    ; 1064 | ydotpos[dotPosOffset + k] = (UINT16) 0;                                
    2216                    ;------------------------------------------------------------------------------
    2217 00000f2c 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1064| 
    2218 00000f30 01BEE2E4             LDW     .D2T1   *+SP(92),A3       ; |1064| 
    2219 00000f34 020021EC             LDW     .D2T1   *+SP(132),A4      ; |1064| 
    2220 00000f38 00004000             NOP             3
    2221 00000f3c 01907078             ADD     .L1X    A3,B4,A3          ; |1064| 
    2222 00000f40 00106A54             STH     .D1T1   A0,*+A4[A3]       ; |1064| 
    2223                            .line   344
    2224 00000f44 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1065| 
    2225 00000f48 00006000             NOP             4
    2226 00000f4c 0210205A             ADD     .L2     1,B4,B4           ; |1065| 
    2227 00000f50 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1065| 
    2228 00000f54 033F42E6             LDW     .D2T2   *+SP(104),B6      ; |1065| 
    2229 00000f58 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1065| 
    2230 00000f5c 00006000             NOP             4
    2231 00000f60 0294DA42             ADDAH   .D2     B5,B6,B5          ; |1065| 
    2232 00000f64 02802A52             ADDK    .S2     84,B5             ; |1065| 
    2233 00000f68 02940286             LDHU    .D2T2   *B5,B5            ; |1065| 
    2234 00000f6c 00006000             NOP             4
    2235 00000f70 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    2236 00000f74 2FFFF690     [ B0]   B       .S1     L17               ; |1065| 
    2237 00000f78 00008000             NOP             5
    2238                               ; BRANCH OCCURS                   ; |1065| 
    2239                    ;** --------------------------------------------------------------------------*
    2240                            .line   345
    2241 00000f7c 00018690             B       .S1     L36               ; |1066| 
    2242 00000f80 00008000             NOP             5
    2243                               ; BRANCH OCCURS                   ; |1066| 
    2244                    ;** --------------------------------------------------------------------------*
    2245 00000f84           L18:    
    2246                            .line   346
    2247                    ;------------------------------------------------------------------------------
    2248                    ; 1067 | else if( hw == 0 )                                       //    if zero 
    2249                    ;     | half-width, bar is just a line:                                        
    2250                    ;------------------------------------------------------------------------------
    2252 00000f88 00006000             NOP             4
    2251 00000f84 003C82C6             LDH     .D2T2   *+SP(8),B0        ; |1067| 
    2253 00000f8c 20003A90     [ B0]   B       .S1     L20               ; |1067| 
    2254 00000f90 00008000             NOP             5
    2255                               ; BRANCH OCCURS                   ; |1067| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   42

    2256                    ;** --------------------------------------------------------------------------*
    2257                            .line   348
    2258                    ;------------------------------------------------------------------------------
    2259                    ; 1069 | for( k = 0; k < parameters->wNumDots[d]; k++ )                         
    2260                    ; 1071 | // bar half-ht in pixels -> 2^10 x (half-ht in mm)                     
    2261                    ;------------------------------------------------------------------------------
    2262 00000f94 020000FA             ZERO    .L2     B4                ; |1069| 
    2263 00000f98 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1069| 
    2264 00000f9c 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1069| 
    2265 00000fa0 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1069| 
    2266 00000fa4 00006000             NOP             4
    2267 00000fa8 0298BA42             ADDAH   .D2     B6,B5,B5          ; |1069| 
    2268 00000fac 02802A52             ADDK    .S2     84,B5             ; |1069| 
    2269 00000fb0 02940286             LDHU    .D2T2   *B5,B5            ; |1069| 
    2270 00000fb4 00006000             NOP             4
    2271 00000fb8 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    2272 00000fbc 30017E90     [!B0]   B       .S1     L36               ; |1069| 
    2273 00000fc0 00008000             NOP             5
    2274                               ; BRANCH OCCURS                   ; |1069| 
    2275                    ;*----------------------------------------------------------------------------*
    2276                    ;*   SOFTWARE PIPELINE INFORMATION
    2277                    ;*      Disqualified loop: software pipelining disabled
    2278                    ;*----------------------------------------------------------------------------*
    2279 00000fc4           L19:    
    2280                            .line   351
    2281                    ;------------------------------------------------------------------------------
    2282                    ; 1072 | y32 = (INT32) vw;                                                      
    2283                    ;------------------------------------------------------------------------------
    2285 00000fc8 00006000             NOP             4
    2284 00000fc4 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |1072| 
    2286 00000fcc 023CA2F6             STW     .D2T2   B4,*+SP(20)       ; |1072| 
    2287                            .line   352
    2288                    ;------------------------------------------------------------------------------
    2289                    ; 1073 | y32 *= parameters->wHeightMM;                                          
    2290                    ;------------------------------------------------------------------------------
    2291 00000fd0 03802AEE             LDW     .D2T2   *+SP(168),B7      ; |1073| 
    2292 00000fd4 00006000             NOP             4
    2293 00000fd8 029C6286             LDHU    .D2T2   *+B7(6),B5        ; |1073| 
    2294 00000fdc 00006000             NOP             4
    2295 00000fe0 0310AB82             MPYLHU  .M2     B5,B4,B6          ; |1073| 
    2296 00000fe4 0210AF82             MPYU    .M2     B5,B4,B4          ; |1073| 
    2297 00000fe8 031A0CA2             SHL     .S2     B6,16,B6          ; |1073| 
    2298 00000fec 0218807A             ADD     .L2     B4,B6,B4          ; |1073| 
    2299 00000ff0 023CA2F6             STW     .D2T2   B4,*+SP(20)       ; |1073| 
    2300                            .line   353
    2301                    ;------------------------------------------------------------------------------
    2302                    ; 1074 | y32 >>= 6;                                                             
    2303                    ; 1076 | // yMM*2^10: dots uniformly distributed in [-h/2..h/2] along y-axis (x-
    2304                    ;     | coord is 0), h in mm.                                                  
    2305                    ;------------------------------------------------------------------------------
    2306 00000ff4 0590CDA2             SHR     .S2     B4,6,B11          ; |1074| 
    2307 00000ff8 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |1074| 
    2308                            .line   356
    2309                    ;------------------------------------------------------------------------------
    2310                    ; 1077 | i32val = y32;                                                          
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   43

    2311                    ;------------------------------------------------------------------------------
    2312                            .line   357
    2313                    ;------------------------------------------------------------------------------
    2314                    ; 1078 | i32val *= (INT32) 2 * k;                                               
    2315                    ;------------------------------------------------------------------------------
    2316 00000ffc 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1078| 
    2317 00001000 00006000             NOP             4
    2318 00001004 02102CA2             SHL     .S2     B4,1,B4           ; |1078| 
    2319 00001008 02AC8882             MPYLH   .M2     B4,B11,B5         ; |1078| 
    2320 0000100c 03116882             MPYLH   .M2     B11,B4,B6         ; |1078| 
    2321 00001010 022C8F82             MPYU    .M2     B4,B11,B4         ; |1078| 
    2322 00001014 0598A07A             ADD     .L2     B5,B6,B11         ; |1078| 
    2323 00001018 05AE0CA2             SHL     .S2     B11,16,B11        ; |1078| 
    2324 0000101c 05AC807A             ADD     .L2     B4,B11,B11        ; |1078| 
    2325                            .line   358
    2326                    ;------------------------------------------------------------------------------
    2327                    ; 1079 | i32val /= parameters->wNumDots[d];                                     
    2328                    ;------------------------------------------------------------------------------
    2329 00001020 01BF42E4             LDW     .D2T1   *+SP(104),A3      ; |1079| 
    2330 00001024 001C1058             MV      .L1X    B7,A0             ; |1079| 
    2331 00001028 0188242A'            MVKL    .S2     RL378,B3          ; |1079| 
    2332 0000102c 022C1058             MV      .L1X    B11,A4            ; |1079| 
    2333 00001030 0180006A'            MVKH    .S2     RL378,B3          ; |1079| 
    2334 00001034 00007A40             ADDAH   .D1     A0,A3,A0          ; |1079| 
    2335                    
    2336 00001038 0FFDFC13!            B       .S2     __divi            ; |1079| 
    2337 0000103c 00002A50  ||         ADDK    .S1     84,A0             ; |1079| 
    2338                    
    2339 00001040 02000206             LDHU    .D1T2   *A0,B4            ; 
    2340 00001044 00006000             NOP             4
    2341 00001048           RL378:     ; CALL OCCURS                     ; |1079| 
    2342 00001048 0590105A             MV      .L2X    A4,B11            ; 
    2343                            .line   359
    2344                    ;------------------------------------------------------------------------------
    2345                    ; 1080 | i32val -= y32;                                                         
    2346                    ;------------------------------------------------------------------------------
    2347 0000104c 023CA2E6             LDW     .D2T2   *+SP(20),B4       ; |1080| 
    2348 00001050 00006000             NOP             4
    2349 00001054 059160FA             SUB     .L2     B11,B4,B11        ; |1080| 
    2350                            .line   360
    2351                    ;------------------------------------------------------------------------------
    2352                    ; 1081 | y32 = i32val;                                                          
    2353                    ; 1083 | // now do rotation transformation in true screen coords: (0,yMM) -> (xM
    2354                    ;     | M', yMM'). Then convert                                                
    2355                    ; 1084 | // back to pixels: (xPx', yPx'). Note that we have to remove scale fact
    2356                    ;     | ors 64 and 1024 as we do                                               
    2357                    ; 1085 | // the calcs. These scale factors let us do integer arithmetic w/o losi
    2358                    ;     | ng too much precision in                                               
    2359                    ; 1086 | // the final result.                                                   
    2360                    ;------------------------------------------------------------------------------
    2361 00001058 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |1081| 
    2362                            .line   366
    2363                    ;------------------------------------------------------------------------------
    2364                    ; 1087 | i32val *= (-hv);                                   // -(yMM*2^10)*(2^10
    2365                    ;     | )*sinA = xMM' * 2^20                                                   
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   44

    2366                    ;------------------------------------------------------------------------------
    2367 0000105c 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |1087| 
    2368 00001060 00006000             NOP             4
    2369 00001064 022CA882             MPYLH   .M2     B5,B11,B4         ; |1087| 
    2370 00001068 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |1087| 
    2371 0000106c 02120CA2             SHL     .S2     B4,16,B4          ; |1087| 
    2372 00001070 0210A07A             ADD     .L2     B5,B4,B4          ; |1087| 
    2373 00001074 059000DA             NEG     .L2     B4,B11            ; |1087| 
    2374                            .line   367
    2375                    ;------------------------------------------------------------------------------
    2376                    ; 1088 | i32val /= (INT32) parameters->wWidthMM;            // xMM'*2^4*(2^16/sc
    2377                    ;     | reenW_mm) = xPix'*2^4                                                  
    2378                    ;------------------------------------------------------------------------------
    2379 00001078 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1088| 
    2380 0000107c 01884A2A'            MVKL    .S2     RL380,B3          ; |1088| 
    2381 00001080 022C1058             MV      .L1X    B11,A4            ; |1088| 
    2382 00001084 0180006A'            MVKH    .S2     RL380,B3          ; |1088| 
    2383 00001088 0FFDF010!            B       .S1     __divi            ; |1088| 
    2384 0000108c 02104286             LDHU    .D2T2   *+B4(4),B4        ; 
    2385 00001090 00006000             NOP             4
    2386 00001094           RL380:     ; CALL OCCURS                     ; |1088| 
    2387 00001094 0590105A             MV      .L2X    A4,B11            ; 
    2388                            .line   368
    2389                    ;------------------------------------------------------------------------------
    2390                    ; 1089 | i32val >>= 4;                                      // xPix'            
    2391                    ;------------------------------------------------------------------------------
    2392 00001098 05AC8DA2             SHR     .S2     B11,4,B11         ; |1089| 
    2393                            .line   369
    2394                    ;------------------------------------------------------------------------------
    2395                    ; 1090 | i32val += 32767;                                   // translate to devi
    2396                    ;     | ce origin                                                              
    2397                    ;------------------------------------------------------------------------------
    2398 0000109c 05BFFFD2             ADDK    .S2     32767,B11         ; |1090| 
    2399                            .line   370
    2400                    ;------------------------------------------------------------------------------
    2401                    ; 1091 | xdotpos[dotPosOffset + k] = (UINT16)i32val;                            
    2402                    ;------------------------------------------------------------------------------
    2403 000010a0 033F82E6             LDW     .D2T2   *+SP(112),B6      ; |1091| 
    2404 000010a4 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |1091| 
    2405 000010a8 020020EE             LDW     .D2T2   *+SP(128),B4      ; |1091| 
    2406 000010ac 00004000             NOP             3
    2407 000010b0 0298A07A             ADD     .L2     B5,B6,B5          ; |1091| 
    2408 000010b4 0590AAD6             STH     .D2T2   B11,*+B4[B5]      ; |1091| 
    2409                            .line   372
    2410                    ;------------------------------------------------------------------------------
    2411                    ; 1093 | i32val = y32 * vv;                                 // (yMM*2^10)*(2^10)
    2412                    ;     | *cosA = yMM' * 2^20                                                    
    2413                    ;------------------------------------------------------------------------------
    2414 000010b8 033C62C6             LDH     .D2T2   *+SP(6),B6        ; |1093| 
    2415 000010bc 02BCA2E6             LDW     .D2T2   *+SP(20),B5       ; |1093| 
    2416 000010c0 00006000             NOP             4
    2417 000010c4 0214C882             MPYLH   .M2     B6,B5,B4          ; |1093| 
    2418 000010c8 0294CD82             MPYSU   .M2     B6,B5,B5          ; |1093| 
    2419 000010cc 02120CA2             SHL     .S2     B4,16,B4          ; |1093| 
    2420 000010d0 0590A07A             ADD     .L2     B5,B4,B11         ; |1093| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   45

    2421                            .line   373
    2422                    ;------------------------------------------------------------------------------
    2423                    ; 1094 | i32val /= (INT32) parameters->wHeightMM;           // yMM'*2^4*(2^16/sc
    2424                    ;     | reenH_mm) = yPix'*2^4                                                  
    2425                    ;------------------------------------------------------------------------------
    2426 000010d4 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1094| 
    2427 000010d8 0188782A'            MVKL    .S2     RL382,B3          ; |1094| 
    2428 000010dc 022C1058             MV      .L1X    B11,A4            ; |1094| 
    2429 000010e0 0180006A'            MVKH    .S2     RL382,B3          ; |1094| 
    2430 000010e4 0FFDE410!            B       .S1     __divi            ; |1094| 
    2431 000010e8 02106286             LDHU    .D2T2   *+B4(6),B4        ; 
    2432 000010ec 00006000             NOP             4
    2433 000010f0           RL382:     ; CALL OCCURS                     ; |1094| 
    2434 000010f0 0590105A             MV      .L2X    A4,B11            ; 
    2435                            .line   374
    2436                    ;------------------------------------------------------------------------------
    2437                    ; 1095 | i32val >>= 4;                                      // yPix'            
    2438                    ;------------------------------------------------------------------------------
    2439 000010f4 05AC8DA2             SHR     .S2     B11,4,B11         ; |1095| 
    2440                            .line   375
    2441                    ;------------------------------------------------------------------------------
    2442                    ; 1096 | i32val += 32767;                                   // translate to devi
    2443                    ;     | ce origin                                                              
    2444                    ;------------------------------------------------------------------------------
    2445 000010f8 05BFFFD2             ADDK    .S2     32767,B11         ; |1096| 
    2446                            .line   376
    2447                    ;------------------------------------------------------------------------------
    2448                    ; 1097 | ydotpos[dotPosOffset + k] = (UINT16)i32val;                            
    2449                    ;------------------------------------------------------------------------------
    2450 000010fc 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |1097| 
    2451 00001100 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1097| 
    2452 00001104 030021EE             LDW     .D2T2   *+SP(132),B6      ; |1097| 
    2453 00001108 00004000             NOP             3
    2454 0000110c 0210A07A             ADD     .L2     B5,B4,B4          ; |1097| 
    2455 00001110 05988AD6             STH     .D2T2   B11,*+B6[B4]      ; |1097| 
    2456                            .line   377
    2457 00001114 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1098| 
    2458 00001118 00006000             NOP             4
    2459 0000111c 0290205A             ADD     .L2     1,B4,B5           ; |1098| 
    2460 00001120 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1098| 
    2461 00001124 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1098| 
    2462 00001128 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1098| 
    2463 0000112c 00006000             NOP             4
    2464 00001130 02189A42             ADDAH   .D2     B6,B4,B4          ; |1098| 
    2465 00001134 02002A52             ADDK    .S2     84,B4             ; |1098| 
    2466 00001138 02100286             LDHU    .D2T2   *B4,B4            ; |1098| 
    2467 0000113c 00006000             NOP             4
    2468 00001140 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    2469 00001144 2FFFD090     [ B0]   B       .S1     L19               ; |1098| 
    2470 00001148 00008000             NOP             5
    2471                               ; BRANCH OCCURS                   ; |1098| 
    2472                    ;** --------------------------------------------------------------------------*
    2473                            .line   378
    2474                    ;------------------------------------------------------------------------------
    2475                    ; 1100 | else                                                     //    general 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   46

    2476                    ;     | case: a rect bar w/ random dots:                                       
    2477                    ;------------------------------------------------------------------------------
    2478 0000114c 00014A90             B       .S1     L36               ; |1099| 
    2479 00001150 00008000             NOP             5
    2480                               ; BRANCH OCCURS                   ; |1099| 
    2481                    ;** --------------------------------------------------------------------------*
    2482 00001154           L20:    
    2483                            .line   381
    2484                    ;------------------------------------------------------------------------------
    2485                    ; 1102 | for( k = 0; k < parameters->wNumDots[d]; k++ )                         
    2486                    ;------------------------------------------------------------------------------
    2488 00001158 033EE2F6             STW     .D2T2   B6,*+SP(92)       ; |1102| 
    2487 00001154 030000FA             ZERO    .L2     B6                ; |1102| 
    2489 0000115c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1102| 
    2490 00001160 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1102| 
    2491 00001164 00006000             NOP             4
    2492 00001168 02149A42             ADDAH   .D2     B5,B4,B4          ; |1102| 
    2493 0000116c 02002A52             ADDK    .S2     84,B4             ; |1102| 
    2494 00001170 02100286             LDHU    .D2T2   *B4,B4            ; |1102| 
    2495 00001174 00006000             NOP             4
    2496 00001178 0010CBFA             CMPLTU  .L2     B6,B4,B0          ; 
    2497 0000117c 30014690     [!B0]   B       .S1     L36               ; |1102| 
    2498 00001180 00008000             NOP             5
    2499                               ; BRANCH OCCURS                   ; |1102| 
    2500                    ;*----------------------------------------------------------------------------*
    2501                    ;*   SOFTWARE PIPELINE INFORMATION
    2502                    ;*      Disqualified loop: software pipelining disabled
    2503                    ;*----------------------------------------------------------------------------*
    2504 00001184           L21:    
    2505                            .line   383
    2506                    ;------------------------------------------------------------------------------
    2507                    ; 1104 | xCoord = ((UINT16) GetRandNum());                  // random x-coord xP
    2508                    ;     | ix in [-w/2 .. w/2]                                                    
    2509                    ;------------------------------------------------------------------------------
    2511 00001188 0188CA2A'            MVKL    .S2     RL384,B3          ; |1104| 
    2510 00001184 0FFDD610             B       .S1     _GetRandNum       ; |1104| 
    2512 0000118c 0180006A'            MVKH    .S2     RL384,B3          ; |1104| 
    2513 00001190 00004000             NOP             3
    2514 00001194           RL384:     ; CALL OCCURS                     ; |1104| 
    2515                            .line   384
    2516                    ;------------------------------------------------------------------------------
    2517                    ; 1105 | x32 = (INT32) (xCoord % parameters->wRectR[d]);                        
    2518                    ;------------------------------------------------------------------------------
    2520 00001198 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1105| 
    2519 00001194 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1105| 
    2521 0000119c 0188E02A'            MVKL    .S2     RL386,B3          ; |1105| 
    2522 000011a0 05100058             MV      .L1     A4,A10            ; 
    2523 000011a4 0180006A'            MVKH    .S2     RL386,B3          ; |1105| 
    2524 000011a8 00000000             NOP             1
    2525 000011ac 0210BA42             ADDAH   .D2     B4,B5,B4          ; |1105| 
    2526                    
    2527 000011b0 0FFDCC11!            B       .S1     __remi            ; |1105| 
    2528 000011b4 02004A52  ||         ADDK    .S2     148,B4            ; |1105| 
    2529                    
    2530 000011b8 02100286             LDHU    .D2T2   *B4,B4            ; 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   47

    2531 000011bc 00006000             NOP             4
    2532 000011c0           RL386:     ; CALL OCCURS                     ; |1105| 
    2533 000011c0 023C82F4             STW     .D2T1   A4,*+SP(16)       ; |1105| 
    2534                            .line   385
    2535                    ;------------------------------------------------------------------------------
    2536                    ; 1106 | x32 -= (INT32) hw;                                                     
    2537                    ;------------------------------------------------------------------------------
    2538 000011c4 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |1106| 
    2539 000011c8 00006000             NOP             4
    2540 000011cc 021092FA             SUB     .L2X    A4,B4,B4          ; 
    2541 000011d0 023C82F6             STW     .D2T2   B4,*+SP(16)       ; |1106| 
    2542                            .line   386
    2543                    ;------------------------------------------------------------------------------
    2544                    ; 1107 | x32 *= parameters->wWidthMM;                       // xPix -> 2^6 * xMM
    2545                    ;------------------------------------------------------------------------------
    2546 000011d4 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |1107| 
    2547 000011d8 00006000             NOP             4
    2548 000011dc 00004204             LDHU    .D1T1   *+A0(4),A0        ; |1107| 
    2549 000011e0 00006000             NOP             4
    2550 000011e4 01901B80             MPYLHU  .M1X    A0,B4,A3          ; |1107| 
    2551 000011e8 02009F82             MPYU    .M2X    A0,B4,B4          ; |1107| 
    2552 000011ec 018E0CA0             SHL     .S1     A3,16,A3          ; |1107| 
    2553 000011f0 00107078             ADD     .L1X    B4,A3,A0          ; |1107| 
    2554 000011f4 003C82F4             STW     .D2T1   A0,*+SP(16)       ; |1107| 
    2555                            .line   387
    2556                    ;------------------------------------------------------------------------------
    2557                    ; 1108 | x32 >>= 10;                                                            
    2558                    ;------------------------------------------------------------------------------
    2559 000011f8 00014DA0             SHR     .S1     A0,10,A0          ; |1108| 
    2560 000011fc 003C82F4             STW     .D2T1   A0,*+SP(16)       ; |1108| 
    2561                            .line   389
    2562                    ;------------------------------------------------------------------------------
    2563                    ; 1110 | yCoord = ((UINT16) GetRandNum());                  // random y-coord yP
    2564                    ;     | ix in [-h/2 .. h/2]                                                    
    2565                    ;------------------------------------------------------------------------------
    2566 00001200 0FFDC610             B       .S1     _GetRandNum       ; |1110| 
    2567 00001204 0189082A'            MVKL    .S2     RL388,B3          ; |1110| 
    2568 00001208 0180006A'            MVKH    .S2     RL388,B3          ; |1110| 
    2569 0000120c 00004000             NOP             3
    2570 00001210           RL388:     ; CALL OCCURS                     ; |1110| 
    2571                            .line   390
    2572                    ;------------------------------------------------------------------------------
    2573                    ; 1111 | y32 = (INT32) (yCoord % parameters->wRectL[d]);                        
    2574                    ;------------------------------------------------------------------------------
    2576 00001214 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1111| 
    2575 00001210 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1111| 
    2577 00001218 01891E2A'            MVKL    .S2     RL390,B3          ; |1111| 
    2578 0000121c 05900058             MV      .L1     A4,A11            ; 
    2579 00001220 0180006A'            MVKH    .S2     RL390,B3          ; |1111| 
    2580 00001224 00000000             NOP             1
    2581 00001228 02149A42             ADDAH   .D2     B5,B4,B4          ; |1111| 
    2582                    
    2583 0000122c 0FFDBC11!            B       .S1     __remi            ; |1111| 
    2584 00001230 02006A52  ||         ADDK    .S2     212,B4            ; |1111| 
    2585                    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   48

    2586 00001234 02100286             LDHU    .D2T2   *B4,B4            ; 
    2587 00001238 00006000             NOP             4
    2588 0000123c           RL390:     ; CALL OCCURS                     ; |1111| 
    2589 0000123c 023CA2F4             STW     .D2T1   A4,*+SP(20)       ; |1111| 
    2590                            .line   391
    2591                    ;------------------------------------------------------------------------------
    2592                    ; 1112 | y32 -= (INT32) vw;                                                     
    2593                    ;------------------------------------------------------------------------------
    2594 00001240 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |1112| 
    2595 00001244 00006000             NOP             4
    2596 00001248 001090F8             SUB     .L1X    A4,B4,A0          ; 
    2597 0000124c 003CA2F4             STW     .D2T1   A0,*+SP(20)       ; |1112| 
    2598                            .line   392
    2599                    ;------------------------------------------------------------------------------
    2600                    ; 1113 | y32 *= parameters->wHeightMM;                      // yPix -> 2^6 * yMM
    2601                    ;------------------------------------------------------------------------------
    2602 00001250 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1113| 
    2603 00001254 00006000             NOP             4
    2604 00001258 02906286             LDHU    .D2T2   *+B4(6),B5        ; |1113| 
    2605 0000125c 00006000             NOP             4
    2606 00001260 01941780             MPYLHU  .M1X    B5,A0,A3          ; |1113| 
    2607 00001264 0280BF82             MPYU    .M2X    B5,A0,B5          ; |1113| 
    2608 00001268 018E0CA0             SHL     .S1     A3,16,A3          ; |1113| 
    2609 0000126c 00147078             ADD     .L1X    B5,A3,A0          ; |1113| 
    2610 00001270 003CA2F4             STW     .D2T1   A0,*+SP(20)       ; |1113| 
    2611                            .line   393
    2612                    ;------------------------------------------------------------------------------
    2613                    ; 1114 | y32 >>= 10;                                                            
    2614                    ; 1116 | // rotation transformation: (xMM*2^6)*1024*cosA - (yMM*2^6)*1024*sinA =
    2615                    ;     |  (xMM*cosA - yMM*sinA)*2^16                                            
    2616                    ; 1117 | // = xMM'*2^16. xMM'*2^16/screenW_mm = xPix'. Translate to device origi
    2617                    ;     | n. Analgously for y-coord,                                             
    2618                    ; 1118 | // (xMM*2^6)*1024*sinA + (yMM*2^6)*1024*cosA = yMM'*2^16. yMM'*2^16/scr
    2619                    ;     | eenH_mm = yPix'.                                                       
    2620                    ;------------------------------------------------------------------------------
    2621 00001274 00014DA0             SHR     .S1     A0,10,A0          ; |1114| 
    2622 00001278 003CA2F4             STW     .D2T1   A0,*+SP(20)       ; |1114| 
    2623                            .line   398
    2624                    ;------------------------------------------------------------------------------
    2625                    ; 1119 | i32val = x32 * vv - y32 * hv;                                          
    2626                    ;------------------------------------------------------------------------------
    2627 0000127c 043C62C6             LDH     .D2T2   *+SP(6),B8        ; |1119| 
    2628 00001280 03BC82E6             LDW     .D2T2   *+SP(16),B7       ; |1119| 
    2629 00001284 033C42C6             LDH     .D2T2   *+SP(4),B6        ; |1119| 
    2630 00001288 00004000             NOP             3
    2631 0000128c 029D0882             MPYLH   .M2     B8,B7,B5          ; |1119| 
    2632                    
    2633 00001290 039D0D83             MPYSU   .M2     B8,B7,B7          ; |1119| 
    2634 00001294 01981480  ||         MPYLH   .M1X    B6,A0,A3          ; |1119| 
    2635                    
    2636 00001298 0300DD82             MPYSU   .M2X    B6,A0,B6          ; |1119| 
    2637                    
    2638 000012a0 018E0CA1             SHL     .S1     A3,16,A3          ; |1119| 
    2639 000012a4 02960CA2  ||         SHL     .S2     B5,16,B5          ; |1119| 
    2640                    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   49

    2641 000012a8 030CD07B             ADD     .L2X    B6,A3,B6          ; |1119| 
    2642 000012ac 0294E1E2  ||         ADD     .S2     B7,B5,B5          ; |1119| 
    2643                    
    2644 000012b0 0598A0FA             SUB     .L2     B5,B6,B11         ; |1119| 
    2645                            .line   399
    2646                    ;------------------------------------------------------------------------------
    2647                    ; 1120 | i32val /= (INT32) parameters->wWidthMM;                                
    2648                    ;------------------------------------------------------------------------------
    2649 000012b4 0FFDAC10!            B       .S1     __divi            ; |1120| 
    2650 000012b8 02104286             LDHU    .D2T2   *+B4(4),B4        ; 
    2651 000012bc 0189662A'            MVKL    .S2     RL392,B3          ; |1120| 
    2652 000012c0 022C1058             MV      .L1X    B11,A4            ; |1120| 
    2653 000012c4 0180006A'            MVKH    .S2     RL392,B3          ; |1120| 
    2654 000012c8 00000000             NOP             1
    2655 000012cc           RL392:     ; CALL OCCURS                     ; |1120| 
    2656 000012cc 0590105A             MV      .L2X    A4,B11            ; 
    2657                            .line   400
    2658                    ;------------------------------------------------------------------------------
    2659                    ; 1121 | i32val += 32767;                                                       
    2660                    ;------------------------------------------------------------------------------
    2661 000012d0 05BFFFD2             ADDK    .S2     32767,B11         ; |1121| 
    2662                            .line   401
    2663                    ;------------------------------------------------------------------------------
    2664                    ; 1122 | xdotpos[dotPosOffset + k] = (UINT16)i32val;                            
    2665                    ;------------------------------------------------------------------------------
    2666 000012d4 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |1122| 
    2667 000012d8 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1122| 
    2668 000012dc 030020EE             LDW     .D2T2   *+SP(128),B6      ; |1122| 
    2669 000012e0 00004000             NOP             3
    2670 000012e4 0210A07A             ADD     .L2     B5,B4,B4          ; |1122| 
    2671 000012e8 05988AD6             STH     .D2T2   B11,*+B6[B4]      ; |1122| 
    2672                            .line   403
    2673                    ;------------------------------------------------------------------------------
    2674                    ; 1124 | i32val = x32 * hv + y32 * vv;                                          
    2675                    ;------------------------------------------------------------------------------
    2676 000012ec 01BC62C4             LDH     .D2T1   *+SP(6),A3        ; |1124| 
    2677 000012f0 02BCA2E6             LDW     .D2T2   *+SP(20),B5       ; |1124| 
    2678 000012f4 03BC42C6             LDH     .D2T2   *+SP(4),B7        ; |1124| 
    2679 000012f8 033C82E6             LDW     .D2T2   *+SP(16),B6       ; |1124| 
    2680 000012fc 00004000             NOP             3
    2681                    
    2682 00001300 00147881             MPYLH   .M1X    A3,B5,A0          ; |1124| 
    2683 00001304 028CBE82  ||         MPYSU   .M2X    A3,B5,B5          ; |1124| 
    2684                    
    2685 00001308 0218E882             MPYLH   .M2     B7,B6,B4          ; |1124| 
    2686 0000130c 0318ED82             MPYSU   .M2     B7,B6,B6          ; |1124| 
    2687                    
    2688 00001310 00020CA1             SHL     .S1     A0,16,A0          ; |1124| 
    2689 00001314 02120CA2  ||         SHL     .S2     B4,16,B4          ; |1124| 
    2690                    
    2691 00001318 0280B07B             ADD     .L2X    B5,A0,B5          ; |1124| 
    2692 0000131c 0210C1E2  ||         ADD     .S2     B6,B4,B4          ; |1124| 
    2693                    
    2694 00001320 0590A07A             ADD     .L2     B5,B4,B11         ; |1124| 
    2695                            .line   404
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   50

    2696                    ;------------------------------------------------------------------------------
    2697                    ; 1125 | i32val /= (INT32) parameters->wHeightMM;                               
    2698                    ;------------------------------------------------------------------------------
    2699 00001324 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1125| 
    2700 00001328 0189A02A'            MVKL    .S2     RL394,B3          ; |1125| 
    2701 0000132c 022C1058             MV      .L1X    B11,A4            ; |1125| 
    2702 00001330 0180006A'            MVKH    .S2     RL394,B3          ; |1125| 
    2703 00001334 0FFD9C10!            B       .S1     __divi            ; |1125| 
    2704 00001338 02106286             LDHU    .D2T2   *+B4(6),B4        ; 
    2705 0000133c 00006000             NOP             4
    2706 00001340           RL394:     ; CALL OCCURS                     ; |1125| 
    2707 00001340 0590105A             MV      .L2X    A4,B11            ; 
    2708                            .line   405
    2709                    ;------------------------------------------------------------------------------
    2710                    ; 1126 | i32val += 32767;                                                       
    2711                    ;------------------------------------------------------------------------------
    2712 00001344 05BFFFD2             ADDK    .S2     32767,B11         ; |1126| 
    2713                            .line   406
    2714                    ;------------------------------------------------------------------------------
    2715                    ; 1127 | ydotpos[dotPosOffset + k] = (UINT16)i32val;                            
    2716                    ;------------------------------------------------------------------------------
    2717 00001348 033F82E6             LDW     .D2T2   *+SP(112),B6      ; |1127| 
    2718 0000134c 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1127| 
    2719 00001350 028021EE             LDW     .D2T2   *+SP(132),B5      ; |1127| 
    2720 00001354 00004000             NOP             3
    2721 00001358 0218807A             ADD     .L2     B4,B6,B4          ; |1127| 
    2722 0000135c 05948AD6             STH     .D2T2   B11,*+B5[B4]      ; |1127| 
    2723                            .line   407
    2724 00001360 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1128| 
    2725 00001364 00006000             NOP             4
    2726 00001368 0290205A             ADD     .L2     1,B4,B5           ; |1128| 
    2727 0000136c 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1128| 
    2728 00001370 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1128| 
    2729 00001374 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1128| 
    2730 00001378 00006000             NOP             4
    2731 0000137c 02189A42             ADDAH   .D2     B6,B4,B4          ; |1128| 
    2732 00001380 02002A52             ADDK    .S2     84,B4             ; |1128| 
    2733 00001384 02100286             LDHU    .D2T2   *B4,B4            ; |1128| 
    2734 00001388 00006000             NOP             4
    2735                    ;** --------------------------------------------------------------------------*
    2736 0000138c 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    2737 00001390 2FFFC090     [ B0]   B       .S1     L21               ; |1128| 
    2738 00001394 00008000             NOP             5
    2739                               ; BRANCH OCCURS                   ; |1128| 
    2740                    ;** --------------------------------------------------------------------------*
    2741                            .line   409
    2742 00001398 00010290             B       .S1     L36               ; |1130| 
    2743 0000139c 00008000             NOP             5
    2744                               ; BRANCH OCCURS                   ; |1130| 
    2745                    ;** --------------------------------------------------------------------------*
    2746 000013a0           L22:    
    2747                            .line   411
    2748                    ;------------------------------------------------------------------------------
    2749                    ; 1132 | else if( u16Type == STATICANNU )                            // STATICAN
    2750                    ;     | NU: Optimized implementation of rect                                   
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   51

    2751                    ; 1133 | {                                                           // annulus 
    2752                    ;     | when neither window nor dots move.                                     
    2753                    ;------------------------------------------------------------------------------
    2755 000013a4 00006000             NOP             4
    2754 000013a0 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1132| 
    2756 000013a8 0010CA5A             CMPEQ   .L2     B4,6,B0           ; |1132| 
    2757 000013ac 30004710     [!B0]   B       .S1     L26               ; |1132| 
    2758 000013b0 00008000             NOP             5
    2759                               ; BRANCH OCCURS                   ; |1132| 
    2760                    ;** --------------------------------------------------------------------------*
    2761                            .line   413
    2762                    ;------------------------------------------------------------------------------
    2763                    ; 1134 | l = 0;                                                   // dots always
    2764                    ;     |  stay at their initial positions!                                      
    2765                    ;------------------------------------------------------------------------------
    2766 000013b4 020000FA             ZERO    .L2     B4                ; |1134| 
    2767 000013b8 023F02F6             STW     .D2T2   B4,*+SP(96)       ; |1134| 
    2768                            .line   414
    2769                    ;------------------------------------------------------------------------------
    2770                    ; 1135 | for ( k = 0; k < parameters->wNumDots[d]; k++ )          // we generate
    2771                    ;     |  dots randomly, then drop all                                          
    2772                    ; 1136 | {                                                        // those which
    2773                    ;     |  are outside the annular window!                                       
    2774                    ;------------------------------------------------------------------------------
    2775 000013bc 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1135| 
    2776 000013c0 033F42E6             LDW     .D2T2   *+SP(104),B6      ; |1135| 
    2777 000013c4 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1135| 
    2778 000013c8 00006000             NOP             4
    2779 000013cc 0294DA42             ADDAH   .D2     B5,B6,B5          ; |1135| 
    2780 000013d0 02802A52             ADDK    .S2     84,B5             ; |1135| 
    2781 000013d4 02940286             LDHU    .D2T2   *B5,B5            ; |1135| 
    2782 000013d8 00006000             NOP             4
    2783 000013dc 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    2784 000013e0 30003A90     [!B0]   B       .S1     L25               ; |1135| 
    2785 000013e4 00008000             NOP             5
    2786                               ; BRANCH OCCURS                   ; |1135| 
    2787                    ;*----------------------------------------------------------------------------*
    2788                    ;*   SOFTWARE PIPELINE INFORMATION
    2789                    ;*      Disqualified loop: software pipelining disabled
    2790                    ;*----------------------------------------------------------------------------*
    2791 000013e8           L23:    
    2792                            .line   416
    2793                    ;------------------------------------------------------------------------------
    2794                    ; 1137 | xCoord = (UINT16) GetRandNum();                                        
    2795                    ;------------------------------------------------------------------------------
    2797 000013ec 0189FC2A'            MVKL    .S2     RL396,B3          ; |1137| 
    2796 000013e8 0FFD8A10             B       .S1     _GetRandNum       ; |1137| 
    2798 000013f0 0180006A'            MVKH    .S2     RL396,B3          ; |1137| 
    2799 000013f4 00004000             NOP             3
    2800 000013f8           RL396:     ; CALL OCCURS                     ; |1137| 
    2801 000013f8 05100058             MV      .L1     A4,A10            ; 
    2802                            .line   417
    2803                    ;------------------------------------------------------------------------------
    2804                    ; 1138 | yCoord = (UINT16) GetRandNum();                                        
    2805                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   52

    2806 000013fc 0FFD8A10             B       .S1     _GetRandNum       ; |1138| 
    2807 00001400 018A062A'            MVKL    .S2     RL398,B3          ; |1138| 
    2808 00001404 0180006A'            MVKH    .S2     RL398,B3          ; |1138| 
    2809 00001408 00004000             NOP             3
    2810 0000140c           RL398:     ; CALL OCCURS                     ; |1138| 
    2811 0000140c 05900058             MV      .L1     A4,A11            ; 
    2812                            .line   418
    2813                    ;------------------------------------------------------------------------------
    2814                    ; 1139 | if( (xCoord >= parameters->wOuterL[d]) && (xCoord <= parameters->wOuter
    2815                    ;     | R[d]) &&                                                               
    2816                    ; 1140 | (yCoord >= parameters->wOuterB[d]) && (yCoord <= parameters->wOuterT[d]
    2817                    ;     | ) &&                                                                   
    2818                    ; 1141 | ((xCoord > parameters->wRectR[d]) || (xCoord < parameters->wRectL[d]) |
    2819                    ;     | |                                                                      
    2820                    ; 1142 | (yCoord > parameters->wRectT[d]) || (yCoord < parameters->wRectB[d])) )
    2821                    ;------------------------------------------------------------------------------
    2822 00001410 01802AEC             LDW     .D2T1   *+SP(168),A3      ; |1139| 
    2823 00001414 023F42E4             LDW     .D2T1   *+SP(104),A4      ; |1139| 
    2824 00001418 00006000             NOP             4
    2825 0000141c 000C9A40             ADDAH   .D1     A3,A4,A0          ; |1139| 
    2826 00001420 0000EA50             ADDK    .S1     468,A0            ; |1139| 
    2827 00001424 00000204             LDHU    .D1T1   *A0,A0            ; |1139| 
    2828 00001428 00006000             NOP             4
    2829 0000142c 00014AF8             CMPLT   .L1     A10,A0,A0         ; |1139| 
    2830 00001430 00802DD8             XOR     .L1     1,A0,A1           ; |1139| 
    2831 00001434 823F42E6     [ A1]   LDW     .D2T2   *+SP(104),B4      ; |1139| 
    2832 00001438 82802AEE     [ A1]   LDW     .D2T2   *+SP(168),B5      ; |1139| 
    2833 0000143c 00006000             NOP             4
    2834 00001440 82149A42     [ A1]   ADDAH   .D2     B5,B4,B4          ; |1139| 
    2835 00001444 8200CA52     [ A1]   ADDK    .S2     404,B4            ; |1139| 
    2836 00001448 82100286     [ A1]   LDHU    .D2T2   *B4,B4            ; |1139| 
    2837 0000144c 00006000             NOP             4
    2838 00001450 801158F8     [ A1]   CMPGT   .L1X    A10,B4,A0         ; |1139| 
    2839 00001454 80802DD8     [ A1]   XOR     .L1     1,A0,A1           ; |1139| 
    2840 00001458 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    2841 0000145c 00802DD8             XOR     .L1     1,A0,A1           ; |1139| 
    2842 00001460 823F42E6     [ A1]   LDW     .D2T2   *+SP(104),B4      ; |1139| 
    2843 00001464 82802AEE     [ A1]   LDW     .D2T2   *+SP(168),B5      ; |1139| 
    2844 00001468 00006000             NOP             4
    2845 0000146c 82149A42     [ A1]   ADDAH   .D2     B5,B4,B4          ; |1139| 
    2846 00001470 82012A52     [ A1]   ADDK    .S2     596,B4            ; |1139| 
    2847 00001474 82100286     [ A1]   LDHU    .D2T2   *B4,B4            ; |1139| 
    2848 00001478 00006000             NOP             4
    2849 0000147c 80117AF8     [ A1]   CMPLT   .L1X    A11,B4,A0         ; |1139| 
    2850 00001480 80802DD8     [ A1]   XOR     .L1     1,A0,A1           ; |1139| 
    2851 00001484 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    2852 00001488 00802DD8             XOR     .L1     1,A0,A1           ; |1139| 
    2853 0000148c 80002AEC     [ A1]   LDW     .D2T1   *+SP(168),A0      ; |1139| 
    2854 00001490 82BF42E4     [ A1]   LDW     .D2T1   *+SP(104),A5      ; |1139| 
    2855 00001494 00006000             NOP             4
    2856 00001498 8000BA40     [ A1]   ADDAH   .D1     A0,A5,A0          ; |1139| 
    2857 0000149c 80010A50     [ A1]   ADDK    .S1     532,A0            ; |1139| 
    2858 000014a0 80000204     [ A1]   LDHU    .D1T1   *A0,A0            ; |1139| 
    2859 000014a4 00006000             NOP             4
    2860 000014a8 800168F8     [ A1]   CMPGT   .L1     A11,A0,A0         ; |1139| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   53

    2861 000014ac 80802DD8     [ A1]   XOR     .L1     1,A0,A1           ; |1139| 
    2862 000014b0 90001390     [!A1]   B       .S1     L24               ; |1139| 
    2863 000014b4 800C9A40     [ A1]   ADDAH   .D1     A3,A4,A0          ; |1139| 
    2864 000014b8 80004A50     [ A1]   ADDK    .S1     148,A0            ; |1139| 
    2865 000014bc 80000204     [ A1]   LDHU    .D1T1   *A0,A0            ; |1139| 
    2866 000014c0 00002000             NOP             2
    2867                               ; BRANCH OCCURS                   ; |1139| 
    2868                    ;** --------------------------------------------------------------------------*
    2869 000014c4 00006000             NOP             4
    2870 000014c8 008148F8             CMPGT   .L1     A10,A0,A1         ; |1139| 
    2871 000014cc 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1139| 
    2872 000014d0 92002AEE     [!A1]   LDW     .D2T2   *+SP(168),B4      ; |1139| 
    2873 000014d4 00006000             NOP             4
    2874 000014d8 9210BA42     [!A1]   ADDAH   .D2     B4,B5,B4          ; |1139| 
    2875 000014dc 92006A52     [!A1]   ADDK    .S2     212,B4            ; |1139| 
    2876 000014e0 92100286     [!A1]   LDHU    .D2T2   *B4,B4            ; |1139| 
    2877 000014e4 00006000             NOP             4
    2878 000014e8 90915AF8     [!A1]   CMPLT   .L1X    A10,B4,A1         ; |1139| 
    2879 000014ec 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    2880 000014f0 00802DD8             XOR     .L1     1,A0,A1           ; |1139| 
    2881 000014f4 92802AEE     [!A1]   LDW     .D2T2   *+SP(168),B5      ; |1139| 
    2882 000014f8 923F42E6     [!A1]   LDW     .D2T2   *+SP(104),B4      ; |1139| 
    2883 000014fc 00006000             NOP             4
    2884 00001500 92149A42     [!A1]   ADDAH   .D2     B5,B4,B4          ; |1139| 
    2885 00001504 92008A52     [!A1]   ADDK    .S2     276,B4            ; |1139| 
    2886 00001508 92100286     [!A1]   LDHU    .D2T2   *B4,B4            ; |1139| 
    2887 0000150c 00006000             NOP             4
    2888 00001510 909178F8     [!A1]   CMPGT   .L1X    A11,B4,A1         ; |1139| 
    2889 00001514 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    2890 00001518 00802DD8             XOR     .L1     1,A0,A1           ; |1139| 
    2891 0000151c 92002AEE     [!A1]   LDW     .D2T2   *+SP(168),B4      ; |1139| 
    2892 00001520 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1139| 
    2893 00001524 00006000             NOP             4
    2894 00001528 9210BA42     [!A1]   ADDAH   .D2     B4,B5,B4          ; |1139| 
    2895 0000152c 9200AA52     [!A1]   ADDK    .S2     340,B4            ; |1139| 
    2896 00001530 92100286     [!A1]   LDHU    .D2T2   *B4,B4            ; |1139| 
    2897 00001534 00006000             NOP             4
    2898 00001538 90917AF8     [!A1]   CMPLT   .L1X    A11,B4,A1         ; |1139| 
    2899                    ;** --------------------------------------------------------------------------*
    2900 0000153c           L24:    
    2901                            .line   423
    2902                    ;------------------------------------------------------------------------------
    2903                    ; 1144 | xdotpos[dotPosOffset + l] = xCoord;                                    
    2904                    ;------------------------------------------------------------------------------
    2906 00001540 803F02E4     [ A1]   LDW     .D2T1   *+SP(96),A0       ; |1144| 
    2905 0000153c 823F82E6     [ A1]   LDW     .D2T2   *+SP(112),B4      ; |1144| 
    2907 00001544 818020EC     [ A1]   LDW     .D2T1   *+SP(128),A3      ; |1144| 
    2908 00001548 00004000             NOP             3
    2909 0000154c 80101078     [ A1]   ADD     .L1X    A0,B4,A0          ; |1144| 
    2910 00001550 850C0A54     [ A1]   STH     .D1T1   A10,*+A3[A0]      ; |1144| 
    2911                            .line   424
    2912                    ;------------------------------------------------------------------------------
    2913                    ; 1145 | ydotpos[dotPosOffset + l] = yCoord;                                    
    2914                    ;------------------------------------------------------------------------------
    2915 00001554 823F82E6     [ A1]   LDW     .D2T2   *+SP(112),B4      ; |1145| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   54

    2916 00001558 803F02E4     [ A1]   LDW     .D2T1   *+SP(96),A0       ; |1145| 
    2917 0000155c 818021EC     [ A1]   LDW     .D2T1   *+SP(132),A3      ; |1145| 
    2918 00001560 00004000             NOP             3
    2919 00001564 80101078     [ A1]   ADD     .L1X    A0,B4,A0          ; |1145| 
    2920 00001568 858C0A54     [ A1]   STH     .D1T1   A11,*+A3[A0]      ; |1145| 
    2921                            .line   425
    2922                    ;------------------------------------------------------------------------------
    2923                    ; 1146 | l++;                                                                   
    2924                    ;------------------------------------------------------------------------------
    2925 0000156c 823F02E6     [ A1]   LDW     .D2T2   *+SP(96),B4       ; |1146| 
    2926 00001570 00006000             NOP             4
    2927 00001574 8210205A     [ A1]   ADD     .L2     1,B4,B4           ; |1146| 
    2928 00001578 823F02F6     [ A1]   STW     .D2T2   B4,*+SP(96)       ; |1146| 
    2929                            .line   427
    2930 0000157c 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1148| 
    2931 00001580 00006000             NOP             4
    2932 00001584 0290205A             ADD     .L2     1,B4,B5           ; |1148| 
    2933 00001588 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1148| 
    2934 0000158c 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1148| 
    2935 00001590 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1148| 
    2936 00001594 00006000             NOP             4
    2937 00001598 02189A42             ADDAH   .D2     B6,B4,B4          ; |1148| 
    2938 0000159c 02002A52             ADDK    .S2     84,B4             ; |1148| 
    2939 000015a0 02100286             LDHU    .D2T2   *B4,B4            ; |1148| 
    2940 000015a4 00006000             NOP             4
    2941 000015a8 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    2942 000015ac 2FFFC910     [ B0]   B       .S1     L23               ; |1148| 
    2943 000015b0 00008000             NOP             5
    2944                               ; BRANCH OCCURS                   ; |1148| 
    2945                    ;** --------------------------------------------------------------------------*
    2946 000015b4           L25:    
    2947                            .line   428
    2948                    ;------------------------------------------------------------------------------
    2949                    ; 1149 | parameters->wNumDots[d] = l;                                           
    2950                    ;------------------------------------------------------------------------------
    2952 000015b8 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1149| 
    2951 000015b4 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1149| 
    2953 000015bc 0300308E             LDHU    .D2T2   *+SP(96),B6       ; |1149| 
    2954 000015c0 00004000             NOP             3
    2955 000015c4 02149A42             ADDAH   .D2     B5,B4,B4          ; |1149| 
    2956 000015c8 02002A52             ADDK    .S2     84,B4             ; |1149| 
    2957 000015cc 031002D6             STH     .D2T2   B6,*B4            ; |1149| 
    2958                            .line   429
    2959 000015d0 0000BA90             B       .S1     L36               ; |1150| 
    2960 000015d4 00008000             NOP             5
    2961                               ; BRANCH OCCURS                   ; |1150| 
    2962                    ;** --------------------------------------------------------------------------*
    2963 000015d8           L26:    
    2964                            .line   431
    2965                    ;------------------------------------------------------------------------------
    2966                    ; 1152 | else if( u16Type == OPTRECTWIN || u16Type == OPTCOHERENT || // OPTRECTW
    2967                    ;     | IN, etc: tgt dots randomly distrib.                                    
    2968                    ; 1153 | u16Type == DOTLIFEWIN || u16Type == DL_NOISEDIR || // within boundaries
    2969                    ;     |  (incl edges) of the                                                   
    2970                    ; 1154 | u16Type == DL_NOISESPEED )                         // visible window...
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   55

    2971                    ;------------------------------------------------------------------------------
    2973 000015dc 00006000             NOP             4
    2972 000015d8 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1152| 
    2974 000015e0 0010EA5A             CMPEQ   .L2     B4,7,B0           ; |1152| 
    2975 000015e4 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1152| 
    2976 000015e8 00006000             NOP             4
    2977 000015ec 30118A5A     [!B0]   CMPEQ   .L2     B4,12,B0          ; |1152| 
    2978 000015f0 02000A5A             CMPEQ   .L2     B0,0,B4           ; 
    2979 000015f4 00102DDA             XOR     .L2     1,B4,B0           ; |1152| 
    2980 000015f8 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1152| 
    2981 000015fc 00006000             NOP             4
    2982 00001600 30110A5A     [!B0]   CMPEQ   .L2     B4,8,B0           ; |1152| 
    2983 00001604 02000A5A             CMPEQ   .L2     B0,0,B4           ; 
    2984 00001608 00102DDA             XOR     .L2     1,B4,B0           ; |1152| 
    2985 0000160c 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1152| 
    2986 00001610 00006000             NOP             4
    2987 00001614 30116A5A     [!B0]   CMPEQ   .L2     B4,11,B0          ; |1152| 
    2988 00001618 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1152| 
    2989 0000161c 00006000             NOP             4
    2990 00001620 3011AA5A     [!B0]   CMPEQ   .L2     B4,13,B0          ; |1152| 
    2991 00001624 30006B10     [!B0]   B       .S1     L32               ; |1152| 
    2992 00001628 00008000             NOP             5
    2993                               ; BRANCH OCCURS                   ; |1152| 
    2994                    ;** --------------------------------------------------------------------------*
    2995                            .line   435
    2996                    ;------------------------------------------------------------------------------
    2997                    ; 1156 | hsize[d] = parameters->wRectR[d] - parameters->wRectL[d] + 1;          
    2998                    ;------------------------------------------------------------------------------
    2999 0000162c 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1156| 
    3000 00001630 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1156| 
    3001 00001634 00004000             NOP             3
    3002 00001638 00141058             MV      .L1X    B5,A0             ; |1156| 
    3003                    
    3004 00001640 02949A43             ADDAH   .D2     B5,B4,B5          ; |1156| 
    3005 00001644 01901058  ||         MV      .L1X    B4,A3             ; 
    3006                    
    3007 00001648 02806A53             ADDK    .S2     212,B5            ; |1156| 
    3008 0000164c 00007A40  ||         ADDAH   .D1     A0,A3,A0          ; |1156| 
    3009                    
    3010 00001650 03140287             LDHU    .D2T2   *B5,B6            ; |1156| 
    3011 00001654 00004A50  ||         ADDK    .S1     148,A0            ; |1156| 
    3012                    
    3013 00001658 00000204             LDHU    .D1T1   *A0,A0            ; |1156| 
    3014 0000165c 02802BEE             LDW     .D2T2   *+SP(172),B5      ; |1156| 
    3015 00001660 00004000             NOP             3
    3016 00001664 001810F8             SUB     .L1X    A0,B6,A0          ; |1156| 
    3017 00001668 00002058             ADD     .L1     1,A0,A0           ; |1156| 
    3018 0000166c 00148AD4             STH     .D2T1   A0,*+B5[B4]       ; |1156| 
    3019                            .line   436
    3020                    ;------------------------------------------------------------------------------
    3021                    ; 1157 | vsize[d] = parameters->wRectT[d] - parameters->wRectB[d] + 1;          
    3022                    ;------------------------------------------------------------------------------
    3023 00001670 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1157| 
    3024 00001674 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1157| 
    3025 00001678 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   56

    3026 0000167c 0310BA42             ADDAH   .D2     B4,B5,B6          ; |1157| 
    3027                    
    3028 00001680 0210BA43             ADDAH   .D2     B4,B5,B4          ; |1157| 
    3029 00001684 0300AA52  ||         ADDK    .S2     340,B6            ; |1157| 
    3030                    
    3031 00001688 03980287             LDHU    .D2T2   *B6,B7            ; |1157| 
    3032 0000168c 02008A52  ||         ADDK    .S2     276,B4            ; |1157| 
    3033                    
    3034 00001690 03100286             LDHU    .D2T2   *B4,B6            ; |1157| 
    3035 00001694 02002CEE             LDW     .D2T2   *+SP(176),B4      ; |1157| 
    3036 00001698 00004000             NOP             3
    3037 0000169c 031CC0FA             SUB     .L2     B6,B7,B6          ; |1157| 
    3038 000016a0 0318205A             ADD     .L2     1,B6,B6           ; |1157| 
    3039 000016a4 0310AAD6             STH     .D2T2   B6,*+B4[B5]       ; |1157| 
    3040                            .line   437
    3041                    ;------------------------------------------------------------------------------
    3042                    ; 1158 | for( k = 0; k < parameters->wNumDots[d]; k++ )                         
    3043                    ;------------------------------------------------------------------------------
    3044 000016a8 000000F8             ZERO    .L1     A0                ; |1158| 
    3045 000016ac 003EE2F4             STW     .D2T1   A0,*+SP(92)       ; |1158| 
    3046 000016b0 02002AEC             LDW     .D2T1   *+SP(168),A4      ; |1158| 
    3047 000016b4 01BF42E4             LDW     .D2T1   *+SP(104),A3      ; |1158| 
    3048 000016b8 00006000             NOP             4
    3049 000016bc 01907A40             ADDAH   .D1     A4,A3,A3          ; |1158| 
    3050 000016c0 01802A50             ADDK    .S1     84,A3             ; |1158| 
    3051 000016c4 018C0204             LDHU    .D1T1   *A3,A3            ; |1158| 
    3052 000016c8 00006000             NOP             4
    3053 000016cc 008C0BF8             CMPLTU  .L1     A0,A3,A1          ; 
    3054 000016d0 90002490     [!A1]   B       .S1     L28               ; |1158| 
    3055 000016d4 00008000             NOP             5
    3056                               ; BRANCH OCCURS                   ; |1158| 
    3057                    ;*----------------------------------------------------------------------------*
    3058                    ;*   SOFTWARE PIPELINE INFORMATION
    3059                    ;*      Disqualified loop: software pipelining disabled
    3060                    ;*----------------------------------------------------------------------------*
    3061 000016d8           L27:    
    3062                            .line   439
    3063                    ;------------------------------------------------------------------------------
    3064                    ; 1160 | xCoord = (UINT16) GetRandNum();                                        
    3065                    ;------------------------------------------------------------------------------
    3067 000016dc 018B742A'            MVKL    .S2     RL400,B3          ; |1160| 
    3066 000016d8 0FFD2E10             B       .S1     _GetRandNum       ; |1160| 
    3068 000016e0 0180006A'            MVKH    .S2     RL400,B3          ; |1160| 
    3069 000016e4 00004000             NOP             3
    3070 000016e8           RL400:     ; CALL OCCURS                     ; |1160| 
    3071 000016e8 05100058             MV      .L1     A4,A10            ; 
    3072                            .line   440
    3073                    ;------------------------------------------------------------------------------
    3074                    ; 1161 | yCoord = (UINT16) GetRandNum();                                        
    3075                    ;------------------------------------------------------------------------------
    3076 000016ec 0FFD2A10             B       .S1     _GetRandNum       ; |1161| 
    3077 000016f0 018B7E2A'            MVKL    .S2     RL402,B3          ; |1161| 
    3078 000016f4 0180006A'            MVKH    .S2     RL402,B3          ; |1161| 
    3079 000016f8 00004000             NOP             3
    3080 000016fc           RL402:     ; CALL OCCURS                     ; |1161| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   57

    3081 000016fc 05900058             MV      .L1     A4,A11            ; 
    3082                            .line   441
    3083                    ;------------------------------------------------------------------------------
    3084                    ; 1162 | xdotpos[dotPosOffset + k] = parameters->wRectL[d] + (xCoord % hsize[d])
    3085                    ;     | ;                                                                      
    3086                    ;------------------------------------------------------------------------------
    3087 00001700 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1162| 
    3088 00001704 02002BEE             LDW     .D2T2   *+SP(172),B4      ; |1162| 
    3089 00001708 018B902A'            MVKL    .S2     RL404,B3          ; |1162| 
    3090 0000170c 02280058             MV      .L1     A10,A4            ; 
    3091 00001710 0180006A'            MVKH    .S2     RL404,B3          ; |1162| 
    3092 00001714 0FFD2010!            B       .S1     __remi            ; |1162| 
    3093 00001718 0210AA86             LDHU    .D2T2   *+B4[B5],B4       ; 
    3094 0000171c 00006000             NOP             4
    3095 00001720           RL404:     ; CALL OCCURS                     ; |1162| 
    3096 00001720 01BF42E4             LDW     .D2T1   *+SP(104),A3      ; |1162| 
    3097 00001724 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |1162| 
    3098 00001728 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1162| 
    3099 0000172c 028020EC             LDW     .D2T1   *+SP(128),A5      ; |1162| 
    3100 00001730 00002000             NOP             2
    3101 00001734 00007A40             ADDAH   .D1     A0,A3,A0          ; |1162| 
    3102 00001738 00006A50             ADDK    .S1     212,A0            ; |1162| 
    3103 0000173c 01800204             LDHU    .D1T1   *A0,A3            ; |1162| 
    3104 00001740 003EE2E4             LDW     .D2T1   *+SP(92),A0       ; |1162| 
    3105 00001744 00006000             NOP             4
    3106                    
    3107 00001748 018C8079             ADD     .L1     A4,A3,A3          ; 
    3108 0000174c 001011E0  ||         ADD     .S1X    A0,B4,A0          ; |1162| 
    3109                    
    3110 00001750 01940A54             STH     .D1T1   A3,*+A5[A0]       ; |1162| 
    3111                            .line   442
    3112                    ;------------------------------------------------------------------------------
    3113                    ; 1163 | ydotpos[dotPosOffset + k] = parameters->wRectB[d] + (yCoord % vsize[d])
    3114                    ;     | ;                                                                      
    3115                    ;------------------------------------------------------------------------------
    3116 00001754 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1163| 
    3117 00001758 02802CEE             LDW     .D2T2   *+SP(176),B5      ; |1163| 
    3118 0000175c 018BBA2A'            MVKL    .S2     RL406,B3          ; |1163| 
    3119 00001760 022C0058             MV      .L1     A11,A4            ; 
    3120 00001764 0180006A'            MVKH    .S2     RL406,B3          ; |1163| 
    3121 00001768 0FFD1410!            B       .S1     __remi            ; |1163| 
    3122 0000176c 02148A86             LDHU    .D2T2   *+B5[B4],B4       ; 
    3123 00001770 00006000             NOP             4
    3124 00001774           RL406:     ; CALL OCCURS                     ; |1163| 
    3125 00001774 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1163| 
    3126 00001778 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1163| 
    3127 0000177c 033F82E6             LDW     .D2T2   *+SP(112),B6      ; |1163| 
    3128 00001780 00004000             NOP             3
    3129 00001784 02149A42             ADDAH   .D2     B5,B4,B4          ; |1163| 
    3130 00001788 0200AA52             ADDK    .S2     340,B4            ; |1163| 
    3131 0000178c 03900286             LDHU    .D2T2   *B4,B7            ; |1163| 
    3132 00001790 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |1163| 
    3133 00001794 020021EE             LDW     .D2T2   *+SP(132),B4      ; |1163| 
    3134 00001798 00004000             NOP             3
    3135                    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   58

    3136 000017a0 0298A07B             ADD     .L2     B5,B6,B5          ; |1163| 
    3137 000017a4 001C9078  ||         ADD     .L1X    A4,B7,A0          ; 
    3138                    
    3139 000017a8 0010AAD4             STH     .D2T1   A0,*+B4[B5]       ; |1163| 
    3140                            .line   443
    3141                    ;------------------------------------------------------------------------------
    3142                    ; 1166 | // for these types, we also assign a random lifetime between 1 and targ
    3143                    ;     | et's maximum dot life. We also                                         
    3144                    ; 1167 | // make sure the per-dot fractional pixel displacements are initially 0
    3145                    ;     |  (appl to noisy tgts only).                                            
    3146                    ;------------------------------------------------------------------------------
    3147 000017ac 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1164| 
    3148 000017b0 00006000             NOP             4
    3149 000017b4 0210205A             ADD     .L2     1,B4,B4           ; |1164| 
    3150 000017b8 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1164| 
    3151 000017bc 01802AEC             LDW     .D2T1   *+SP(168),A3      ; |1164| 
    3152 000017c0 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |1164| 
    3153 000017c4 00006000             NOP             4
    3154 000017c8 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1164| 
    3155 000017cc 00002A50             ADDK    .S1     84,A0             ; |1164| 
    3156 000017d0 02800206             LDHU    .D1T2   *A0,B5            ; |1164| 
    3157 000017d4 00006000             NOP             4
    3158 000017d8 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    3159 000017dc 2FFFE310     [ B0]   B       .S1     L27               ; |1164| 
    3160 000017e0 00008000             NOP             5
    3161                               ; BRANCH OCCURS                   ; |1164| 
    3162                    ;** --------------------------------------------------------------------------*
    3163 000017e4           L28:    
    3164                            .line   447
    3165                    ;------------------------------------------------------------------------------
    3166                    ; 1168 | if(u16Type == DOTLIFEWIN || u16Type == DL_NOISEDIR ||  u16Type == DL_NO
    3167                    ;     | ISESPEED)                                                              
    3168                    ;------------------------------------------------------------------------------
    3170 000017e8 00006000             NOP             4
    3169 000017e4 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1168| 
    3171 000017ec 00110A5A             CMPEQ   .L2     B4,8,B0           ; |1168| 
    3172 000017f0 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1168| 
    3173 000017f4 00006000             NOP             4
    3174 000017f8 30116A5A     [!B0]   CMPEQ   .L2     B4,11,B0          ; |1168| 
    3175 000017fc 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1168| 
    3176 00001800 00006000             NOP             4
    3177 00001804 3011AA5A     [!B0]   CMPEQ   .L2     B4,13,B0          ; |1168| 
    3178 00001808 30002890     [!B0]   B       .S1     L31               ; |1168| 
    3179 0000180c 00008000             NOP             5
    3180                               ; BRANCH OCCURS                   ; |1168| 
    3181                    ;** --------------------------------------------------------------------------*
    3182                            .line   449
    3183                    ;------------------------------------------------------------------------------
    3184                    ; 1170 | nMaxDotLife = (UINT16) parameters->wOuterR[d];                         
    3185                    ;------------------------------------------------------------------------------
    3186 00001810 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1170| 
    3187 00001814 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1170| 
    3188 00001818 00006000             NOP             4
    3189 0000181c 0210BA42             ADDAH   .D2     B4,B5,B4          ; |1170| 
    3190 00001820 0200CA52             ADDK    .S2     404,B4            ; |1170| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   59

    3191 00001824 02100286             LDHU    .D2T2   *B4,B4            ; |1170| 
    3192 00001828 00006000             NOP             4
    3193 0000182c 023EC2D6             STH     .D2T2   B4,*+SP(44)       ; |1170| 
    3194                            .line   450
    3195                    ;------------------------------------------------------------------------------
    3196                    ; 1171 | if( nMaxDotLife < 1 ) nMaxDotLife = 1;                                 
    3197                    ;------------------------------------------------------------------------------
    3198 00001830 023EC286             LDHU    .D2T2   *+SP(44),B4       ; |1171| 
    3199 00001834 00006000             NOP             4
    3200 00001838 00100ADA             CMPGT   .L2     B4,0,B0           ; |1171| 
    3201 0000183c 320000AA     [!B0]   MVK     .S2     1,B4              ; |1171| 
    3202 00001840 323EC2D6     [!B0]   STH     .D2T2   B4,*+SP(44)       ; |1171| 
    3203 00001844 30000490     [!B0]   B       .S1     L29               ; |1171| 
    3204 00001848 00008000             NOP             5
    3205                               ; BRANCH OCCURS                   ; |1171| 
    3206                    ;** --------------------------------------------------------------------------*
    3207                            .line   451
    3208                    ;------------------------------------------------------------------------------
    3209                    ; 1172 | else if( nMaxDotLife > 32767 ) nMaxDotLife = 32767;                    
    3210                    ;------------------------------------------------------------------------------
    3211 0000184c 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |1172| 
    3212 00001850 023FFFAA             MVK     .S2     32767,B4          ; |1172| 
    3213 00001854 00004000             NOP             3
    3214 00001858 0010A8FA             CMPGT   .L2     B5,B4,B0          ; |1172| 
    3215 0000185c 203FFFA8     [ B0]   MVK     .S1     32767,A0          ; |1172| 
    3216 00001860 203EC2D4     [ B0]   STH     .D2T1   A0,*+SP(44)       ; |1172| 
    3217                    ;** --------------------------------------------------------------------------*
    3218 00001864           L29:    
    3219                            .line   452
    3220                    ;------------------------------------------------------------------------------
    3221                    ; 1173 | for( k = 0; k < parameters->wNumDots[d]; k++ )                         
    3222                    ;------------------------------------------------------------------------------
    3224 00001868 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1173| 
    3223 00001864 020000FA             ZERO    .L2     B4                ; |1173| 
    3225 0000186c 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1173| 
    3226 00001870 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1173| 
    3227 00001874 038000F8             ZERO    .L1     A7                ; |1178| 
    3228 00001878 00004000             NOP             3
    3229 0000187c 0298BA42             ADDAH   .D2     B6,B5,B5          ; |1173| 
    3230 00001880 02802A52             ADDK    .S2     84,B5             ; |1173| 
    3231 00001884 02940286             LDHU    .D2T2   *B5,B5            ; |1173| 
    3232 00001888 00006000             NOP             4
    3233 0000188c 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    3234 00001890 30001890     [!B0]   B       .S1     L31               ; |1173| 
    3235 00001894 00008000             NOP             5
    3236                               ; BRANCH OCCURS                   ; |1173| 
    3237                    ;*----------------------------------------------------------------------------*
    3238                    ;*   SOFTWARE PIPELINE INFORMATION
    3239                    ;*      Disqualified loop: software pipelining disabled
    3240                    ;*----------------------------------------------------------------------------*
    3241 00001898           L30:    
    3242                            .line   454
    3243                    ;------------------------------------------------------------------------------
    3244                    ; 1175 | xCoord = (UINT16) GetRandNum();                                        
    3245                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   60

    3247 0000189c 018C542A'            MVKL    .S2     RL408,B3          ; |1175| 
    3246 00001898 0FFCF610             B       .S1     _GetRandNum       ; |1175| 
    3248 000018a0 0180006A'            MVKH    .S2     RL408,B3          ; |1175| 
    3249 000018a4 00004000             NOP             3
    3250 000018a8           RL408:     ; CALL OCCURS                     ; |1175| 
    3251                            .line   455
    3252                    ;------------------------------------------------------------------------------
    3253                    ; 1176 | dotLife[dotPosOffset + k] = (xCoord % nMaxDotLife) + 1;                
    3254                    ;------------------------------------------------------------------------------
    3256 000018ac 023EC286             LDHU    .D2T2   *+SP(44),B4       ; 
    3255 000018a8 0FFCEC10!            B       .S1     __remi            ; |1176| 
    3257 000018b0 018C602A'            MVKL    .S2     RL410,B3          ; |1176| 
    3258 000018b4 05100058             MV      .L1     A4,A10            ; 
    3259 000018b8 0180006A'            MVKH    .S2     RL410,B3          ; |1176| 
    3260 000018bc 00000000             NOP             1
    3261 000018c0           RL410:     ; CALL OCCURS                     ; |1176| 
    3262 000018c0 01BEE2E4             LDW     .D2T1   *+SP(92),A3       ; |1176| 
    3263 000018c4 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1176| 
    3264 000018c8 000022EC             LDW     .D2T1   *+SP(136),A0      ; |1176| 
    3265 000018cc 021021A0             ADD     .S1     1,A4,A4           ; 
    3266 000018d0 00002000             NOP             2
    3267 000018d4 01907078             ADD     .L1X    A3,B4,A3          ; |1176| 
    3268 000018d8 02006A54             STH     .D1T1   A4,*+A0[A3]       ; |1176| 
    3269                            .line   457
    3270                    ;------------------------------------------------------------------------------
    3271                    ; 1178 | fracDX[dotPosOffset + k] = 0;                                          
    3272                    ;------------------------------------------------------------------------------
    3273 000018dc 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1178| 
    3274 000018e0 003EE2E4             LDW     .D2T1   *+SP(92),A0       ; |1178| 
    3275 000018e4 018026EC             LDW     .D2T1   *+SP(152),A3      ; |1178| 
    3276 000018e8 00004000             NOP             3
    3277 000018ec 00101078             ADD     .L1X    A0,B4,A0          ; |1178| 
    3278 000018f0 038C0A54             STH     .D1T1   A7,*+A3[A0]       ; |1178| 
    3279                            .line   458
    3280                    ;------------------------------------------------------------------------------
    3281                    ; 1179 | fracDY[dotPosOffset + k] = 0;                                          
    3282                    ;------------------------------------------------------------------------------
    3283 000018f4 003EE2E4             LDW     .D2T1   *+SP(92),A0       ; |1179| 
    3284 000018f8 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1179| 
    3285 000018fc 018028EC             LDW     .D2T1   *+SP(160),A3      ; |1179| 
    3286 00001900 00004000             NOP             3
    3287 00001904 00101078             ADD     .L1X    A0,B4,A0          ; |1179| 
    3288 00001908 038C0A54             STH     .D1T1   A7,*+A3[A0]       ; |1179| 
    3289                            .line   459
    3290 0000190c 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1180| 
    3291 00001910 00006000             NOP             4
    3292 00001914 0290205A             ADD     .L2     1,B4,B5           ; |1180| 
    3293 00001918 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1180| 
    3294 0000191c 033F42E6             LDW     .D2T2   *+SP(104),B6      ; |1180| 
    3295 00001920 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1180| 
    3296 00001924 00006000             NOP             4
    3297 00001928 0210DA42             ADDAH   .D2     B4,B6,B4          ; |1180| 
    3298 0000192c 02002A52             ADDK    .S2     84,B4             ; |1180| 
    3299 00001930 02100286             LDHU    .D2T2   *B4,B4            ; |1180| 
    3300 00001934 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   61

    3301 00001938 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    3302 0000193c 2FFFEF10     [ B0]   B       .S1     L30               ; |1180| 
    3303 00001940 00008000             NOP             5
    3304                               ; BRANCH OCCURS                   ; |1180| 
    3305                    ;** --------------------------------------------------------------------------*
    3306 00001944           L31:    
    3307                            .line   462
    3308                    ;------------------------------------------------------------------------------
    3309                    ; 1183 | if( u16Type == DL_NOISEDIR || u16Type == DL_NOISESPEED ) //    noise up
    3310                    ;     | date timer reset so that per-dot                                       
    3311                    ;------------------------------------------------------------------------------
    3313 00001948 00006000             NOP             4
    3312 00001944 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1183| 
    3314 0000194c 00116A5A             CMPEQ   .L2     B4,11,B0          ; |1183| 
    3315 00001950 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1183| 
    3316 00001954 00006000             NOP             4
    3317 00001958 3011AA5A     [!B0]   CMPEQ   .L2     B4,13,B0          ; |1183| 
    3318                            .line   463
    3319                    ;------------------------------------------------------------------------------
    3320                    ; 1184 | nNoiseUpdTicks[d] = 0;                                //    noise facto
    3321                    ;     | rs are randomly chosen on the                                          
    3322                    ; 1185 | //    very first update frame!                                         
    3323                    ;------------------------------------------------------------------------------
    3324 0000195c 23002FEE     [ B0]   LDW     .D2T2   *+SP(188),B6      ; |1184| 
    3325 00001960 223F42E6     [ B0]   LDW     .D2T2   *+SP(104),B4      ; |1184| 
    3326 00001964 228000FA     [ B0]   ZERO    .L2     B5                ; |1184| 
    3327 00001968 00004000             NOP             3
    3328 0000196c 22988AD6     [ B0]   STH     .D2T2   B5,*+B6[B4]       ; |1184| 
    3329                            .line   465
    3330 00001970 00004690             B       .S1     L36               ; |1186| 
    3331 00001974 00008000             NOP             5
    3332                               ; BRANCH OCCURS                   ; |1186| 
    3333                    ;** --------------------------------------------------------------------------*
    3334 00001978           L32:    
    3335                            .line   467
    3336                    ;------------------------------------------------------------------------------
    3337                    ; 1188 | else if( u16Type == OPTICFLOW )                             // OPTICFLO
    3338                    ;     | W: flow field. dot pos stored in                                       
    3339                    ; 1189 | {                                                           // polar co
    3340                    ;     | ords (r,TH) rather than (x,y) pix:                                     
    3341                    ;------------------------------------------------------------------------------
    3343 0000197c 00006000             NOP             4
    3342 00001978 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1188| 
    3344 00001980 00112A5A             CMPEQ   .L2     B4,9,B0           ; |1188| 
    3345 00001984 30002B90     [!B0]   B       .S1     L34               ; |1188| 
    3346 00001988 00008000             NOP             5
    3347                               ; BRANCH OCCURS                   ; |1188| 
    3348                    ;** --------------------------------------------------------------------------*
    3349                            .line   469
    3350                    ;------------------------------------------------------------------------------
    3351                    ; 1190 | rectR = parameters->wRectR[d];                           //    inner ra
    3352                    ;     | dius in deg/100 of visual angle                                        
    3353                    ;------------------------------------------------------------------------------
    3354 0000198c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1190| 
    3355 00001990 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1190| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   62

    3356 00001994 00006000             NOP             4
    3357 00001998 03149A42             ADDAH   .D2     B5,B4,B6          ; |1190| 
    3358 0000199c 03004A52             ADDK    .S2     148,B6            ; |1190| 
    3359 000019a0 04180284             LDHU    .D2T1   *B6,A8            ; |1190| 
    3360 000019a4 00006000             NOP             4
    3361                            .line   470
    3362                    ;------------------------------------------------------------------------------
    3363                    ; 1191 | ++rectR;                                                 //    no dots 
    3364                    ;     | AT inner or outer rad initially                                        
    3365                    ;------------------------------------------------------------------------------
    3366 000019a8 00202058             ADD     .L1     1,A8,A0           ; |1191| 
    3367 000019ac 04021008             EXTU    .S1     A0,16,16,A8       ; |1191| 
    3368                            .line   471
    3369                    ;------------------------------------------------------------------------------
    3370                    ; 1192 | rectL = parameters->wRectL[d];                           //    outer ra
    3371                    ;     | dius in deg/100 of visual angle                                        
    3372                    ;------------------------------------------------------------------------------
    3373 000019b0 01941058             MV      .L1X    B5,A3
    3374 000019b4 00101058             MV      .L1X    B4,A0
    3375 000019b8 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1192| 
    3376 000019bc 00006A50             ADDK    .S1     212,A0            ; |1192| 
    3377 000019c0 04000206             LDHU    .D1T2   *A0,B8            ; |1192| 
    3378 000019c4 00006000             NOP             4
    3379                            .line   472
    3380                    ;------------------------------------------------------------------------------
    3381                    ; 1193 | rectL -= rectR;                                          //    differen
    3382                    ;     | ce in deg/100                                                          
    3383                    ;------------------------------------------------------------------------------
    3384 000019c8 032110FA             SUB     .L2X    B8,A8,B6          ; |1193| 
    3385 000019cc 041A100A             EXTU    .S2     B6,16,16,B8       ; |1193| 
    3386                            .line   474
    3387                    ;------------------------------------------------------------------------------
    3388                    ; 1195 | for( k = 0; k < parameters->wNumDots[d]; k++ )                         
    3389                    ;------------------------------------------------------------------------------
    3390 000019d0 000000F8             ZERO    .L1     A0                ; |1195| 
    3391 000019d4 003EE2F4             STW     .D2T1   A0,*+SP(92)       ; |1195| 
    3392 000019d8 02141058             MV      .L1X    B5,A4
    3393 000019dc 01901058             MV      .L1X    B4,A3
    3394 000019e0 01907A40             ADDAH   .D1     A4,A3,A3          ; |1195| 
    3395 000019e4 01802A50             ADDK    .S1     84,A3             ; |1195| 
    3396 000019e8 018C0204             LDHU    .D1T1   *A3,A3            ; |1195| 
    3397 000019ec 038000F8             ZERO    .L1     A7                ; |1201| 
    3398 000019f0 00004000             NOP             3
    3399 000019f4 008C0BF8             CMPLTU  .L1     A0,A3,A1          ; 
    3400 000019f8 90003690     [!A1]   B       .S1     L36               ; |1195| 
    3401 000019fc 00008000             NOP             5
    3402                               ; BRANCH OCCURS                   ; |1195| 
    3403                    ;*----------------------------------------------------------------------------*
    3404                    ;*   SOFTWARE PIPELINE INFORMATION
    3405                    ;*      Disqualified loop: software pipelining disabled
    3406                    ;*----------------------------------------------------------------------------*
    3407 00001a00           L33:    
    3408                            .line   476
    3409                    ;------------------------------------------------------------------------------
    3410                    ; 1197 | xCoord = (UINT16) GetRandNum();                       //    init random
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   63

    3411                    ;     |  radial pos in visual deg/100                                          
    3412                    ;------------------------------------------------------------------------------
    3414 00001a04 018D082A'            MVKL    .S2     RL412,B3          ; |1197| 
    3413 00001a00 0FFCC610             B       .S1     _GetRandNum       ; |1197| 
    3415 00001a08 0180006A'            MVKH    .S2     RL412,B3          ; |1197| 
    3416 00001a0c 00004000             NOP             3
    3417 00001a10           RL412:     ; CALL OCCURS                     ; |1197| 
    3418                            .line   477
    3419                    ;------------------------------------------------------------------------------
    3420                    ; 1198 | xdotpos[dotPosOffset + k] = rectR + (xCoord % rectL);                  
    3421                    ;------------------------------------------------------------------------------
    3423 00001a14 018D142A'            MVKL    .S2     RL414,B3          ; |1198| 
    3422 00001a10 0FFCC010!            B       .S1     __remi            ; |1198| 
    3424 00001a18 05100058             MV      .L1     A4,A10            ; 
    3425 00001a1c 0180006A'            MVKH    .S2     RL414,B3          ; |1198| 
    3426 00001a20 0220005A             MV      .L2     B8,B4             ; 
    3427 00001a24 00000000             NOP             1
    3428 00001a28           RL414:     ; CALL OCCURS                     ; |1198| 
    3429 00001a28 01BEE2E4             LDW     .D2T1   *+SP(92),A3       ; |1198| 
    3430 00001a2c 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1198| 
    3431 00001a30 000020EC             LDW     .D2T1   *+SP(128),A0      ; |1198| 
    3432 00001a34 00004000             NOP             3
    3433                    
    3434 00001a38 02107079             ADD     .L1X    A3,B4,A4          ; |1198| 
    3435 00001a3c 01A081E0  ||         ADD     .S1     A4,A8,A3          ; 
    3436                    
    3437 00001a40 01808A54             STH     .D1T1   A3,*+A0[A4]       ; |1198| 
    3438                            .line   478
    3439                    ;------------------------------------------------------------------------------
    3440                    ; 1199 | yCoord = (UINT16) GetRandNum();                       //    init angula
    3441                    ;     | r pos in deg/10                                                        
    3442                    ;------------------------------------------------------------------------------
    3443 00001a44 0FFCBE10             B       .S1     _GetRandNum       ; |1199| 
    3444 00001a48 018D2A2A'            MVKL    .S2     RL416,B3          ; |1199| 
    3445 00001a4c 0180006A'            MVKH    .S2     RL416,B3          ; |1199| 
    3446 00001a50 00004000             NOP             3
    3447 00001a54           RL416:     ; CALL OCCURS                     ; |1199| 
    3448                            .line   479
    3449                    ;------------------------------------------------------------------------------
    3450                    ; 1200 | ydotpos[dotPosOffset + k] = (yCoord % 3600);                           
    3451                    ;------------------------------------------------------------------------------
    3453 00001a58 018D362A'            MVKL    .S2     RL418,B3          ; |1200| 
    3452 00001a54 0FFCB810!            B       .S1     __remi            ; |1200| 
    3454 00001a5c 0180006A'            MVKH    .S2     RL418,B3          ; |1200| 
    3455 00001a60 05900058             MV      .L1     A4,A11            ; 
    3456 00001a64 0207082A             MVK     .S2     0xe10,B4          ; |1200| 
    3457 00001a68 00000000             NOP             1
    3458 00001a6c           RL418:     ; CALL OCCURS                     ; |1200| 
    3459 00001a6c 01BEE2E4             LDW     .D2T1   *+SP(92),A3       ; |1200| 
    3460 00001a70 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1200| 
    3461 00001a74 000021EC             LDW     .D2T1   *+SP(132),A0      ; |1200| 
    3462 00001a78 00004000             NOP             3
    3463 00001a7c 01907078             ADD     .L1X    A3,B4,A3          ; |1200| 
    3464 00001a80 02006A54             STH     .D1T1   A4,*+A0[A3]       ; |1200| 
    3465                            .line   480
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   64

    3466                    ;------------------------------------------------------------------------------
    3467                    ; 1201 | dotLife[dotPosOffset + k] = 0;                        //    reset frac 
    3468                    ;     | pos change (<1/100deg)                                                 
    3469                    ;------------------------------------------------------------------------------
    3470 00001a84 01BEE2E4             LDW     .D2T1   *+SP(92),A3       ; |1201| 
    3471 00001a88 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1201| 
    3472 00001a8c 000022EC             LDW     .D2T1   *+SP(136),A0      ; |1201| 
    3473 00001a90 00004000             NOP             3
    3474 00001a94 01907078             ADD     .L1X    A3,B4,A3          ; |1201| 
    3475 00001a98 03806A54             STH     .D1T1   A7,*+A0[A3]       ; |1201| 
    3476                            .line   481
    3477 00001a9c 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1202| 
    3478 00001aa0 00006000             NOP             4
    3479 00001aa4 0290205A             ADD     .L2     1,B4,B5           ; |1202| 
    3480 00001aa8 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1202| 
    3481 00001aac 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1202| 
    3482 00001ab0 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1202| 
    3483 00001ab4 00006000             NOP             4
    3484 00001ab8 02189A42             ADDAH   .D2     B6,B4,B4          ; |1202| 
    3485 00001abc 02002A52             ADDK    .S2     84,B4             ; |1202| 
    3486 00001ac0 02100286             LDHU    .D2T2   *B4,B4            ; |1202| 
    3487 00001ac4 00006000             NOP             4
    3488 00001ac8 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    3489 00001acc 2FFFE810     [ B0]   B       .S1     L33               ; |1202| 
    3490 00001ad0 00008000             NOP             5
    3491                               ; BRANCH OCCURS                   ; |1202| 
    3492                    ;** --------------------------------------------------------------------------*
    3493                            .line   482
    3494                    ;------------------------------------------------------------------------------
    3495                    ; 1205 | else                                                        // ALL OTHE
    3496                    ;     | R TYPES:  random-dot texture drawn                                     
    3497                    ; 1206 | {                                                           // to fill 
    3498                    ;     | the entire screen...                                                   
    3499                    ;------------------------------------------------------------------------------
    3500 00001ad4 00001A90             B       .S1     L36               ; |1203| 
    3501 00001ad8 00008000             NOP             5
    3502                               ; BRANCH OCCURS                   ; |1203| 
    3503                    ;** --------------------------------------------------------------------------*
    3504 00001adc           L34:    
    3505                            .line   486
    3506                    ;------------------------------------------------------------------------------
    3507                    ; 1207 | for ( k = 0; k < parameters->wNumDots[d]; k++ )                        
    3508                    ;------------------------------------------------------------------------------
    3510 00001ae0 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1207| 
    3509 00001adc 020000FA             ZERO    .L2     B4                ; |1207| 
    3511 00001ae4 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1207| 
    3512 00001ae8 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1207| 
    3513 00001aec 00006000             NOP             4
    3514 00001af0 0298BA42             ADDAH   .D2     B6,B5,B5          ; |1207| 
    3515 00001af4 02802A52             ADDK    .S2     84,B5             ; |1207| 
    3516 00001af8 02940286             LDHU    .D2T2   *B5,B5            ; |1207| 
    3517 00001afc 00006000             NOP             4
    3518 00001b00 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    3519 00001b04 30001290     [!B0]   B       .S1     L36               ; |1207| 
    3520 00001b08 00008000             NOP             5
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   65

    3521                               ; BRANCH OCCURS                   ; |1207| 
    3522                    ;*----------------------------------------------------------------------------*
    3523                    ;*   SOFTWARE PIPELINE INFORMATION
    3524                    ;*      Disqualified loop: software pipelining disabled
    3525                    ;*----------------------------------------------------------------------------*
    3526 00001b0c           L35:    
    3527                            .line   488
    3528                    ;------------------------------------------------------------------------------
    3529                    ; 1209 | xdotpos[dotPosOffset + k] = (UINT16) GetRandNum();                     
    3530                    ;------------------------------------------------------------------------------
    3532 00001b10 018D8E2A'            MVKL    .S2     RL420,B3          ; |1209| 
    3531 00001b0c 0FFCA610             B       .S1     _GetRandNum       ; |1209| 
    3533 00001b14 0180006A'            MVKH    .S2     RL420,B3          ; |1209| 
    3534 00001b18 00004000             NOP             3
    3535 00001b1c           RL420:     ; CALL OCCURS                     ; |1209| 
    3536 00001b1c 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1209| 
    3537 00001b20 003EE2E4             LDW     .D2T1   *+SP(92),A0       ; |1209| 
    3538 00001b24 018020EC             LDW     .D2T1   *+SP(128),A3      ; |1209| 
    3539 00001b28 00004000             NOP             3
    3540 00001b2c 00101078             ADD     .L1X    A0,B4,A0          ; |1209| 
    3541 00001b30 020C0A54             STH     .D1T1   A4,*+A3[A0]       ; |1209| 
    3542                            .line   489
    3543                    ;------------------------------------------------------------------------------
    3544                    ; 1210 | ydotpos[dotPosOffset + k] = (UINT16) GetRandNum();                     
    3545                    ;------------------------------------------------------------------------------
    3546 00001b34 0FFCA210             B       .S1     _GetRandNum       ; |1210| 
    3547 00001b38 018DA22A'            MVKL    .S2     RL422,B3          ; |1210| 
    3548 00001b3c 0180006A'            MVKH    .S2     RL422,B3          ; |1210| 
    3549 00001b40 00004000             NOP             3
    3550 00001b44           RL422:     ; CALL OCCURS                     ; |1210| 
    3551 00001b44 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1210| 
    3552 00001b48 003EE2E4             LDW     .D2T1   *+SP(92),A0       ; |1210| 
    3553 00001b4c 018021EC             LDW     .D2T1   *+SP(132),A3      ; |1210| 
    3554 00001b50 00004000             NOP             3
    3555 00001b54 00101078             ADD     .L1X    A0,B4,A0          ; |1210| 
    3556 00001b58 020C0A54             STH     .D1T1   A4,*+A3[A0]       ; |1210| 
    3557                            .line   490
    3558 00001b5c 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1211| 
    3559 00001b60 00006000             NOP             4
    3560 00001b64 0290205A             ADD     .L2     1,B4,B5           ; |1211| 
    3561 00001b68 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1211| 
    3562 00001b6c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1211| 
    3563 00001b70 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1211| 
    3564 00001b74 00006000             NOP             4
    3565 00001b78 02189A42             ADDAH   .D2     B6,B4,B4          ; |1211| 
    3566 00001b7c 02002A52             ADDK    .S2     84,B4             ; |1211| 
    3567 00001b80 02100286             LDHU    .D2T2   *B4,B4            ; |1211| 
    3568 00001b84 00006000             NOP             4
    3569 00001b88 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    3570 00001b8c 2FFFF190     [ B0]   B       .S1     L35               ; |1211| 
    3571 00001b90 00008000             NOP             5
    3572                               ; BRANCH OCCURS                   ; |1211| 
    3573                    ;** --------------------------------------------------------------------------*
    3574 00001b94           L36:    
    3575                            .line   493
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   66

    3576                    ;------------------------------------------------------------------------------
    3577                    ; 1214 | dotPosOffset += parameters->wNumDots[d];                    // move off
    3578                    ;     | set into dot pos arrays so that it                                     
    3579                    ; 1215 | // points to loc after current target's dots                           
    3580                    ;------------------------------------------------------------------------------
    3582 00001b98 03002AEE             LDW     .D2T2   *+SP(168),B6      ; |1214| 
    3581 00001b94 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1214| 
    3583 00001b9c 00006000             NOP             4
    3584 00001ba0 02189A42             ADDAH   .D2     B6,B4,B4          ; |1214| 
    3585 00001ba4 02002A52             ADDK    .S2     84,B4             ; |1214| 
    3586 00001ba8 02900286             LDHU    .D2T2   *B4,B5            ; |1214| 
    3587 00001bac 023F82E6             LDW     .D2T2   *+SP(112),B4      ; |1214| 
    3588 00001bb0 00006000             NOP             4
    3589 00001bb4 0210A07A             ADD     .L2     B5,B4,B4          ; |1214| 
    3590 00001bb8 023F82F6             STW     .D2T2   B4,*+SP(112)      ; |1214| 
    3591                            .line   495
    3592 00001bbc 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1216| 
    3593 00001bc0 00006000             NOP             4
    3594 00001bc4 0210205A             ADD     .L2     1,B4,B4           ; |1216| 
    3595 00001bc8 023F42F6             STW     .D2T2   B4,*+SP(104)      ; |1216| 
    3596 00001bcc 00181058             MV      .L1X    B6,A0
    3597 00001bd0 0000A204             LDHU    .D1T1   *+A0(10),A0       ; |1216| 
    3598 00001bd4 00006000             NOP             4
    3599 00001bd8 009019F8             CMPLTU  .L1X    B4,A0,A1          ; 
    3600 00001bdc 8FFDE910     [ A1]   B       .S1     L11               ; |1216| 
    3601 00001be0 00008000             NOP             5
    3602                               ; BRANCH OCCURS                   ; |1216| 
    3603                    ;** --------------------------------------------------------------------------*
    3604                            .line   496
    3605                    ;------------------------------------------------------------------------------
    3606                    ; 1217 | }                                                                 // EN
    3607                    ;     | D:  process XYCORE_INIT command                                        
    3608                    ;------------------------------------------------------------------------------
    3609 00001be4 0006C510             B       .S1     L144              ; |1217| 
    3610 00001be8 00008000             NOP             5
    3611                               ; BRANCH OCCURS                   ; |1217| 
    3612                    ;** --------------------------------------------------------------------------*
    3613 00001bec           L37:    
    3614                            .line   499
    3615                    ;------------------------------------------------------------------------------
    3616                    ; 1220 | else if( command == XYCORE_DOFRAME )                              // BE
    3617                    ;     | GIN:  process XYCORE_DOFRAME command...                                
    3618                    ;------------------------------------------------------------------------------
    3620 00001bf0 00006000             NOP             4
    3619 00001bec 023D82E6             LDW     .D2T2   *+SP(48),B4       ; |1220| 
    3621 00001bf4 00106A5A             CMPEQ   .L2     B4,3,B0           ; |1220| 
    3622 00001bf8 3006C510     [!B0]   B       .S1     L144              ; |1220| 
    3623 00001bfc 00008000             NOP             5
    3624                               ; BRANCH OCCURS                   ; |1220| 
    3625                    ;** --------------------------------------------------------------------------*
    3626                            .line   501
    3627                    ;------------------------------------------------------------------------------
    3628                    ; 1222 | timdelnib = (UINT32) parameters->wDelayPerDot;                 // write
    3629                    ;     |  trig timing params to dotter board                                    
    3630                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   67

    3631 00001c00 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1222| 
    3632 00001c04 00006000             NOP             4
    3633 00001c08 0290C286             LDHU    .D2T2   *+B4(12),B5       ; |1222| 
    3634 00001c0c 00006000             NOP             4
    3635 00001c10 02BE02F6             STW     .D2T2   B5,*+SP(64)       ; |1222| 
    3636                            .line   502
    3637                    ;------------------------------------------------------------------------------
    3638                    ; 1223 | if ( timdelnib > MAX_TRIGDEL )                                 // timin
    3639                    ;     | g register.  check values.                                             
    3640                    ;------------------------------------------------------------------------------
    3641 00001c14 0015EBDA             CMPGTU  .L2     B5,15,B0          ; 
    3642                            .line   503
    3643                    ;------------------------------------------------------------------------------
    3644                    ; 1224 | timdelnib = MAX_TRIGDEL;                                               
    3645                    ;------------------------------------------------------------------------------
    3646 00001c18 200007A8     [ B0]   MVK     .S1     15,A0             ; |1224| 
    3647 00001c1c 203E02F4     [ B0]   STW     .D2T1   A0,*+SP(64)       ; |1224| 
    3648                            .line   504
    3649                    ;------------------------------------------------------------------------------
    3650                    ; 1225 | timdurbyte = timdelnib + ((UINT32) parameters->wOnTimePerDot);         
    3651                    ;------------------------------------------------------------------------------
    3652 00001c20 0210E286             LDHU    .D2T2   *+B4(14),B4       ; |1225| 
    3653 00001c24 02BE02E6             LDW     .D2T2   *+SP(64),B5       ; |1225| 
    3654 00001c28 00006000             NOP             4
    3655 00001c2c 0214807A             ADD     .L2     B4,B5,B4          ; |1225| 
    3656 00001c30 023DE2F6             STW     .D2T2   B4,*+SP(60)       ; |1225| 
    3657                            .line   505
    3658                    ;------------------------------------------------------------------------------
    3659                    ; 1226 | if ( timdurbyte > MAX_TRIGLEN )                                        
    3660                    ;------------------------------------------------------------------------------
    3661 00001c34 03007FAA             MVK     .S2     255,B6            ; |1226| 
    3662 00001c38 001889FA             CMPGTU  .L2     B4,B6,B0          ; 
    3663                            .line   506
    3664                    ;------------------------------------------------------------------------------
    3665                    ; 1227 | timdurbyte = MAX_TRIGLEN;                                              
    3666                    ;------------------------------------------------------------------------------
    3667 00001c3c 22007FAA     [ B0]   MVK     .S2     255,B4            ; |1227| 
    3668 00001c40 223DE2F6     [ B0]   STW     .D2T2   B4,*+SP(60)       ; |1227| 
    3669                            .line   507
    3670                    ;------------------------------------------------------------------------------
    3671                    ; 1228 | timvals = ((timdurbyte & 0x00F0) << 20) | (timdelnib << 20) | ((timdurb
    3672                    ;     | yte & 0x000F) << 28);                                                  
    3673                    ;------------------------------------------------------------------------------
    3674 00001c44 023DE2E6             LDW     .D2T2   *+SP(60),B4       ; |1228| 
    3675 00001c48 00007828             MVK     .S1     240,A0            ; |1228| 
    3676 00001c4c 00004000             NOP             3
    3677 00001c50 00101F78             AND     .L1X    A0,B4,A0          ; |1228| 
    3678                    
    3679 00001c54 0291EF5B             AND     .L2     15,B4,B5          ; |1228| 
    3680 00001c58 02168CA3  ||         SHL     .S2     B5,20,B4          ; |1228| 
    3681 00001c5c 00028CA0  ||         SHL     .S1     A0,20,A0          ; |1228| 
    3682                    
    3683 00001c60 00101FF9             OR      .L1X    B4,A0,A0          ; |1228| 
    3684 00001c64 02178CA2  ||         SHL     .S2     B5,28,B4          ; |1228| 
    3685                    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   68

    3686 00001c68 00101FF8             OR      .L1X    B4,A0,A0          ; |1228| 
    3687 00001c6c 003E22F4             STW     .D2T1   A0,*+SP(68)       ; |1228| 
    3688                            .line   508
    3689                    ;------------------------------------------------------------------------------
    3690                    ; 1229 | *timaddr = timvals;                                                    
    3691                    ;------------------------------------------------------------------------------
    3692 00001c70 023E82E6             LDW     .D2T2   *+SP(80),B4       ; |1229| 
    3693 00001c74 00006000             NOP             4
    3694 00001c78 001002F4             STW     .D2T1   A0,*B4            ; |1229| 
    3695                            .line   510
    3696                    ;------------------------------------------------------------------------------
    3697                    ; 1231 | maxRepeats = 0;                                                // find 
    3698                    ;     | largest "#reps per frame" across all                                   
    3699                    ;------------------------------------------------------------------------------
    3700 00001c7c 020000FA             ZERO    .L2     B4                ; |1231| 
    3701 00001c80 023FA2F6             STW     .D2T2   B4,*+SP(116)      ; |1231| 
    3702                            .line   511
    3703                    ;------------------------------------------------------------------------------
    3704                    ; 1232 | for( d = 0; d < parameters->wNumTargets; d++ )                 // defin
    3705                    ;     | ed targets.  B/c "dotlife" tgts use the                                
    3706                    ; 1233 | {                                                              // upper
    3707                    ;     |  byte of NREPS field to store dot life                                 
    3708                    ;------------------------------------------------------------------------------
    3709 00001c84 000000F8             ZERO    .L1     A0                ; |1232| 
    3710 00001c88 003F42F4             STW     .D2T1   A0,*+SP(104)      ; |1232| 
    3711 00001c8c 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1232| 
    3712 00001c90 00006000             NOP             4
    3713 00001c94 0210A286             LDHU    .D2T2   *+B4(10),B4       ; |1232| 
    3714 00001c98 00006000             NOP             4
    3715 00001c9c 00901BF8             CMPLTU  .L1X    A0,B4,A1          ; 
    3716 00001ca0 90001A10     [!A1]   B       .S1     L39               ; |1232| 
    3717 00001ca4 00008000             NOP             5
    3718                               ; BRANCH OCCURS                   ; |1232| 
    3719                    ;*----------------------------------------------------------------------------*
    3720                    ;*   SOFTWARE PIPELINE INFORMATION
    3721                    ;*      Disqualified loop: software pipelining disabled
    3722                    ;*----------------------------------------------------------------------------*
    3723 00001ca8           L38:    
    3724                            .line   513
    3725                    ;------------------------------------------------------------------------------
    3726                    ; 1234 | cd = d * UPDRECSZ;                                          // decremen
    3727                    ;     | t, we must mask that out here!                                         
    3728                    ;------------------------------------------------------------------------------
    3730 00001cac 00006000             NOP             4
    3729 00001ca8 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |1234| 
    3731 00001cb0 01801C40             ADDAW   .D1     A0,A0,A3          ; |1234| 
    3732 00001cb4 01BF62F4             STW     .D2T1   A3,*+SP(108)      ; |1234| 
    3733                            .line   514
    3734                    ;------------------------------------------------------------------------------
    3735                    ; 1235 | u16Dummy = (UINT16) data[cd + NREPS];                                  
    3736                    ;------------------------------------------------------------------------------
    3737 00001cb8 020032EC             LDW     .D2T1   *+SP(200),A4      ; |1235| 
    3738 00001cbc 018C8058             ADD     .L1     4,A3,A3           ; 
    3739 00001cc0 00004000             NOP             3
    3740 00001cc4 01906A04             LDHU    .D1T1   *+A4[A3],A3       ; |1235| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   69

    3741 00001cc8 00006000             NOP             4
    3742 00001ccc 01BE62D4             STH     .D2T1   A3,*+SP(38)       ; |1235| 
    3743                            .line   515
    3744                    ;------------------------------------------------------------------------------
    3745                    ; 1236 | if( parameters->wType[d] == DOTLIFEWIN ||                              
    3746                    ; 1237 | parameters->wType[d] == DL_NOISEDIR ||                                 
    3747                    ; 1238 | parameters->wType[d] == DL_NOISESPEED )                                
    3748                    ;------------------------------------------------------------------------------
    3749 00001cd0 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1236| 
    3750 00001cd4 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1236| 
    3751 00001cd8 00006000             NOP             4
    3752 00001cdc 0290BA42             ADDAH   .D2     B4,B5,B5          ; |1236| 
    3753 00001ce0 02954286             LDHU    .D2T2   *+B5(20),B5       ; |1236| 
    3754 00001ce4 00006000             NOP             4
    3755 00001ce8 00150A5A             CMPEQ   .L2     B5,8,B0           ; |1236| 
    3756 00001cec 323F42E4     [!B0]   LDW     .D2T1   *+SP(104),A4      ; |1236| 
    3757 00001cf0 31802AEC     [!B0]   LDW     .D2T1   *+SP(168),A3      ; |1236| 
    3758 00001cf4 00006000             NOP             4
    3759 00001cf8 318C9A40     [!B0]   ADDAH   .D1     A3,A4,A3          ; |1236| 
    3760 00001cfc 318D4204     [!B0]   LDHU    .D1T1   *+A3(20),A3       ; |1236| 
    3761 00001d00 00006000             NOP             4
    3762 00001d04 300D7A5A     [!B0]   CMPEQ   .L2X    A3,11,B0          ; |1236| 
    3763 00001d08 31802AEC     [!B0]   LDW     .D2T1   *+SP(168),A3      ; |1236| 
    3764 00001d0c 323F42E4     [!B0]   LDW     .D2T1   *+SP(104),A4      ; |1236| 
    3765 00001d10 00006000             NOP             4
    3766 00001d14 318C9A40     [!B0]   ADDAH   .D1     A3,A4,A3          ; |1236| 
    3767 00001d18 318D4204     [!B0]   LDHU    .D1T1   *+A3(20),A3       ; |1236| 
    3768 00001d1c 00006000             NOP             4
    3769 00001d20 300DBA5A     [!B0]   CMPEQ   .L2X    A3,13,B0          ; |1236| 
    3770                            .line   518
    3771                    ;------------------------------------------------------------------------------
    3772                    ; 1239 | u16Dummy &= 0x000000FF;                                                
    3773                    ;------------------------------------------------------------------------------
    3774 00001d24 22BE6286     [ B0]   LDHU    .D2T2   *+SP(38),B5       ; |1239| 
    3775 00001d28 00006000             NOP             4
    3776 00001d2c 2297180A     [ B0]   EXTU    .S2     B5,24,24,B5       ; |1239| 
    3777 00001d30 22BE62D6     [ B0]   STH     .D2T2   B5,*+SP(38)       ; |1239| 
    3778                            .line   519
    3779                    ;------------------------------------------------------------------------------
    3780                    ; 1240 | if ( ((UINT32) u16Dummy) > maxRepeats )                                
    3781                    ;------------------------------------------------------------------------------
    3782 00001d34 02BFA2E6             LDW     .D2T2   *+SP(116),B5      ; |1240| 
    3783 00001d38 033E6286             LDHU    .D2T2   *+SP(38),B6       ; |1240| 
    3784 00001d3c 00006000             NOP             4
    3785 00001d40 0014C9FA             CMPGTU  .L2     B6,B5,B0          ; |1240| 
    3786                            .line   520
    3787                    ;------------------------------------------------------------------------------
    3788                    ; 1241 | maxRepeats = (UINT32) u16Dummy;                                        
    3789                    ;------------------------------------------------------------------------------
    3790 00001d44 22BE6286     [ B0]   LDHU    .D2T2   *+SP(38),B5       ; |1241| 
    3791 00001d48 00006000             NOP             4
    3792 00001d4c 22BFA2F6     [ B0]   STW     .D2T2   B5,*+SP(116)      ; |1241| 
    3793                            .line   521
    3794                    ;------------------------------------------------------------------------------
    3795                    ; 1244 | // these are only used by DL_NOISEDIR and DL_NOISESPEED. We put the val
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   70

    3796                    ;     | ues in local vars so we're not                                         
    3797                    ; 1245 | // constantly accessing the PARAMETERS struct in shared memory (slower 
    3798                    ;     | access)                                                                
    3799                    ;------------------------------------------------------------------------------
    3800 00001d50 01802058             ADD     .L1     1,A0,A3           ; 
    3801 00001d54 01BF42F4             STW     .D2T1   A3,*+SP(104)      ; |1242| 
    3802 00001d58 00101058             MV      .L1X    B4,A0
    3803 00001d5c 0000A204             LDHU    .D1T1   *+A0(10),A0       ; |1242| 
    3804 00001d60 00006000             NOP             4
    3805 00001d64 00806BF8             CMPLTU  .L1     A3,A0,A1          ; 
    3806 00001d68 8FFFE910     [ A1]   B       .S1     L38               ; |1242| 
    3807 00001d6c 00008000             NOP             5
    3808                               ; BRANCH OCCURS                   ; |1242| 
    3809                    ;** --------------------------------------------------------------------------*
    3810 00001d70           L39:    
    3811                            .line   525
    3812                    ;------------------------------------------------------------------------------
    3813                    ; 1246 | screenW_mm = parameters->wWidthMM;                                     
    3814                    ;------------------------------------------------------------------------------
    3816 00001d74 00006000             NOP             4
    3815 00001d70 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |1246| 
    3817 00001d78 01804204             LDHU    .D1T1   *+A0(4),A3        ; |1246| 
    3818 00001d7c 00006000             NOP             4
    3819 00001d80 01BE02D4             STH     .D2T1   A3,*+SP(32)       ; |1246| 
    3820                            .line   526
    3821                    ;------------------------------------------------------------------------------
    3822                    ; 1247 | screenH_mm = parameters->wHeightMM;                                    
    3823                    ;------------------------------------------------------------------------------
    3824 00001d84 01806204             LDHU    .D1T1   *+A0(6),A3        ; |1247| 
    3825 00001d88 00006000             NOP             4
    3826 00001d8c 01BE22D4             STH     .D2T1   A3,*+SP(34)       ; |1247| 
    3827                            .line   528
    3828                    ;------------------------------------------------------------------------------
    3829                    ; 1249 | dotPosOffset = 0;                                              // BEGIN
    3830                    ;     | :  first pass thru all targets                                         
    3831                    ;------------------------------------------------------------------------------
    3832 00001d90 020000FA             ZERO    .L2     B4                ; |1249| 
    3833 00001d94 023F82F6             STW     .D2T2   B4,*+SP(112)      ; |1249| 
    3834                            .line   529
    3835                    ;------------------------------------------------------------------------------
    3836                    ; 1250 | nTotalVisDots = 0;                                                     
    3837                    ;------------------------------------------------------------------------------
    3838 00001d98 060000F8             ZERO    .L1     A12               ; |1250| 
    3839                            .line   530
    3840                    ;------------------------------------------------------------------------------
    3841                    ; 1251 | if( maxRepeats > 0 ) for( d = 0; d < parameters->wNumTargets; d++ )    
    3842                    ;------------------------------------------------------------------------------
    3843 00001d9c 003FA2E6             LDW     .D2T2   *+SP(116),B0      ; |1251| 
    3844 00001da0 00006000             NOP             4
    3845 00001da4 30065990     [!B0]   B       .S1     L135              ; |1251| 
    3846 00001da8 00008000             NOP             5
    3847                               ; BRANCH OCCURS                   ; |1251| 
    3848                    ;** --------------------------------------------------------------------------*
    3849 00001dac 018000F8             ZERO    .L1     A3                ; |1251| 
    3850 00001db0 01BF42F4             STW     .D2T1   A3,*+SP(104)      ; |1251| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   71

    3851 00001db4 0000A204             LDHU    .D1T1   *+A0(10),A0       ; |1251| 
    3852 00001db8 00006000             NOP             4
    3853 00001dbc 00806BF8             CMPLTU  .L1     A3,A0,A1          ; 
    3854 00001dc0 90065590     [!A1]   B       .S1     L135              ; |1251| 
    3855 00001dc4 00008000             NOP             5
    3856                               ; BRANCH OCCURS                   ; |1251| 
    3857                    ;** --------------------------------------------------------------------------*
    3858                    ;**   BEGIN LOOP L40
    3859                    ;** --------------------------------------------------------------------------*
    3860 00001dc8           L40:    
    3861                            .line   532
    3862                    ;------------------------------------------------------------------------------
    3863                    ; 1253 | cd = d * UPDRECSZ;                                          // offset i
    3864                    ;     | nto array of motion update records;                                    
    3865                    ; 1254 | // locates start of record for this tgt                                
    3866                    ;------------------------------------------------------------------------------
    3868 00001dcc 00006000             NOP             4
    3867 00001dc8 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1253| 
    3869 00001dd0 02109C42             ADDAW   .D2     B4,B4,B4          ; |1253| 
    3870 00001dd4 023F62F6             STW     .D2T2   B4,*+SP(108)      ; |1253| 
    3871                            .line   534
    3872                    ;------------------------------------------------------------------------------
    3873                    ; 1255 | u16Type = parameters->wType[d];                             // this tar
    3874                    ;     | get's type                                                             
    3875                    ;------------------------------------------------------------------------------
    3876 00001dd8 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |1255| 
    3877 00001ddc 01802AEC             LDW     .D2T1   *+SP(168),A3      ; |1255| 
    3878 00001de0 00006000             NOP             4
    3879 00001de4 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1255| 
    3880 00001de8 00014204             LDHU    .D1T1   *+A0(20),A0       ; |1255| 
    3881 00001dec 00006000             NOP             4
    3882 00001df0 003E42D4             STH     .D2T1   A0,*+SP(36)       ; |1255| 
    3883                            .line   536
    3884                    ;------------------------------------------------------------------------------
    3885                    ; 1257 | u16Dummy = (UINT16) data[cd + NREPS];                       // #reps pe
    3886                    ;     | r frame for this tgt (mask out dot                                     
    3887                    ;------------------------------------------------------------------------------
    3888 00001df4 028032EE             LDW     .D2T2   *+SP(200),B5      ; |1257| 
    3889 00001df8 0210805A             ADD     .L2     4,B4,B4           ; 
    3890 00001dfc 00004000             NOP             3
    3891 00001e00 02148A86             LDHU    .D2T2   *+B5[B4],B4       ; |1257| 
    3892 00001e04 00006000             NOP             4
    3893 00001e08 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1257| 
    3894                            .line   537
    3895                    ;------------------------------------------------------------------------------
    3896                    ; 1258 | if( u16Type == DOTLIFEWIN || u16Type == DL_NOISEDIR ||      // life dec
    3897                    ;     | r in upper byte if "dotlife" type)                                     
    3898                    ; 1259 | u16Type == DL_NOISESPEED )                                             
    3899                    ;------------------------------------------------------------------------------
    3900 00001e0c 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1258| 
    3901 00001e10 00006000             NOP             4
    3902 00001e14 00110A5A             CMPEQ   .L2     B4,8,B0           ; |1258| 
    3903 00001e18 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1258| 
    3904 00001e1c 00006000             NOP             4
    3905 00001e20 30116A5A     [!B0]   CMPEQ   .L2     B4,11,B0          ; |1258| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   72

    3906 00001e24 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1258| 
    3907 00001e28 00006000             NOP             4
    3908 00001e2c 3011AA5A     [!B0]   CMPEQ   .L2     B4,13,B0          ; |1258| 
    3909                            .line   539
    3910                    ;------------------------------------------------------------------------------
    3911                    ; 1260 | u16Dummy &= 0x000000FF;                                                
    3912                    ;------------------------------------------------------------------------------
    3913 00001e30 223E6286     [ B0]   LDHU    .D2T2   *+SP(38),B4       ; |1260| 
    3914 00001e34 00006000             NOP             4
    3915 00001e38 2213180A     [ B0]   EXTU    .S2     B4,24,24,B4       ; |1260| 
    3916 00001e3c 223E62D6     [ B0]   STH     .D2T2   B4,*+SP(38)       ; |1260| 
    3917                            .line   541
    3918                    ;------------------------------------------------------------------------------
    3919                    ; 1262 | if( (u16Type == NO_TARGET) ||                               // if "non-
    3920                    ;     | target", if #dots = 0, or if #reps                                     
    3921                    ; 1263 | (parameters->wNumDots[d] == 0) || (u16Dummy == 0) ||    // is zero for 
    3922                    ;     | this target, or if it's a                                              
    3923                    ; 1264 | (u16Type == ORIBAR && parameters->wRectL[d] == 0) )     // zero-height 
    3924                    ;     | ORIBAR target, then skip to                                            
    3925                    ; 1265 | {                                                           // next tar
    3926                    ;     | get...                                                                 
    3927                    ;------------------------------------------------------------------------------
    3928 00001e40 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1262| 
    3929 00001e44 00006000             NOP             4
    3930 00001e48 00100A5A             CMPEQ   .L2     B4,0,B0           ; |1262| 
    3931 00001e4c 323F42E6     [!B0]   LDW     .D2T2   *+SP(104),B4      ; |1262| 
    3932 00001e50 32802AEE     [!B0]   LDW     .D2T2   *+SP(168),B5      ; |1262| 
    3933 00001e54 00006000             NOP             4
    3934 00001e58 32149A42     [!B0]   ADDAH   .D2     B5,B4,B4          ; |1262| 
    3935 00001e5c 32002A52     [!B0]   ADDK    .S2     84,B4             ; |1262| 
    3936 00001e60 32100286     [!B0]   LDHU    .D2T2   *B4,B4            ; |1262| 
    3937 00001e64 00006000             NOP             4
    3938 00001e68 30100A5A     [!B0]   CMPEQ   .L2     B4,0,B0           ; |1262| 
    3939 00001e6c 02000A5A             CMPEQ   .L2     B0,0,B4           ; 
    3940 00001e70 00102DDA             XOR     .L2     1,B4,B0           ; |1262| 
    3941 00001e74 323E6286     [!B0]   LDHU    .D2T2   *+SP(38),B4       ; |1262| 
    3942 00001e78 00006000             NOP             4
    3943 00001e7c 30100A5A     [!B0]   CMPEQ   .L2     B4,0,B0           ; |1262| 
    3944 00001e80 20000790     [ B0]   B       .S1     L41               ; |1262| 
    3945 00001e84 27801058     [ B0]   MV      .L1X    B0,A15            ; |1262| 
    3946 00001e88 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1262| 
    3947 00001e8c 00004000             NOP             3
    3948                               ; BRANCH OCCURS                   ; |1262| 
    3949                    ;** --------------------------------------------------------------------------*
    3950 00001e90 00006000             NOP             4
    3951 00001e94 00114A5A             CMPEQ   .L2     B4,10,B0          ; |1262| 
    3952 00001e98 22802AEE     [ B0]   LDW     .D2T2   *+SP(168),B5      ; |1262| 
    3953 00001e9c 223F42E6     [ B0]   LDW     .D2T2   *+SP(104),B4      ; |1262| 
    3954 00001ea0 00006000             NOP             4
    3955 00001ea4 22149A42     [ B0]   ADDAH   .D2     B5,B4,B4          ; |1262| 
    3956 00001ea8 22006A52     [ B0]   ADDK    .S2     212,B4            ; |1262| 
    3957 00001eac 22100286     [ B0]   LDHU    .D2T2   *B4,B4            ; |1262| 
    3958 00001eb0 00006000             NOP             4
    3959 00001eb4 20100A5A     [ B0]   CMPEQ   .L2     B4,0,B0           ; |1262| 
    3960 00001eb8 07801058             MV      .L1X    B0,A15            ; 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   73

    3961                    ;** --------------------------------------------------------------------------*
    3962 00001ebc           L41:    
    3963 00001ebc 00BC0058             MV      .L1     A15,A1            ; |1262| 
    3964                            .line   545
    3965                    ;------------------------------------------------------------------------------
    3966                    ; 1266 | nRedrawsLeft[d] = 0;                                                   
    3967                    ;------------------------------------------------------------------------------
    3968 00001ec0 82BF42E6     [ A1]   LDW     .D2T2   *+SP(104),B5      ; |1266| 
    3969 00001ec4 82002DEE     [ A1]   LDW     .D2T2   *+SP(180),B4      ; |1266| 
    3970 00001ec8 830000FA     [ A1]   ZERO    .L2     B6                ; |1266| 
    3971 00001ecc 00004000             NOP             3
    3972 00001ed0 8310AAD6     [ A1]   STH     .D2T2   B6,*+B4[B5]       ; |1266| 
    3973                            .line   546
    3974                    ;------------------------------------------------------------------------------
    3975                    ; 1267 | nVisDotsPerTgt[d] = 0;                                                 
    3976                    ;------------------------------------------------------------------------------
    3977 00001ed4 82BF42E6     [ A1]   LDW     .D2T2   *+SP(104),B5      ; |1267| 
    3978 00001ed8 82002EEE     [ A1]   LDW     .D2T2   *+SP(184),B4      ; |1267| 
    3979 00001edc 830000FA     [ A1]   ZERO    .L2     B6                ; |1267| 
    3980 00001ee0 00004000             NOP             3
    3981 00001ee4 8310AAD6     [ A1]   STH     .D2T2   B6,*+B4[B5]       ; |1267| 
    3982                            .line   547
    3983                    ;------------------------------------------------------------------------------
    3984                    ; 1268 | dotPosOffset += parameters->wNumDots[d];                               
    3985                    ;------------------------------------------------------------------------------
    3986 00001ee8 82BF42E6     [ A1]   LDW     .D2T2   *+SP(104),B5      ; |1268| 
    3987 00001eec 82002AEE     [ A1]   LDW     .D2T2   *+SP(168),B4      ; |1268| 
    3988 00001ef0 00006000             NOP             4
    3989 00001ef4 8210BA42     [ A1]   ADDAH   .D2     B4,B5,B4          ; |1268| 
    3990 00001ef8 82002A52     [ A1]   ADDK    .S2     84,B4             ; |1268| 
    3991 00001efc 82900286     [ A1]   LDHU    .D2T2   *B4,B5            ; |1268| 
    3992 00001f00 823F82E6     [ A1]   LDW     .D2T2   *+SP(112),B4      ; |1268| 
    3993 00001f04 00006000             NOP             4
    3994 00001f08 8210A07A     [ A1]   ADD     .L2     B5,B4,B4          ; |1268| 
    3995 00001f0c 823F82F6     [ A1]   STW     .D2T2   B4,*+SP(112)      ; |1268| 
    3996                            .line   548
    3997                    ;------------------------------------------------------------------------------
    3998                    ; 1269 | continue;                                                              
    3999                    ;------------------------------------------------------------------------------
    4000 00001f10 80062810     [ A1]   B       .S1     L134              ; |1269| 
    4001 00001f14 00008000             NOP             5
    4002                               ; BRANCH OCCURS                   ; |1269| 
    4003                    ;** --------------------------------------------------------------------------*
    4004                            .line   551
    4005                    ;------------------------------------------------------------------------------
    4006                    ; 1272 | hw = (INT16) data[cd + WIN_H];                              // target's
    4007                    ;     |  window pos change for current frame                                   
    4008                    ;------------------------------------------------------------------------------
    4009 00001f18 02BF62E6             LDW     .D2T2   *+SP(108),B5      ; |1272| 
    4010 00001f1c 020032EE             LDW     .D2T2   *+SP(200),B4      ; |1272| 
    4011 00001f20 00006000             NOP             4
    4012 00001f24 0310AAC6             LDH     .D2T2   *+B4[B5],B6       ; |1272| 
    4013 00001f28 00006000             NOP             4
    4014 00001f2c 033C82D6             STH     .D2T2   B6,*+SP(8)        ; |1272| 
    4015                            .line   552
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   74

    4016                    ;------------------------------------------------------------------------------
    4017                    ; 1273 | vw = (INT16) data[cd + WIN_V];                                         
    4018                    ;------------------------------------------------------------------------------
    4019 00001f30 0314205A             ADD     .L2     1,B5,B6           ; 
    4020 00001f34 0310CAC6             LDH     .D2T2   *+B4[B6],B6       ; |1273| 
    4021 00001f38 00006000             NOP             4
    4022 00001f3c 033CA2D6             STH     .D2T2   B6,*+SP(10)       ; |1273| 
    4023                            .line   553
    4024                    ;------------------------------------------------------------------------------
    4025                    ; 1274 | hv = (INT16) data[cd + PAT_H];                              // tgt's pa
    4026                    ;     | ttern pos change for current frame                                     
    4027                    ;------------------------------------------------------------------------------
    4028 00001f40 0314405A             ADD     .L2     2,B5,B6           ; 
    4029 00001f44 0310CAC6             LDH     .D2T2   *+B4[B6],B6       ; |1274| 
    4030 00001f48 00006000             NOP             4
    4031 00001f4c 033C42D6             STH     .D2T2   B6,*+SP(4)        ; |1274| 
    4032                            .line   554
    4033                    ;------------------------------------------------------------------------------
    4034                    ; 1275 | vv = (INT16) data[cd + PAT_V];                                         
    4035                    ; 1276 | // deal with special cases:                                            
    4036                    ;------------------------------------------------------------------------------
    4037 00001f50 0294605A             ADD     .L2     3,B5,B5           ; 
    4038 00001f54 0210AAC6             LDH     .D2T2   *+B4[B5],B4       ; |1275| 
    4039 00001f58 00006000             NOP             4
    4040 00001f5c 023C62D6             STH     .D2T2   B4,*+SP(6)        ; |1275| 
    4041                            .line   556
    4042                    ;------------------------------------------------------------------------------
    4043                    ; 1277 | if( u16Type == STATICANNU )                                 //    STATI
    4044                    ;     | CANNU - no window or pattern motion                                    
    4045                    ;------------------------------------------------------------------------------
    4046 00001f60 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1277| 
    4047 00001f64 00006000             NOP             4
    4048 00001f68 0010CA5A             CMPEQ   .L2     B4,6,B0           ; |1277| 
    4049                            .line   557
    4050                    ;------------------------------------------------------------------------------
    4051                    ; 1278 | hw = vw = hv = vv = 0;                                                 
    4052                    ;------------------------------------------------------------------------------
    4053 00001f6c 218000F8     [ B0]   ZERO    .L1     A3                ; 
    4054                    
    4055 00001f70 21BC42D5     [ B0]   STH     .D2T1   A3,*+SP(4)        ; |1278| 
    4056 00001f74 200000F8  || [ B0]   ZERO    .L1     A0                ; 
    4057                    
    4058 00001f78 203C82D4     [ B0]   STH     .D2T1   A0,*+SP(8)        ; |1278| 
    4059                    
    4060 00001f80 203CA2D5     [ B0]   STH     .D2T1   A0,*+SP(10)       ; |1278| 
    4061 00001f84 218000F8  || [ B0]   ZERO    .L1     A3                ; 
    4062                    
    4063 00001f88 21BC62D4     [ B0]   STH     .D2T1   A3,*+SP(6)        ; |1278| 
    4064                            .line   558
    4065                    ;------------------------------------------------------------------------------
    4066                    ; 1279 | if( u16Type == FULLSCREEN )                                 //    FULLS
    4067                    ;     | CREEN - no window                                                      
    4068                    ;------------------------------------------------------------------------------
    4069 00001f8c 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1279| 
    4070 00001f90 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   75

    4071 00001f94 00104A5A             CMPEQ   .L2     B4,2,B0           ; |1279| 
    4072                            .line   559
    4073                    ;------------------------------------------------------------------------------
    4074                    ; 1280 | hw = vw = 0;                                                           
    4075                    ;------------------------------------------------------------------------------
    4076 00001f98 220000FA     [ B0]   ZERO    .L2     B4                ; |1280| 
    4077 00001f9c 223CA2D6     [ B0]   STH     .D2T2   B4,*+SP(10)       ; |1280| 
    4078 00001fa0 223C82D6     [ B0]   STH     .D2T2   B4,*+SP(8)        ; |1280| 
    4079                            .line   560
    4080                    ;------------------------------------------------------------------------------
    4081                    ; 1281 | if( (u16Type == DOTARRAY) || (u16Type == ORIBAR) )          //    DOTAR
    4082                    ;     | RAY/ORIBAR - dots move together as                                     
    4083                    ; 1282 | {                                                           //    an ob
    4084                    ;     | ject. there's no window or pattern                                     
    4085                    ;------------------------------------------------------------------------------
    4086 00001fa4 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1281| 
    4087 00001fa8 00006000             NOP             4
    4088 00001fac 00102A5A             CMPEQ   .L2     B4,1,B0           ; |1281| 
    4089 00001fb0 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1281| 
    4090 00001fb4 00006000             NOP             4
    4091 00001fb8 30114A5A     [!B0]   CMPEQ   .L2     B4,10,B0          ; |1281| 
    4092                            .line   562
    4093                    ;------------------------------------------------------------------------------
    4094                    ; 1283 | hv = hw;                                                 //    in the s
    4095                    ;     | ense of the windowed tgt types;                                        
    4096                    ;------------------------------------------------------------------------------
    4097 00001fbc 223C82C6     [ B0]   LDH     .D2T2   *+SP(8),B4        ; |1283| 
    4098 00001fc0 00006000             NOP             4
    4099 00001fc4 223C42D6     [ B0]   STH     .D2T2   B4,*+SP(4)        ; |1283| 
    4100                            .line   563
    4101                    ;------------------------------------------------------------------------------
    4102                    ; 1284 | vv = vw;                                                 //    all dots
    4103                    ;     |  drawn. assign "window" to                                             
    4104                    ;------------------------------------------------------------------------------
    4105 00001fc8 223CA2C6     [ B0]   LDH     .D2T2   *+SP(10),B4       ; |1284| 
    4106 00001fcc 00006000             NOP             4
    4107 00001fd0 223C62D6     [ B0]   STH     .D2T2   B4,*+SP(6)        ; |1284| 
    4108                            .line   564
    4109                    ;------------------------------------------------------------------------------
    4110                    ; 1285 | hw = vw = 0;                                             //    "pattern
    4111                    ;     | " vel, so we can implement like                                        
    4112                    ; 1286 | }                                                           //    the F
    4113                    ;     | ULLSCREEN tgt type (see below)                                         
    4114                    ;------------------------------------------------------------------------------
    4115 00001fd4 220000FA     [ B0]   ZERO    .L2     B4                ; |1285| 
    4116 00001fd8 223C82D6     [ B0]   STH     .D2T2   B4,*+SP(8)        ; |1285| 
    4117 00001fdc 223CA2D6     [ B0]   STH     .D2T2   B4,*+SP(10)       ; |1285| 
    4118                            .line   567
    4119                    ;------------------------------------------------------------------------------
    4120                    ; 1288 | if( u16Type != OPTICFLOW )                                  // update t
    4121                    ;     | arget window location.                                                 
    4122                    ; 1289 | {                                                           // !!! UINT
    4123                    ;     | 16 arithmetic! Windows wrap around                                     
    4124                    ;------------------------------------------------------------------------------
    4125 00001fe0 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1288| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   76

    4126 00001fe4 00006000             NOP             4
    4127 00001fe8 00112A5A             CMPEQ   .L2     B4,9,B0           ; |1288| 
    4128 00001fec 20003A10     [ B0]   B       .S1     L42               ; |1288| 
    4129 00001ff0 00008000             NOP             5
    4130                               ; BRANCH OCCURS                   ; |1288| 
    4131                    ;** --------------------------------------------------------------------------*
    4132                            .line   569
    4133                    ;------------------------------------------------------------------------------
    4134                    ; 1290 | parameters->wRectR[d] += hw;                             // screen on D
    4135                    ;     | etroit/Daytona.  Won't happen on                                       
    4136                    ;------------------------------------------------------------------------------
    4137 00001ff4 01802AEC             LDW     .D2T1   *+SP(168),A3      ; |1290| 
    4138 00001ff8 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |1290| 
    4139 00001ffc 02004A2A             MVK     .S2     148,B4            ; |1290| 
    4140 00002000 00004000             NOP             3
    4141 00002004 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1290| 
    4142 00002008 00101078             ADD     .L1X    B4,A0,A0          ; |1290| 
    4143 0000200c 01800204             LDHU    .D1T1   *A0,A3            ; |1290| 
    4144 00002010 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |1290| 
    4145 00002014 00006000             NOP             4
    4146 00002018 01907078             ADD     .L1X    B4,A3,A3          ; |1290| 
    4147 0000201c 01800254             STH     .D1T1   A3,*A0            ; |1290| 
    4148                            .line   570
    4149                    ;------------------------------------------------------------------------------
    4150                    ; 1291 | parameters->wRectL[d] += hw;                             // Dakar, b/c 
    4151                    ;     | UINT16 is actually UINT32.  It is                                      
    4152                    ;------------------------------------------------------------------------------
    4153 00002020 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |1291| 
    4154 00002024 01802AEC             LDW     .D2T1   *+SP(168),A3      ; |1291| 
    4155 00002028 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |1291| 
    4156 0000202c 00004000             NOP             3
    4157                    
    4158 00002030 000C1A41             ADDAH   .D1     A3,A0,A0          ; |1291| 
    4159 00002034 01806A28  ||         MVK     .S1     212,A3            ; |1291| 
    4160                    
    4161 00002038 00006078             ADD     .L1     A3,A0,A0          ; |1291| 
    4162 0000203c 01800204             LDHU    .D1T1   *A0,A3            ; |1291| 
    4163 00002040 00006000             NOP             4
    4164 00002044 01907078             ADD     .L1X    B4,A3,A3          ; |1291| 
    4165 00002048 01800254             STH     .D1T1   A3,*A0            ; |1291| 
    4166                            .line   571
    4167                    ;------------------------------------------------------------------------------
    4168                    ; 1292 | parameters->wRectT[d] += vw;                             // considered 
    4169                    ;     | an error on user's part to have a                                      
    4170                    ;------------------------------------------------------------------------------
    4171 0000204c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1292| 
    4172 00002050 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1292| 
    4173 00002054 00008A28             MVK     .S1     276,A0            ; |1292| 
    4174 00002058 00004000             NOP             3
    4175 0000205c 02149A42             ADDAH   .D2     B5,B4,B4          ; |1292| 
    4176 00002060 00101078             ADD     .L1X    A0,B4,A0          ; |1292| 
    4177 00002064 01800204             LDHU    .D1T1   *A0,A3            ; |1292| 
    4178 00002068 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |1292| 
    4179 0000206c 00006000             NOP             4
    4180 00002070 01907078             ADD     .L1X    B4,A3,A3          ; |1292| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   77

    4181 00002074 01800254             STH     .D1T1   A3,*A0            ; |1292| 
    4182                            .line   572
    4183                    ;------------------------------------------------------------------------------
    4184                    ; 1293 | parameters->wRectB[d] += vw;                             // target wind
    4185                    ;     | ow go past screen bounds!!!                                            
    4186                    ;------------------------------------------------------------------------------
    4187 00002078 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1293| 
    4188 0000207c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1293| 
    4189 00002080 033CA2C6             LDH     .D2T2   *+SP(10),B6       ; |1293| 
    4190 00002084 00004000             NOP             3
    4191                    
    4192 00002088 02149A43             ADDAH   .D2     B5,B4,B4          ; |1293| 
    4193 0000208c 0280AA2A  ||         MVK     .S2     340,B5            ; |1293| 
    4194                    
    4195 00002090 0210A07A             ADD     .L2     B5,B4,B4          ; |1293| 
    4196 00002094 02900286             LDHU    .D2T2   *B4,B5            ; |1293| 
    4197 00002098 00006000             NOP             4
    4198 0000209c 0294C07A             ADD     .L2     B6,B5,B5          ; |1293| 
    4199 000020a0 029002D6             STH     .D2T2   B5,*B4            ; |1293| 
    4200                            .line   574
    4201                    ;------------------------------------------------------------------------------
    4202                    ; 1295 | rectR = parameters->wRectR[d];                           // save curren
    4203                    ;     | t window bounds in register vars                                       
    4204                    ;------------------------------------------------------------------------------
    4205 000020a4 01802AEC             LDW     .D2T1   *+SP(168),A3      ; |1295| 
    4206 000020a8 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |1295| 
    4207 000020ac 00006000             NOP             4
    4208 000020b0 020C1A40             ADDAH   .D1     A3,A0,A4          ; |1295| 
    4209 000020b4 02004A50             ADDK    .S1     148,A4            ; |1295| 
    4210 000020b8 04100204             LDHU    .D1T1   *A4,A8            ; |1295| 
    4211 000020bc 00006000             NOP             4
    4212                            .line   575
    4213                    ;------------------------------------------------------------------------------
    4214                    ; 1296 | rectL = parameters->wRectL[d];                           // to speed up
    4215                    ;     |  comparisons which must be                                             
    4216                    ;------------------------------------------------------------------------------
    4217 000020c0 020C1A40             ADDAH   .D1     A3,A0,A4          ; |1296| 
    4218 000020c4 02006A50             ADDK    .S1     212,A4            ; |1296| 
    4219 000020c8 04100206             LDHU    .D1T2   *A4,B8            ; |1296| 
    4220 000020cc 00006000             NOP             4
    4221                            .line   576
    4222                    ;------------------------------------------------------------------------------
    4223                    ; 1297 | rectU = parameters->wRectT[d];                           // performed f
    4224                    ;     | or all dots                                                            
    4225                    ;------------------------------------------------------------------------------
    4226 000020d0 020C1A40             ADDAH   .D1     A3,A0,A4          ; |1297| 
    4227 000020d4 02008A50             ADDK    .S1     276,A4            ; |1297| 
    4228 000020d8 06900204             LDHU    .D1T1   *A4,A13           ; |1297| 
    4229 000020dc 00006000             NOP             4
    4230                            .line   577
    4231                    ;------------------------------------------------------------------------------
    4232                    ; 1298 | rectD = parameters->wRectB[d];                                         
    4233                    ;------------------------------------------------------------------------------
    4234 000020e0 020C1A40             ADDAH   .D1     A3,A0,A4          ; |1298| 
    4235 000020e4 0200AA50             ADDK    .S1     340,A4            ; |1298| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   78

    4236 000020e8 04900206             LDHU    .D1T2   *A4,B9            ; |1298| 
    4237 000020ec 00006000             NOP             4
    4238                            .line   579
    4239                    ;------------------------------------------------------------------------------
    4240                    ; 1300 | if( u16Type == ANNULUS )                                 // must update
    4241                    ;     |  outer rect as well for ANNULUS;                                       
    4242                    ; 1301 | {                                                        // note that w
    4243                    ;     | e DO NOT assign register vars to                                       
    4244                    ;------------------------------------------------------------------------------
    4245 000020f0 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1300| 
    4246 000020f4 00006000             NOP             4
    4247 000020f8 0010AA5A             CMPEQ   .L2     B4,5,B0           ; |1300| 
    4248 000020fc 30003310     [!B0]   B       .S1     L43               ; |1300| 
    4249 00002100 00008000             NOP             5
    4250                               ; BRANCH OCCURS                   ; |1300| 
    4251                    ;** --------------------------------------------------------------------------*
    4252                            .line   581
    4253                    ;------------------------------------------------------------------------------
    4254                    ; 1302 | parameters->wOuterR[d] += hw;                         // the bounds of 
    4255                    ;     | the outer rect.                                                        
    4256                    ;------------------------------------------------------------------------------
    4257                    
    4258 00002104 0200CA2B             MVK     .S2     404,B4            ; |1302| 
    4259 00002108 000C1A40  ||         ADDAH   .D1     A3,A0,A0          ; |1302| 
    4260                    
    4261 0000210c 00101078             ADD     .L1X    B4,A0,A0          ; |1302| 
    4262 00002110 01800204             LDHU    .D1T1   *A0,A3            ; |1302| 
    4263 00002114 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |1302| 
    4264 00002118 00006000             NOP             4
    4265 0000211c 01907078             ADD     .L1X    B4,A3,A3          ; |1302| 
    4266 00002120 01800254             STH     .D1T1   A3,*A0            ; |1302| 
    4267                            .line   582
    4268                    ;------------------------------------------------------------------------------
    4269                    ; 1303 | parameters->wOuterL[d] += hw;                                          
    4270                    ;------------------------------------------------------------------------------
    4271 00002124 00002AEC             LDW     .D2T1   *+SP(168),A0      ; |1303| 
    4272 00002128 01BF42E4             LDW     .D2T1   *+SP(104),A3      ; |1303| 
    4273 0000212c 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |1303| 
    4274 00002130 00004000             NOP             3
    4275                    
    4276 00002134 00007A41             ADDAH   .D1     A0,A3,A0          ; |1303| 
    4277 00002138 0180EA28  ||         MVK     .S1     468,A3            ; |1303| 
    4278                    
    4279 0000213c 01806078             ADD     .L1     A3,A0,A3          ; |1303| 
    4280 00002140 000C0204             LDHU    .D1T1   *A3,A0            ; |1303| 
    4281 00002144 00006000             NOP             4
    4282 00002148 00101078             ADD     .L1X    B4,A0,A0          ; |1303| 
    4283 0000214c 000C0254             STH     .D1T1   A0,*A3            ; |1303| 
    4284                            .line   583
    4285                    ;------------------------------------------------------------------------------
    4286                    ; 1304 | parameters->wOuterT[d] += vw;                                          
    4287                    ;------------------------------------------------------------------------------
    4288 00002150 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1304| 
    4289 00002154 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1304| 
    4290 00002158 00010A28             MVK     .S1     532,A0            ; |1304| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   79

    4291 0000215c 00004000             NOP             3
    4292 00002160 0210BA42             ADDAH   .D2     B4,B5,B4          ; |1304| 
    4293 00002164 00101078             ADD     .L1X    A0,B4,A0          ; |1304| 
    4294 00002168 01800204             LDHU    .D1T1   *A0,A3            ; |1304| 
    4295 0000216c 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |1304| 
    4296 00002170 00006000             NOP             4
    4297 00002174 01907078             ADD     .L1X    B4,A3,A3          ; |1304| 
    4298 00002178 01800254             STH     .D1T1   A3,*A0            ; |1304| 
    4299                            .line   584
    4300                    ;------------------------------------------------------------------------------
    4301                    ; 1305 | parameters->wOuterB[d] += vw;                                          
    4302                    ;------------------------------------------------------------------------------
    4303 0000217c 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1305| 
    4304 00002180 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1305| 
    4305 00002184 00006000             NOP             4
    4306                    
    4307 00002188 0210BA43             ADDAH   .D2     B4,B5,B4          ; |1305| 
    4308 0000218c 02812A2A  ||         MVK     .S2     596,B5            ; |1305| 
    4309                    
    4310 00002190 0310A07A             ADD     .L2     B5,B4,B6          ; |1305| 
    4311 00002194 02980286             LDHU    .D2T2   *B6,B5            ; |1305| 
    4312 00002198 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |1305| 
    4313 0000219c 00006000             NOP             4
    4314 000021a0 0214807A             ADD     .L2     B4,B5,B4          ; |1305| 
    4315 000021a4 021802D6             STH     .D2T2   B4,*B6            ; |1305| 
    4316                            .line   586
    4317                    ;------------------------------------------------------------------------------
    4318                    ; 1308 | else                                                        // OPTICFLO
    4319                    ;     | W target is very different: window                                     
    4320                    ; 1309 | {                                                           // is moved
    4321                    ;     |  by changing coords of the FOE...                                      
    4322                    ;------------------------------------------------------------------------------
    4323 000021a8 00001B10             B       .S1     L43               ; |1307| 
    4324 000021ac 00008000             NOP             5
    4325                               ; BRANCH OCCURS                   ; |1307| 
    4326                    ;** --------------------------------------------------------------------------*
    4327 000021b0           L42:    
    4328                            .line   589
    4329                    ;------------------------------------------------------------------------------
    4330                    ; 1310 | rectR = (UINT16) parameters->wRectR[d];                  //    inner ra
    4331                    ;     | dius in visual deg/100                                                 
    4332                    ;------------------------------------------------------------------------------
    4334 000021b4 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1310| 
    4333 000021b0 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1310| 
    4335 000021b8 00006000             NOP             4
    4336 000021bc 03149A42             ADDAH   .D2     B5,B4,B6          ; |1310| 
    4337 000021c0 03004A52             ADDK    .S2     148,B6            ; |1310| 
    4338 000021c4 04180284             LDHU    .D2T1   *B6,A8            ; |1310| 
    4339 000021c8 00006000             NOP             4
    4340                            .line   590
    4341                    ;------------------------------------------------------------------------------
    4342                    ; 1311 | rectL = (UINT16) parameters->wRectL[d];                  //    outer ra
    4343                    ;     | dius in visual deg/100                                                 
    4344                    ;------------------------------------------------------------------------------
    4345 000021cc 01901058             MV      .L1X    B4,A3
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   80

    4346 000021d0 00141058             MV      .L1X    B5,A0
    4347 000021d4 00007A40             ADDAH   .D1     A0,A3,A0          ; |1311| 
    4348 000021d8 00006A50             ADDK    .S1     212,A0            ; |1311| 
    4349 000021dc 04000206             LDHU    .D1T2   *A0,B8            ; |1311| 
    4350 000021e0 00006000             NOP             4
    4351                            .line   591
    4352                    ;------------------------------------------------------------------------------
    4353                    ; 1312 | rectU = (UINT16) parameters->wRectT[d];                  //    alphaX g
    4354                    ;     | eometric conversion fac (* 1024)                                       
    4355                    ;------------------------------------------------------------------------------
    4356 000021e4 01941058             MV      .L1X    B5,A3
    4357 000021e8 00101058             MV      .L1X    B4,A0
    4358 000021ec 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1312| 
    4359 000021f0 00008A50             ADDK    .S1     276,A0            ; |1312| 
    4360 000021f4 06800204             LDHU    .D1T1   *A0,A13           ; |1312| 
    4361 000021f8 00006000             NOP             4
    4362                            .line   592
    4363                    ;------------------------------------------------------------------------------
    4364                    ; 1313 | rectD = (UINT16) parameters->wRectB[d];                  //    alphaY g
    4365                    ;     | eometric conversion fac (* 1024)                                       
    4366                    ;------------------------------------------------------------------------------
    4367 000021fc 00101058             MV      .L1X    B4,A0
    4368 00002200 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1313| 
    4369 00002204 0000AA50             ADDK    .S1     340,A0            ; |1313| 
    4370 00002208 04800206             LDHU    .D1T2   *A0,B9            ; |1313| 
    4371 0000220c 00006000             NOP             4
    4372                            .line   594
    4373                    ;------------------------------------------------------------------------------
    4374                    ; 1315 | xCoord = parameters->wOuterR[d];                         //    update c
    4375                    ;     | oords of the FOE now...                                                
    4376                    ;------------------------------------------------------------------------------
    4377 00002210 03149A42             ADDAH   .D2     B5,B4,B6          ; |1315| 
    4378 00002214 0300CA52             ADDK    .S2     404,B6            ; |1315| 
    4379 00002218 05180284             LDHU    .D2T1   *B6,A10           ; |1315| 
    4380 0000221c 00006000             NOP             4
    4381                            .line   595
    4382                    ;------------------------------------------------------------------------------
    4383                    ; 1316 | xCoord += hw;                                                          
    4384                    ;------------------------------------------------------------------------------
    4385 00002220 033C82C6             LDH     .D2T2   *+SP(8),B6        ; |1316| 
    4386 00002224 00006000             NOP             4
    4387 00002228 00195078             ADD     .L1X    B6,A10,A0         ; |1316| 
    4388 0000222c 05021008             EXTU    .S1     A0,16,16,A10      ; |1316| 
    4389                            .line   596
    4390                    ;------------------------------------------------------------------------------
    4391                    ; 1317 | yCoord = parameters->wOuterL[d];                                       
    4392                    ;------------------------------------------------------------------------------
    4393 00002230 03149A42             ADDAH   .D2     B5,B4,B6          ; |1317| 
    4394 00002234 0300EA52             ADDK    .S2     468,B6            ; |1317| 
    4395 00002238 05980284             LDHU    .D2T1   *B6,A11           ; |1317| 
    4396 0000223c 00006000             NOP             4
    4397                            .line   597
    4398                    ;------------------------------------------------------------------------------
    4399                    ; 1318 | yCoord += vw;                                                          
    4400                    ; 1319 | #ifdef _TGTDAKARF5                                       //    ensure U
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   81

    4401                    ;     | INT16 arith on 32-bit-only DAKAR                                       
    4402                    ; 1320 | if( xCoord > 0x0000FFFF )                                              
    4403                    ; 1322 | if( hw > 0 ) xCoord -= 65536;                                          
    4404                    ; 1323 | else         xCoord &= 0x0000FFFF;                                     
    4405                    ; 1325 | if( yCoord > 0x0000FFFF )                                              
    4406                    ; 1327 | if( vw > 0 ) yCoord -= 65536;                                          
    4407                    ; 1328 | else         yCoord &= 0x0000FFFF;                                     
    4408                    ; 1330 | #endif                                                                 
    4409                    ;------------------------------------------------------------------------------
    4410 00002240 033CA2C6             LDH     .D2T2   *+SP(10),B6       ; |1318| 
    4411 00002244 00006000             NOP             4
    4412 00002248 00197078             ADD     .L1X    B6,A11,A0         ; |1318| 
    4413 0000224c 05821008             EXTU    .S1     A0,16,16,A11      ; |1318| 
    4414                            .line   610
    4415                    ;------------------------------------------------------------------------------
    4416                    ; 1331 | parameters->wOuterR[d] = xCoord;                         //    the new 
    4417                    ;     | FOE coords are also preserved                                          
    4418                    ;------------------------------------------------------------------------------
    4419 00002250 00101058             MV      .L1X    B4,A0
    4420 00002254 000C1A40             ADDAH   .D1     A3,A0,A0          ; |1331| 
    4421 00002258 0000CA50             ADDK    .S1     404,A0            ; |1331| 
    4422 0000225c 05000254             STH     .D1T1   A10,*A0           ; |1331| 
    4423                            .line   611
    4424                    ;------------------------------------------------------------------------------
    4425                    ; 1332 | parameters->wOuterL[d] = yCoord;                         //    in the r
    4426                    ;     | egister vars (xCoord, yCoord)...                                       
    4427                    ; 1333 | //    also, reg vars (hv,vv) = (B*2^M, M)!                             
    4428                    ;------------------------------------------------------------------------------
    4429 00002260 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1332| 
    4430 00002264 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1332| 
    4431 00002268 00006000             NOP             4
    4432 0000226c 02149A42             ADDAH   .D2     B5,B4,B4          ; |1332| 
    4433 00002270 0200EA52             ADDK    .S2     468,B4            ; |1332| 
    4434 00002274 059002D4             STH     .D2T1   A11,*B4           ; |1332| 
    4435                    ;** --------------------------------------------------------------------------*
    4436 00002278           L43:    
    4437                            .line   615
    4438                    ;------------------------------------------------------------------------------
    4439                    ; 1336 | de = &xdotpos[ dotPosOffset + parameters->wNumDots[d] ];    // set ptrs
    4440                    ;     |  into target's dot position, dot                                       
    4441                    ;------------------------------------------------------------------------------
    4443 0000227c 02802AEC             LDW     .D2T1   *+SP(168),A5      ; |1336| 
    4442 00002278 023F42E4             LDW     .D2T1   *+SP(104),A4      ; |1336| 
    4444 00002280 033F82E6             LDW     .D2T2   *+SP(112),B6      ; |1336| 
    4445 00002284 00004000             NOP             3
    4446 00002288 00149A40             ADDAH   .D1     A5,A4,A0          ; |1336| 
    4447 0000228c 00002A50             ADDK    .S1     84,A0             ; |1336| 
    4448 00002290 01800204             LDHU    .D1T1   *A0,A3            ; |1336| 
    4449 00002294 000020EC             LDW     .D2T1   *+SP(128),A0      ; |1336| 
    4450 00002298 00004000             NOP             3
    4451 0000229c 01987078             ADD     .L1X    A3,B6,A3          ; |1336| 
    4452 000022a0 07007A40             ADDAH   .D1     A0,A3,A14         ; |1336| 
    4453                            .line   616
    4454                    ;------------------------------------------------------------------------------
    4455                    ; 1337 | a  = &xdotpos[dotPosOffset];                                // lifetime
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   82

    4456                    ;     | , dot noise, and fracDX,DY arrays                                      
    4457                    ;------------------------------------------------------------------------------
    4458 000022a4 01BF82E4             LDW     .D2T1   *+SP(112),A3      ; 
    4459 000022a8 00006000             NOP             4
    4460 000022ac 04807A40             ADDAH   .D1     A0,A3,A9          ; |1337| 
    4461                            .line   617
    4462                    ;------------------------------------------------------------------------------
    4463                    ; 1338 | b  = &ydotpos[dotPosOffset];                                           
    4464                    ;------------------------------------------------------------------------------
    4465 000022b0 030021EC             LDW     .D2T1   *+SP(132),A6      ; |1338| 
    4466 000022b4 000C0058             MV      .L1     A3,A0
    4467 000022b8 00004000             NOP             3
    4468 000022bc 03981A40             ADDAH   .D1     A6,A0,A7          ; |1338| 
    4469                            .line   618
    4470                    ;------------------------------------------------------------------------------
    4471                    ; 1339 | nextDotLife = &dotLife[dotPosOffset];                                  
    4472                    ;------------------------------------------------------------------------------
    4473 000022c0 030022EC             LDW     .D2T1   *+SP(136),A6      ; |1339| 
    4474 000022c4 00006000             NOP             4
    4475 000022c8 00181A40             ADDAH   .D1     A6,A0,A0          ; |1339| 
    4476 000022cc 000023FC             STW     .D2T1   A0,*+SP(140)      ; |1339| 
    4477                            .line   619
    4478                    ;------------------------------------------------------------------------------
    4479                    ; 1340 | nextDotNoise = &dotNoise[dotPosOffset];                                
    4480                    ;------------------------------------------------------------------------------
    4481 000022d0 030024EC             LDW     .D2T1   *+SP(144),A6      ; |1340| 
    4482 000022d4 000C0058             MV      .L1     A3,A0
    4483 000022d8 00004000             NOP             3
    4484 000022dc 00181A40             ADDAH   .D1     A6,A0,A0          ; |1340| 
    4485 000022e0 000025FC             STW     .D2T1   A0,*+SP(148)      ; |1340| 
    4486                            .line   620
    4487                    ;------------------------------------------------------------------------------
    4488                    ; 1341 | nextFracDX = &fracDX[dotPosOffset];                                    
    4489                    ;------------------------------------------------------------------------------
    4490 000022e4 028026EE             LDW     .D2T2   *+SP(152),B5      ; |1341| 
    4491 000022e8 020C105A             MV      .L2X    A3,B4
    4492 000022ec 00004000             NOP             3
    4493 000022f0 02149A42             ADDAH   .D2     B5,B4,B4          ; |1341| 
    4494 000022f4 020027FE             STW     .D2T2   B4,*+SP(156)      ; |1341| 
    4495                            .line   621
    4496                    ;------------------------------------------------------------------------------
    4497                    ; 1342 | nextFracDY = &fracDY[dotPosOffset];                                    
    4498                    ;------------------------------------------------------------------------------
    4499 000022f8 020028EE             LDW     .D2T2   *+SP(160),B4      ; |1342| 
    4500 000022fc 028C105A             MV      .L2X    A3,B5
    4501 00002300 00004000             NOP             3
    4502 00002304 0210BA42             ADDAH   .D2     B4,B5,B4          ; |1342| 
    4503 00002308 020029FE             STW     .D2T2   B4,*+SP(164)      ; |1342| 
    4504                            .line   622
    4505                    ;------------------------------------------------------------------------------
    4506                    ; 1343 | dotPosOffset += parameters->wNumDots[d];                    // now poin
    4507                    ;     | ts to start of next target's dots                                      
    4508                    ;------------------------------------------------------------------------------
    4509 0000230c 00149A40             ADDAH   .D1     A5,A4,A0          ; |1343| 
    4510 00002310 00002A50             ADDK    .S1     84,A0             ; |1343| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   83

    4511 00002314 00000204             LDHU    .D1T1   *A0,A0            ; |1343| 
    4512 00002318 00006000             NOP             4
    4513 0000231c 0200D07A             ADD     .L2X    A0,B6,B4          ; 
    4514 00002320 023F82F6             STW     .D2T2   B4,*+SP(112)      ; |1343| 
    4515                            .line   625
    4516                    ;------------------------------------------------------------------------------
    4517                    ; 1346 | if( (u16Type == DOTARRAY) ||                                // DOTARRAY
    4518                    ;     | /FULLSCREEN/ORIBAR:  Every tgt dot                                     
    4519                    ; 1347 | (u16Type == FULLSCREEN) ||                              // is always dr
    4520                    ;     | awn -- there's no "window" that                                        
    4521                    ; 1348 | (u16Type == ORIBAR) )                                   // is distinct 
    4522                    ;     | from the dot pattern.                                                  
    4523                    ;------------------------------------------------------------------------------
    4524 00002324 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1346| 
    4525 00002328 00006000             NOP             4
    4526 0000232c 00102A5A             CMPEQ   .L2     B4,1,B0           ; |1346| 
    4527 00002330 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1346| 
    4528 00002334 00006000             NOP             4
    4529 00002338 30104A5A     [!B0]   CMPEQ   .L2     B4,2,B0           ; |1346| 
    4530 0000233c 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |1346| 
    4531 00002340 00006000             NOP             4
    4532 00002344 30114A5A     [!B0]   CMPEQ   .L2     B4,10,B0          ; |1346| 
    4533 00002348 30001E90     [!B0]   B       .S1     L47               ; |1346| 
    4534 0000234c 00008000             NOP             5
    4535                               ; BRANCH OCCURS                   ; |1346| 
    4536                    ;** --------------------------------------------------------------------------*
    4537                            .line   629
    4538                    ;------------------------------------------------------------------------------
    4539                    ; 1350 | nVisDotsPerTgt[d] = parameters->wNumDots[d];             //    #dots in
    4540                    ;     |  "visible dots" array for tgt                                          
    4541                    ;------------------------------------------------------------------------------
    4542 00002350 00149A40             ADDAH   .D1     A5,A4,A0          ; |1350| 
    4543 00002354 00002A50             ADDK    .S1     84,A0             ; |1350| 
    4544 00002358 00000204             LDHU    .D1T1   *A0,A0            ; |1350| 
    4545 0000235c 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |1350| 
    4546 00002360 0210105A             MV      .L2X    A4,B4             ; |1350| 
    4547 00002364 00004000             NOP             3
    4548 00002368 00148AD4             STH     .D2T1   A0,*+B5[B4]       ; |1350| 
    4549                            .line   630
    4550                    ;------------------------------------------------------------------------------
    4551                    ; 1351 | while( a < de )                                                        
    4552                    ;------------------------------------------------------------------------------
    4553 0000236c 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1351| 
    4554 00002370 90058B90     [!A1]   B       .S1     L133              ; |1351| 
    4555 00002374 00008000             NOP             5
    4556                               ; BRANCH OCCURS                   ; |1351| 
    4557                    ;** --------------------------------------------------------------------------*
    4558                    ;**   BEGIN LOOP L44
    4559                    ;** --------------------------------------------------------------------------*
    4560 00002378           L44:    
    4561                            .line   632
    4562                    ;------------------------------------------------------------------------------
    4563                    ; 1353 | *a = *a + hv;                                                          
    4564                    ;------------------------------------------------------------------------------
    4565                    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   84

    4566 00002378 023C42C7             LDH     .D2T2   *+SP(4),B4        ; |1353| 
    4567 0000237c 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1353| 
    4569 00002380 00006000             NOP             4
    4568                    
    4570 00002384 00101078             ADD     .L1X    B4,A0,A0          ; |1353| 
    4571 00002388 00240254             STH     .D1T1   A0,*A9            ; |1353| 
    4572                            .line   633
    4573                    ;------------------------------------------------------------------------------
    4574                    ; 1354 | *b = *b + vv;                                                          
    4575                    ; 1355 | #ifdef _TGTDAKARF5                                                     
    4576                    ; 1356 | if( *a > 0x0000FFFF )                                                  
    4577                    ; 1358 | if( hv > 0 ) *a -= 65536;                                              
    4578                    ; 1359 | else         *a &= 0x0000FFFF;                                         
    4579                    ; 1361 | if( *b > 0x0000FFFF )                                                  
    4580                    ; 1363 | if( vv > 0 ) *b -= 65536;                                              
    4581                    ; 1364 | else         *b &= 0x0000FFFF;                                         
    4582                    ; 1366 | #endif                                                                 
    4583                    ;------------------------------------------------------------------------------
    4584                    
    4585 0000238c 001C0205             LDHU    .D1T1   *A7,A0            ; |1354| 
    4586 00002390 023C62C6  ||         LDH     .D2T2   *+SP(6),B4        ; |1354| 
    4587                    
    4588 00002394 00006000             NOP             4
    4589 00002398 00101078             ADD     .L1X    B4,A0,A0          ; |1354| 
    4590 0000239c 001C0254             STH     .D1T1   A0,*A7            ; |1354| 
    4591                            .line   647
    4592                    ;------------------------------------------------------------------------------
    4593                    ; 1368 | xyvals = ((*a << 16) | *b);                           //    draw the do
    4594                    ;     | t                                                                      
    4595                    ;------------------------------------------------------------------------------
    4596 000023a0 00240204             LDHU    .D1T1   *A9,A0            ; |1368| 
    4597 000023a4 019C0204             LDHU    .D1T1   *A7,A3            ; |1368| 
    4598 000023a8 00004000             NOP             3
    4599 000023ac 00020CA0             SHL     .S1     A0,16,A0          ; |1368| 
    4600 000023b0 00006FF8             OR      .L1     A3,A0,A0          ; |1368| 
    4601 000023b4 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1368| 
    4602                            .line   648
    4603                    ;------------------------------------------------------------------------------
    4604                    ; 1369 | while( *stataddr & 0x1 );                                              
    4605                    ;------------------------------------------------------------------------------
    4606 000023b8 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1369| 
    4607 000023bc 00006000             NOP             4
    4608 000023c0 021002E6             LDW     .D2T2   *B4,B4            ; |1369| 
    4609 000023c4 00006000             NOP             4
    4610 000023c8 00102F5A             AND     .L2     1,B4,B0           ; |1369| 
    4611 000023cc 30000610     [!B0]   B       .S1     L46               ; |1369| 
    4612 000023d0 00008000             NOP             5
    4613                               ; BRANCH OCCURS                   ; |1369| 
    4614                    ;*----------------------------------------------------------------------------*
    4615                    ;*   SOFTWARE PIPELINE INFORMATION
    4616                    ;*      Disqualified loop: software pipelining disabled
    4617                    ;*----------------------------------------------------------------------------*
    4618 000023d4           L45:    
    4619 000023d4 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1369| 
    4620 000023d8 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   85

    4621 000023dc 021002E6             LDW     .D2T2   *B4,B4            ; |1369| 
    4622 000023e0 00006000             NOP             4
    4623 000023e4 00102F5A             AND     .L2     1,B4,B0           ; |1369| 
    4624 000023e8 2FFFFE90     [ B0]   B       .S1     L45               ; |1369| 
    4625 000023ec 00008000             NOP             5
    4626                               ; BRANCH OCCURS                   ; |1369| 
    4627                    ;** --------------------------------------------------------------------------*
    4628 000023f0           L46:    
    4629                            .line   649
    4630                    ;------------------------------------------------------------------------------
    4631                    ; 1370 | *locaddr = xyvals;                                                     
    4632                    ;------------------------------------------------------------------------------
    4634 000023f4 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1370| 
    4633 000023f0 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1370| 
    4635 000023f8 00006000             NOP             4
    4636 000023fc 021402F6             STW     .D2T2   B4,*B5            ; |1370| 
    4637                            .line   650
    4638                    ;------------------------------------------------------------------------------
    4639                    ; 1371 | visibleDotsXY[nTotalVisDots++] = xyvals;              //    save packed
    4640                    ;     |  (X,Y) pos of each visible dot                                         
    4641                    ;------------------------------------------------------------------------------
    4642 00002400 033DC2E6             LDW     .D2T2   *+SP(56),B6       ; |1371| 
    4643 00002404 028030EE             LDW     .D2T2   *+SP(192),B5      ; |1371| 
    4644 00002408 0230105A             MV      .L2X    A12,B4            ; 
    4645 0000240c 06302058             ADD     .L1     1,A12,A12         ; 
    4646 00002410 00002000             NOP             2
    4647 00002414 03148AF6             STW     .D2T2   B6,*+B5[B4]       ; |1371| 
    4648                            .line   651
    4649                    ;------------------------------------------------------------------------------
    4650                    ; 1372 | a++;                                                                   
    4651                    ;------------------------------------------------------------------------------
    4652 00002418 04A44058             ADD     .L1     2,A9,A9           ; |1372| 
    4653                            .line   652
    4654                    ;------------------------------------------------------------------------------
    4655                    ; 1373 | b++;                                                                   
    4656                    ;------------------------------------------------------------------------------
    4657 0000241c 039C4058             ADD     .L1     2,A7,A7           ; |1373| 
    4658                            .line   653
    4659 00002420 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1374| 
    4660 00002424 8FFFEB10     [ A1]   B       .S1     L44               ; |1374| 
    4661 00002428 00008000             NOP             5
    4662                               ; BRANCH OCCURS                   ; |1374| 
    4663                    ;** --------------------------------------------------------------------------*
    4664                            .line   654
    4665 0000242c 00057390             B       .S1     L133              ; |1375| 
    4666 00002430 00008000             NOP             5
    4667                               ; BRANCH OCCURS                   ; |1375| 
    4668                    ;** --------------------------------------------------------------------------*
    4669 00002434           L47:    
    4670                            .line   655
    4671                    ;------------------------------------------------------------------------------
    4672                    ; 1376 | else if( u16Type == STATICANNU )                            // STATICAN
    4673                    ;     | NU: Neither window nor pattern move,                                   
    4674                    ; 1377 | {                                                           // so no ne
    4675                    ;     | ed to update dot pos nor to make                                       
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   86

    4676                    ;------------------------------------------------------------------------------
    4678 00002438 00006000             NOP             4
    4677 00002434 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1376| 
    4679 0000243c 0010CA5A             CMPEQ   .L2     B4,6,B0           ; |1376| 
    4680 00002440 30001990     [!B0]   B       .S1     L51               ; |1376| 
    4681 00002444 00008000             NOP             5
    4682                               ; BRANCH OCCURS                   ; |1376| 
    4683                    ;** --------------------------------------------------------------------------*
    4684                            .line   657
    4685                    ;------------------------------------------------------------------------------
    4686                    ; 1378 | nVisDotsPerTgt[d] = parameters->wNumDots[d];             // sure that d
    4687                    ;     | ot is visible...                                                       
    4688                    ;------------------------------------------------------------------------------
    4689 00002448 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1378| 
    4690 0000244c 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1378| 
    4691 00002450 00006000             NOP             4
    4692 00002454 02949A42             ADDAH   .D2     B5,B4,B5          ; |1378| 
    4693 00002458 02802A52             ADDK    .S2     84,B5             ; |1378| 
    4694 0000245c 03140286             LDHU    .D2T2   *B5,B6            ; |1378| 
    4695 00002460 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |1378| 
    4696 00002464 00006000             NOP             4
    4697 00002468 03148AD6             STH     .D2T2   B6,*+B5[B4]       ; |1378| 
    4698                            .line   658
    4699                    ;------------------------------------------------------------------------------
    4700                    ; 1379 | while( a < de )                                                        
    4701                    ;------------------------------------------------------------------------------
    4702 0000246c 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1379| 
    4703 00002470 90056B90     [!A1]   B       .S1     L133              ; |1379| 
    4704 00002474 00008000             NOP             5
    4705                               ; BRANCH OCCURS                   ; |1379| 
    4706                    ;** --------------------------------------------------------------------------*
    4707                    ;**   BEGIN LOOP L48
    4708                    ;** --------------------------------------------------------------------------*
    4709 00002478           L48:    
    4710                            .line   660
    4711                    ;------------------------------------------------------------------------------
    4712                    ; 1381 | xyvals = ((*a << 16) | *b);                                            
    4713                    ;------------------------------------------------------------------------------
    4715 0000247c 001C0204             LDHU    .D1T1   *A7,A0            ; |1381| 
    4714 00002478 01A40204             LDHU    .D1T1   *A9,A3            ; |1381| 
    4716 00002480 00004000             NOP             3
    4717 00002484 018E0CA0             SHL     .S1     A3,16,A3          ; |1381| 
    4718 00002488 000C0FF8             OR      .L1     A0,A3,A0          ; |1381| 
    4719 0000248c 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1381| 
    4720                            .line   661
    4721                    ;------------------------------------------------------------------------------
    4722                    ; 1382 | while( *stataddr & 0x1 );                                              
    4723                    ;------------------------------------------------------------------------------
    4724 00002490 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1382| 
    4725 00002494 00006000             NOP             4
    4726 00002498 021002E6             LDW     .D2T2   *B4,B4            ; |1382| 
    4727 0000249c 00006000             NOP             4
    4728 000024a0 00102F5A             AND     .L2     1,B4,B0           ; |1382| 
    4729 000024a4 30000510     [!B0]   B       .S1     L50               ; |1382| 
    4730 000024a8 00008000             NOP             5
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   87

    4731                               ; BRANCH OCCURS                   ; |1382| 
    4732                    ;*----------------------------------------------------------------------------*
    4733                    ;*   SOFTWARE PIPELINE INFORMATION
    4734                    ;*      Disqualified loop: software pipelining disabled
    4735                    ;*----------------------------------------------------------------------------*
    4736 000024ac           L49:    
    4737 000024ac 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1382| 
    4738 000024b0 00006000             NOP             4
    4739 000024b4 021002E6             LDW     .D2T2   *B4,B4            ; |1382| 
    4740 000024b8 00006000             NOP             4
    4741 000024bc 00102F5A             AND     .L2     1,B4,B0           ; |1382| 
    4742 000024c0 2FFFFD90     [ B0]   B       .S1     L49               ; |1382| 
    4743 000024c4 00008000             NOP             5
    4744                               ; BRANCH OCCURS                   ; |1382| 
    4745                    ;** --------------------------------------------------------------------------*
    4746 000024c8           L50:    
    4747                            .line   662
    4748                    ;------------------------------------------------------------------------------
    4749                    ; 1383 | *locaddr = xyvals;                                                     
    4750                    ;------------------------------------------------------------------------------
    4752 000024cc 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1383| 
    4751 000024c8 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1383| 
    4753 000024d0 00006000             NOP             4
    4754 000024d4 021402F6             STW     .D2T2   B4,*B5            ; |1383| 
    4755                            .line   663
    4756                    ;------------------------------------------------------------------------------
    4757                    ; 1384 | visibleDotsXY[nTotalVisDots++] = xyvals;                               
    4758                    ;------------------------------------------------------------------------------
    4759 000024d8 033DC2E6             LDW     .D2T2   *+SP(56),B6       ; |1384| 
    4760 000024dc 028030EE             LDW     .D2T2   *+SP(192),B5      ; |1384| 
    4761 000024e0 0230105A             MV      .L2X    A12,B4            ; 
    4762 000024e4 06302058             ADD     .L1     1,A12,A12         ; 
    4763 000024e8 00002000             NOP             2
    4764 000024ec 03148AF6             STW     .D2T2   B6,*+B5[B4]       ; |1384| 
    4765                            .line   664
    4766                    ;------------------------------------------------------------------------------
    4767                    ; 1385 | a++;                                                                   
    4768                    ;------------------------------------------------------------------------------
    4769 000024f0 04A44058             ADD     .L1     2,A9,A9           ; |1385| 
    4770                            .line   665
    4771                    ;------------------------------------------------------------------------------
    4772                    ; 1386 | b++;                                                                   
    4773                    ;------------------------------------------------------------------------------
    4774 000024f4 039C4058             ADD     .L1     2,A7,A7           ; |1386| 
    4775                            .line   666
    4776 000024f8 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1387| 
    4777 000024fc 8FFFF310     [ A1]   B       .S1     L48               ; |1387| 
    4778 00002500 00008000             NOP             5
    4779                               ; BRANCH OCCURS                   ; |1387| 
    4780                    ;** --------------------------------------------------------------------------*
    4781                            .line   667
    4782 00002504 00055790             B       .S1     L133              ; |1388| 
    4783 00002508 00008000             NOP             5
    4784                               ; BRANCH OCCURS                   ; |1388| 
    4785                    ;** --------------------------------------------------------------------------*
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   88

    4786 0000250c           L51:    
    4787                            .line   668
    4788                    ;------------------------------------------------------------------------------
    4789                    ; 1389 | else if( u16Type == RECTWINDOW )                            // RECTWIND
    4790                    ;     | OW:  Independent pattern & window                                      
    4791                    ; 1390 | {                                                           // motion. 
    4792                    ;     |  Visible dots lie inside window.                                       
    4793                    ;------------------------------------------------------------------------------
    4795 00002510 00006000             NOP             4
    4794 0000250c 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1389| 
    4796 00002514 00106A5A             CMPEQ   .L2     B4,3,B0           ; |1389| 
    4797 00002518 30003010     [!B0]   B       .S1     L56               ; |1389| 
    4798 0000251c 00008000             NOP             5
    4799                               ; BRANCH OCCURS                   ; |1389| 
    4800                    ;** --------------------------------------------------------------------------*
    4801                            .line   670
    4802                    ;------------------------------------------------------------------------------
    4803                    ; 1391 | nVisDotsPerTgt[d] = 0;                                                 
    4804                    ;------------------------------------------------------------------------------
    4805 00002520 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1391| 
    4806 00002524 03002EEE             LDW     .D2T2   *+SP(184),B6      ; |1391| 
    4807 00002528 020000FA             ZERO    .L2     B4                ; |1391| 
    4808 0000252c 00004000             NOP             3
    4809 00002530 0218AAD6             STH     .D2T2   B4,*+B6[B5]       ; |1391| 
    4810                            .line   671
    4811                    ;------------------------------------------------------------------------------
    4812                    ; 1392 | while( a < de )                                                        
    4813                    ; 1394 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    4814                    ;     | window, so dot displacement is                                         
    4815                    ; 1395 | // window displacement + pattern displacement!                         
    4816                    ;------------------------------------------------------------------------------
    4817 00002534 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1392| 
    4818 00002538 90055390     [!A1]   B       .S1     L133              ; |1392| 
    4819 0000253c 00008000             NOP             5
    4820                               ; BRANCH OCCURS                   ; |1392| 
    4821                    ;** --------------------------------------------------------------------------*
    4822                    ;**   BEGIN LOOP L52
    4823                    ;** --------------------------------------------------------------------------*
    4824 00002540           L52:    
    4825                            .line   675
    4826                    ;------------------------------------------------------------------------------
    4827                    ; 1396 | *a = *a + hw + hv;                                                     
    4828                    ;------------------------------------------------------------------------------
    4829                    
    4830 00002540 023C82C7             LDH     .D2T2   *+SP(8),B4        ; |1396| 
    4831 00002544 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1396| 
    4833 00002548 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |1396| 
    4832                    
    4834 0000254c 00004000             NOP             3
    4835 00002550 0200907A             ADD     .L2X    B4,A0,B4          ; |1396| 
    4836 00002554 0210A07A             ADD     .L2     B5,B4,B4          ; |1396| 
    4837 00002558 02240256             STH     .D1T2   B4,*A9            ; |1396| 
    4838                            .line   676
    4839                    ;------------------------------------------------------------------------------
    4840                    ; 1397 | *b = *b + vw + vv;                                                     
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   89

    4841                    ; 1398 | #ifdef _TGTDAKARF5                                                     
    4842                    ; 1399 | if( *a > 0x0000FFFF )                                                  
    4843                    ; 1401 | if(hw+hv > 0) *a -= 65536;                                             
    4844                    ; 1402 | else          *a &= 0x0000FFFF;                                        
    4845                    ; 1404 | if ( *b > 0x0000FFFF )                                                 
    4846                    ; 1406 | if(vw+vv > 0) *b -= 65536;                                             
    4847                    ; 1407 | else          *b &= 0x0000FFFF;                                        
    4848                    ; 1409 | #endif                                                                 
    4849                    ;------------------------------------------------------------------------------
    4850                    
    4851 00002560 023CA2C7             LDH     .D2T2   *+SP(10),B4       ; |1397| 
    4852 00002564 001C0204  ||         LDHU    .D1T1   *A7,A0            ; |1397| 
    4853                    
    4854 00002568 02BC62C6             LDH     .D2T2   *+SP(6),B5        ; |1397| 
    4855 0000256c 00004000             NOP             3
    4856 00002570 0200907A             ADD     .L2X    B4,A0,B4          ; |1397| 
    4857 00002574 0210A07A             ADD     .L2     B5,B4,B4          ; |1397| 
    4858 00002578 021C0256             STH     .D1T2   B4,*A7            ; |1397| 
    4859                            .line   690
    4860                    ;------------------------------------------------------------------------------
    4861                    ; 1411 | if( (*a <= rectR) && (*a >= rectL) && (*b <= rectU) && (*b >= rectD) ) 
    4862                    ;------------------------------------------------------------------------------
    4863 0000257c 00240204             LDHU    .D1T1   *A9,A0            ; |1411| 
    4864 00002580 00006000             NOP             4
    4865 00002584 002008F8             CMPGT   .L1     A0,A8,A0          ; |1411| 
    4866 00002588 00802DD8             XOR     .L1     1,A0,A1           ; |1411| 
    4867 0000258c 80240204     [ A1]   LDHU    .D1T1   *A9,A0            ; |1411| 
    4868 00002590 00006000             NOP             4
    4869 00002594 80201AF8     [ A1]   CMPLT   .L1X    A0,B8,A0          ; |1411| 
    4870 00002598 80802DD8     [ A1]   XOR     .L1     1,A0,A1           ; |1411| 
    4871 0000259c 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    4872 000025a0 00802DD8             XOR     .L1     1,A0,A1           ; |1411| 
    4873 000025a4 801C0204     [ A1]   LDHU    .D1T1   *A7,A0            ; |1411| 
    4874 000025a8 00006000             NOP             4
    4875 000025ac 803408F8     [ A1]   CMPGT   .L1     A0,A13,A0         ; |1411| 
    4876 000025b0 80802DD8     [ A1]   XOR     .L1     1,A0,A1           ; |1411| 
    4877 000025b4 801C0204     [ A1]   LDHU    .D1T1   *A7,A0            ; |1411| 
    4878 000025b8 00006000             NOP             4
    4879 000025bc 820138FA     [ A1]   CMPLT   .L2X    A0,B9,B4          ; |1411| 
    4880 000025c0 80903DD8     [ A1]   XOR     .L1X    1,B4,A1           ; |1411| 
    4881 000025c4 90001490     [!A1]   B       .S1     L55               ; |1411| 
    4882 000025c8 00008000             NOP             5
    4883                               ; BRANCH OCCURS                   ; |1411| 
    4884                    ;** --------------------------------------------------------------------------*
    4885                            .line   692
    4886                    ;------------------------------------------------------------------------------
    4887                    ; 1413 | xyvals = ((*a << 16) | *b);                                            
    4888                    ;------------------------------------------------------------------------------
    4889 000025cc 00240204             LDHU    .D1T1   *A9,A0            ; |1413| 
    4890 000025d0 019C0204             LDHU    .D1T1   *A7,A3            ; |1413| 
    4891 000025d4 00004000             NOP             3
    4892 000025d8 00020CA0             SHL     .S1     A0,16,A0          ; |1413| 
    4893 000025dc 00006FF8             OR      .L1     A3,A0,A0          ; |1413| 
    4894 000025e0 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1413| 
    4895                            .line   693
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   90

    4896                    ;------------------------------------------------------------------------------
    4897                    ; 1414 | while( *stataddr & 0x1 );                                              
    4898                    ;------------------------------------------------------------------------------
    4899 000025e4 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1414| 
    4900 000025e8 00006000             NOP             4
    4901 000025ec 021002E6             LDW     .D2T2   *B4,B4            ; |1414| 
    4902 000025f0 00006000             NOP             4
    4903 000025f4 00102F5A             AND     .L2     1,B4,B0           ; |1414| 
    4904 000025f8 30000790     [!B0]   B       .S1     L54               ; |1414| 
    4905 000025fc 00008000             NOP             5
    4906                               ; BRANCH OCCURS                   ; |1414| 
    4907                    ;*----------------------------------------------------------------------------*
    4908                    ;*   SOFTWARE PIPELINE INFORMATION
    4909                    ;*      Disqualified loop: software pipelining disabled
    4910                    ;*----------------------------------------------------------------------------*
    4911 00002600           L53:    
    4912 00002600 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1414| 
    4913 00002604 00006000             NOP             4
    4914 00002608 021002E6             LDW     .D2T2   *B4,B4            ; |1414| 
    4915 0000260c 00006000             NOP             4
    4916 00002610 00102F5A             AND     .L2     1,B4,B0           ; |1414| 
    4917 00002614 20000010     [ B0]   B       .S1     L53               ; |1414| 
    4918 00002618 00008000             NOP             5
    4919                               ; BRANCH OCCURS                   ; |1414| 
    4920                    ;** --------------------------------------------------------------------------*
    4921 0000261c           L54:    
    4922                            .line   694
    4923                    ;------------------------------------------------------------------------------
    4924                    ; 1415 | *locaddr = xyvals;                                                     
    4925                    ;------------------------------------------------------------------------------
    4927 00002620 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1415| 
    4926 0000261c 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1415| 
    4928 00002624 00006000             NOP             4
    4929 00002628 021402F6             STW     .D2T2   B4,*B5            ; |1415| 
    4930                            .line   695
    4931                    ;------------------------------------------------------------------------------
    4932                    ; 1416 | visibleDotsXY[nTotalVisDots++] = xyvals;                               
    4933                    ;------------------------------------------------------------------------------
    4934 0000262c 030030EE             LDW     .D2T2   *+SP(192),B6      ; |1416| 
    4935 00002630 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1416| 
    4936 00002634 02B0105A             MV      .L2X    A12,B5            ; 
    4937 00002638 06302058             ADD     .L1     1,A12,A12         ; 
    4938 0000263c 00002000             NOP             2
    4939 00002640 0218AAF6             STW     .D2T2   B4,*+B6[B5]       ; |1416| 
    4940                            .line   696
    4941                    ;------------------------------------------------------------------------------
    4942                    ; 1417 | nVisDotsPerTgt[d]++;                                                   
    4943                    ;------------------------------------------------------------------------------
    4944 00002644 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |1417| 
    4945 00002648 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1417| 
    4946 0000264c 00006000             NOP             4
    4947 00002650 02949A42             ADDAH   .D2     B5,B4,B5          ; |1417| 
    4948 00002654 02140286             LDHU    .D2T2   *B5,B4            ; |1417| 
    4949 00002658 00006000             NOP             4
    4950 0000265c 0210205A             ADD     .L2     1,B4,B4           ; |1417| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   91

    4951 00002660 021402D6             STH     .D2T2   B4,*B5            ; |1417| 
    4952                    ;** --------------------------------------------------------------------------*
    4953 00002664           L55:    
    4954                            .line   698
    4955                    ;------------------------------------------------------------------------------
    4956                    ; 1419 | a++;                                                                   
    4957                    ;------------------------------------------------------------------------------
    4959                            .line   699
    4958 00002664 04A44058             ADD     .L1     2,A9,A9           ; |1419| 
    4960                    ;------------------------------------------------------------------------------
    4961                    ; 1420 | b++;                                                                   
    4962                    ;------------------------------------------------------------------------------
    4963 00002668 039C4058             ADD     .L1     2,A7,A7           ; |1420| 
    4964                            .line   700
    4965 0000266c 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1421| 
    4966 00002670 8FFFDC10     [ A1]   B       .S1     L52               ; |1421| 
    4967 00002674 00008000             NOP             5
    4968                               ; BRANCH OCCURS                   ; |1421| 
    4969                    ;** --------------------------------------------------------------------------*
    4970                            .line   701
    4971 00002678 00052B90             B       .S1     L133              ; |1422| 
    4972 0000267c 00008000             NOP             5
    4973                               ; BRANCH OCCURS                   ; |1422| 
    4974                    ;** --------------------------------------------------------------------------*
    4975 00002680           L56:    
    4976                            .line   702
    4977                    ;------------------------------------------------------------------------------
    4978                    ; 1423 | else if( u16Type == RECTHOLE )                              // RECTHOLE
    4979                    ;     | :  Independent window & pattern                                        
    4980                    ; 1424 | {                                                           // motion. 
    4981                    ;     |  Visible dots lie outside window.                                      
    4982                    ;------------------------------------------------------------------------------
    4984 00002684 00006000             NOP             4
    4983 00002680 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1423| 
    4985 00002688 00108A5A             CMPEQ   .L2     B4,4,B0           ; |1423| 
    4986 0000268c 30002C10     [!B0]   B       .S1     L61               ; |1423| 
    4987 00002690 00008000             NOP             5
    4988                               ; BRANCH OCCURS                   ; |1423| 
    4989                    ;** --------------------------------------------------------------------------*
    4990                            .line   704
    4991                    ;------------------------------------------------------------------------------
    4992                    ; 1425 | nVisDotsPerTgt[d] = 0;                                                 
    4993                    ;------------------------------------------------------------------------------
    4994 00002694 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1425| 
    4995 00002698 03002EEE             LDW     .D2T2   *+SP(184),B6      ; |1425| 
    4996 0000269c 020000FA             ZERO    .L2     B4                ; |1425| 
    4997 000026a0 00004000             NOP             3
    4998 000026a4 0218AAD6             STH     .D2T2   B4,*+B6[B5]       ; |1425| 
    4999                            .line   705
    5000                    ;------------------------------------------------------------------------------
    5001                    ; 1426 | while( a < de )                                                        
    5002                    ; 1428 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    5003                    ;     | window, so dot displacement is                                         
    5004                    ; 1429 | // window displacement + pattern displacement!                         
    5005                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   92

    5006 000026a8 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1426| 
    5007 000026ac 90052390     [!A1]   B       .S1     L133              ; |1426| 
    5008 000026b0 00008000             NOP             5
    5009                               ; BRANCH OCCURS                   ; |1426| 
    5010                    ;** --------------------------------------------------------------------------*
    5011                    ;**   BEGIN LOOP L57
    5012                    ;** --------------------------------------------------------------------------*
    5013 000026b4           L57:    
    5014                            .line   709
    5015                    ;------------------------------------------------------------------------------
    5016                    ; 1430 | *a = *a + hw + hv;                                                     
    5017                    ;------------------------------------------------------------------------------
    5018                    
    5019 000026b4 023C82C7             LDH     .D2T2   *+SP(8),B4        ; |1430| 
    5020 000026b8 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1430| 
    5022 000026bc 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |1430| 
    5021                    
    5023 000026c0 00004000             NOP             3
    5024 000026c4 0200907A             ADD     .L2X    B4,A0,B4          ; |1430| 
    5025 000026c8 0210A07A             ADD     .L2     B5,B4,B4          ; |1430| 
    5026 000026cc 02240256             STH     .D1T2   B4,*A9            ; |1430| 
    5027                            .line   710
    5028                    ;------------------------------------------------------------------------------
    5029                    ; 1431 | *b = *b + vw + vv;                                                     
    5030                    ; 1432 | #ifdef _TGTDAKARF5                                                     
    5031                    ; 1433 | if( *a > 0x0000FFFF )                                                  
    5032                    ; 1435 | if(hw+hv > 0) *a -= 65536;                                             
    5033                    ; 1436 | else          *a &= 0x0000FFFF;                                        
    5034                    ; 1438 | if( *b > 0x0000FFFF )                                                  
    5035                    ; 1440 | if(vw+vv > 0) *b -= 65536;                                             
    5036                    ; 1441 | else          *b &= 0x0000FFFF;                                        
    5037                    ; 1443 | #endif                                                                 
    5038                    ;------------------------------------------------------------------------------
    5039                    
    5040 000026d0 02BCA2C7             LDH     .D2T2   *+SP(10),B5       ; |1431| 
    5041 000026d4 001C0204  ||         LDHU    .D1T1   *A7,A0            ; |1431| 
    5042                    
    5043 000026d8 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1431| 
    5044 000026dc 00004000             NOP             3
    5045 000026e0 0280B07A             ADD     .L2X    B5,A0,B5          ; |1431| 
    5046 000026e4 0214807A             ADD     .L2     B4,B5,B4          ; |1431| 
    5047 000026e8 021C0256             STH     .D1T2   B4,*A7            ; |1431| 
    5048                            .line   724
    5049                    ;------------------------------------------------------------------------------
    5050                    ; 1445 | if( (*a > rectR) || (*a < rectL) || (*b > rectU) || (*b < rectD) )     
    5051                    ;------------------------------------------------------------------------------
    5052 000026ec 00240204             LDHU    .D1T1   *A9,A0            ; |1445| 
    5053 000026f0 00006000             NOP             4
    5054 000026f4 00A008F8             CMPGT   .L1     A0,A8,A1          ; |1445| 
    5055 000026f8 90240204     [!A1]   LDHU    .D1T1   *A9,A0            ; |1445| 
    5056 000026fc 00006000             NOP             4
    5057 00002700 90A01AF8     [!A1]   CMPLT   .L1X    A0,B8,A1          ; |1445| 
    5058 00002704 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    5059 00002708 00802DD8             XOR     .L1     1,A0,A1           ; |1445| 
    5060 0000270c 901C0204     [!A1]   LDHU    .D1T1   *A7,A0            ; |1445| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   93

    5061 00002710 00006000             NOP             4
    5062 00002714 90B408F8     [!A1]   CMPGT   .L1     A0,A13,A1         ; |1445| 
    5063 00002718 901C0204     [!A1]   LDHU    .D1T1   *A7,A0            ; |1445| 
    5064 0000271c 00006000             NOP             4
    5065 00002720 90A41AF8     [!A1]   CMPLT   .L1X    A0,B9,A1          ; |1445| 
    5066 00002724 90001490     [!A1]   B       .S1     L60               ; |1445| 
    5067 00002728 00008000             NOP             5
    5068                               ; BRANCH OCCURS                   ; |1445| 
    5069                    ;** --------------------------------------------------------------------------*
    5070                            .line   726
    5071                    ;------------------------------------------------------------------------------
    5072                    ; 1447 | xyvals = ((*a << 16) | *b);                                            
    5073                    ;------------------------------------------------------------------------------
    5074 0000272c 00240204             LDHU    .D1T1   *A9,A0            ; |1447| 
    5075 00002730 019C0204             LDHU    .D1T1   *A7,A3            ; |1447| 
    5076 00002734 00004000             NOP             3
    5077 00002738 00020CA0             SHL     .S1     A0,16,A0          ; |1447| 
    5078 0000273c 00006FF8             OR      .L1     A3,A0,A0          ; |1447| 
    5079 00002740 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1447| 
    5080                            .line   727
    5081                    ;------------------------------------------------------------------------------
    5082                    ; 1448 | while( *stataddr & 0x1 );                                              
    5083                    ;------------------------------------------------------------------------------
    5084 00002744 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1448| 
    5085 00002748 00006000             NOP             4
    5086 0000274c 021002E6             LDW     .D2T2   *B4,B4            ; |1448| 
    5087 00002750 00006000             NOP             4
    5088 00002754 00102F5A             AND     .L2     1,B4,B0           ; |1448| 
    5089 00002758 30000790     [!B0]   B       .S1     L59               ; |1448| 
    5090 0000275c 00008000             NOP             5
    5091                               ; BRANCH OCCURS                   ; |1448| 
    5092                    ;*----------------------------------------------------------------------------*
    5093                    ;*   SOFTWARE PIPELINE INFORMATION
    5094                    ;*      Disqualified loop: software pipelining disabled
    5095                    ;*----------------------------------------------------------------------------*
    5096 00002760           L58:    
    5097 00002760 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1448| 
    5098 00002764 00006000             NOP             4
    5099 00002768 021002E6             LDW     .D2T2   *B4,B4            ; |1448| 
    5100 0000276c 00006000             NOP             4
    5101 00002770 00102F5A             AND     .L2     1,B4,B0           ; |1448| 
    5102 00002774 20000010     [ B0]   B       .S1     L58               ; |1448| 
    5103 00002778 00008000             NOP             5
    5104                               ; BRANCH OCCURS                   ; |1448| 
    5105                    ;** --------------------------------------------------------------------------*
    5106 0000277c           L59:    
    5107                            .line   728
    5108                    ;------------------------------------------------------------------------------
    5109                    ; 1449 | *locaddr = xyvals;                                                     
    5110                    ;------------------------------------------------------------------------------
    5112 00002780 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1449| 
    5111 0000277c 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1449| 
    5113 00002784 00006000             NOP             4
    5114 00002788 021402F6             STW     .D2T2   B4,*B5            ; |1449| 
    5115                            .line   729
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   94

    5116                    ;------------------------------------------------------------------------------
    5117                    ; 1450 | visibleDotsXY[nTotalVisDots++] = xyvals;                               
    5118                    ;------------------------------------------------------------------------------
    5119 0000278c 030030EE             LDW     .D2T2   *+SP(192),B6      ; |1450| 
    5120 00002790 02BDC2E6             LDW     .D2T2   *+SP(56),B5       ; |1450| 
    5121 00002794 0230105A             MV      .L2X    A12,B4            ; 
    5122 00002798 06302058             ADD     .L1     1,A12,A12         ; 
    5123 0000279c 00002000             NOP             2
    5124 000027a0 02988AF6             STW     .D2T2   B5,*+B6[B4]       ; |1450| 
    5125                            .line   730
    5126                    ;------------------------------------------------------------------------------
    5127                    ; 1451 | nVisDotsPerTgt[d]++;                                                   
    5128                    ;------------------------------------------------------------------------------
    5129 000027a4 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1451| 
    5130 000027a8 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |1451| 
    5131 000027ac 00006000             NOP             4
    5132 000027b0 02149A42             ADDAH   .D2     B5,B4,B4          ; |1451| 
    5133 000027b4 02900286             LDHU    .D2T2   *B4,B5            ; |1451| 
    5134 000027b8 00006000             NOP             4
    5135 000027bc 0294205A             ADD     .L2     1,B5,B5           ; |1451| 
    5136 000027c0 029002D6             STH     .D2T2   B5,*B4            ; |1451| 
    5137                    ;** --------------------------------------------------------------------------*
    5138 000027c4           L60:    
    5139                            .line   732
    5140                    ;------------------------------------------------------------------------------
    5141                    ; 1453 | a++;                                                                   
    5142                    ;------------------------------------------------------------------------------
    5144                            .line   733
    5143 000027c4 04A44058             ADD     .L1     2,A9,A9           ; |1453| 
    5145                    ;------------------------------------------------------------------------------
    5146                    ; 1454 | b++;                                                                   
    5147                    ;------------------------------------------------------------------------------
    5148 000027c8 039C4058             ADD     .L1     2,A7,A7           ; |1454| 
    5149                            .line   734
    5150 000027cc 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1455| 
    5151 000027d0 8FFFDE90     [ A1]   B       .S1     L57               ; |1455| 
    5152 000027d4 00008000             NOP             5
    5153                               ; BRANCH OCCURS                   ; |1455| 
    5154                    ;** --------------------------------------------------------------------------*
    5155                            .line   735
    5156 000027d8 0004FF90             B       .S1     L133              ; |1456| 
    5157 000027dc 00008000             NOP             5
    5158                               ; BRANCH OCCURS                   ; |1456| 
    5159                    ;** --------------------------------------------------------------------------*
    5160 000027e0           L61:    
    5161                            .line   736
    5162                    ;------------------------------------------------------------------------------
    5163                    ; 1457 | else if( u16Type == ANNULUS )                               // ANNULUS:
    5164                    ;     |   Independent window and pattern                                       
    5165                    ; 1458 | {                                                           // motion. 
    5166                    ;     |  Visible dots lie inside annulus.                                      
    5167                    ;------------------------------------------------------------------------------
    5169 000027e4 00006000             NOP             4
    5168 000027e0 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1457| 
    5170 000027e8 0010AA5A             CMPEQ   .L2     B4,5,B0           ; |1457| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   95

    5171 000027ec 30004510     [!B0]   B       .S1     L67               ; |1457| 
    5172 000027f0 00008000             NOP             5
    5173                               ; BRANCH OCCURS                   ; |1457| 
    5174                    ;** --------------------------------------------------------------------------*
    5175                            .line   738
    5176                    ;------------------------------------------------------------------------------
    5177                    ; 1459 | nVisDotsPerTgt[d] = 0;                                                 
    5178                    ;------------------------------------------------------------------------------
    5179 000027f4 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1459| 
    5180 000027f8 03002EEE             LDW     .D2T2   *+SP(184),B6      ; |1459| 
    5181 000027fc 020000FA             ZERO    .L2     B4                ; |1459| 
    5182 00002800 00004000             NOP             3
    5183 00002804 0218AAD6             STH     .D2T2   B4,*+B6[B5]       ; |1459| 
    5184                            .line   739
    5185                    ;------------------------------------------------------------------------------
    5186                    ; 1460 | while( a < de )                                                        
    5187                    ; 1462 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    5188                    ;     | window, so dot displacement is                                         
    5189                    ; 1463 | // window displacement + pattern displacement!                         
    5190                    ;------------------------------------------------------------------------------
    5191 00002808 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1460| 
    5192 0000280c 9004F790     [!A1]   B       .S1     L133              ; |1460| 
    5193 00002810 00008000             NOP             5
    5194                               ; BRANCH OCCURS                   ; |1460| 
    5195                    ;** --------------------------------------------------------------------------*
    5196                    ;**   BEGIN LOOP L62
    5197                    ;** --------------------------------------------------------------------------*
    5198 00002814           L62:    
    5199                            .line   743
    5200                    ;------------------------------------------------------------------------------
    5201                    ; 1464 | *a = *a + hw + hv;                                                     
    5202                    ;------------------------------------------------------------------------------
    5203                    
    5204 00002814 023C82C7             LDH     .D2T2   *+SP(8),B4        ; |1464| 
    5205 00002818 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1464| 
    5207 0000281c 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |1464| 
    5206                    
    5208 00002820 00004000             NOP             3
    5209 00002824 0200907A             ADD     .L2X    B4,A0,B4          ; |1464| 
    5210 00002828 0210A07A             ADD     .L2     B5,B4,B4          ; |1464| 
    5211 0000282c 02240256             STH     .D1T2   B4,*A9            ; |1464| 
    5212                            .line   744
    5213                    ;------------------------------------------------------------------------------
    5214                    ; 1465 | *b = *b + vw + vv;                                                     
    5215                    ; 1466 | #ifdef _TGTDAKARF5                                                     
    5216                    ; 1467 | if( *a > 0x0000FFFF )                                                  
    5217                    ; 1469 | if(hw+hv > 0) *a -= 65536;                                             
    5218                    ; 1470 | else          *a &= 0x0000FFFF;                                        
    5219                    ; 1472 | if( *b > 0x0000FFFF )                                                  
    5220                    ; 1474 | if(vw+vv > 0) *b -= 65536;                                             
    5221                    ; 1475 | else          *b &= 0x0000FFFF;                                        
    5222                    ; 1477 | #endif                                                                 
    5223                    ;------------------------------------------------------------------------------
    5224                    
    5225 00002830 023CA2C7             LDH     .D2T2   *+SP(10),B4       ; |1465| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   96

    5226 00002834 001C0204  ||         LDHU    .D1T1   *A7,A0            ; |1465| 
    5227                    
    5228 00002838 02BC62C6             LDH     .D2T2   *+SP(6),B5        ; |1465| 
    5229 0000283c 00004000             NOP             3
    5230 00002840 0200907A             ADD     .L2X    B4,A0,B4          ; |1465| 
    5231 00002844 0210A07A             ADD     .L2     B5,B4,B4          ; |1465| 
    5232 00002848 021C0256             STH     .D1T2   B4,*A7            ; |1465| 
    5233                            .line   758
    5234                    ;------------------------------------------------------------------------------
    5235                    ; 1479 | if( (*a <= parameters->wOuterR[d]) && (*a >= parameters->wOuterL[d]) &&
    5236                    ;     |                                                                        
    5237                    ; 1480 | (*b <= parameters->wOuterT[d]) && (*b >= parameters->wOuterB[d]) &&    
    5238                    ; 1481 | ((*a > rectR) || (*a < rectL) || (*b > rectU) || (*b < rectD)) )       
    5239                    ;------------------------------------------------------------------------------
    5240 0000284c 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |1479| 
    5241 00002850 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1479| 
    5242 00002854 00240204             LDHU    .D1T1   *A9,A0            ; |1479| 
    5243 00002858 00004000             NOP             3
    5244 0000285c 0210BA42             ADDAH   .D2     B4,B5,B4          ; |1479| 
    5245 00002860 0200CA52             ADDK    .S2     404,B4            ; |1479| 
    5246 00002864 02100286             LDHU    .D2T2   *B4,B4            ; |1479| 
    5247 00002868 00006000             NOP             4
    5248 0000286c 001018F8             CMPGT   .L1X    A0,B4,A0          ; |1479| 
    5249 00002870 00802DD8             XOR     .L1     1,A0,A1           ; |1479| 
    5250 00002874 82802AEE     [ A1]   LDW     .D2T2   *+SP(168),B5      ; |1479| 
    5251 00002878 823F42E6     [ A1]   LDW     .D2T2   *+SP(104),B4      ; |1479| 
    5252 0000287c 80240204     [ A1]   LDHU    .D1T1   *A9,A0            ; |1479| 
    5253 00002880 00004000             NOP             3
    5254 00002884 82149A42     [ A1]   ADDAH   .D2     B5,B4,B4          ; |1479| 
    5255 00002888 8200EA52     [ A1]   ADDK    .S2     468,B4            ; |1479| 
    5256 0000288c 82100286     [ A1]   LDHU    .D2T2   *B4,B4            ; |1479| 
    5257 00002890 00006000             NOP             4
    5258 00002894 80101AF8     [ A1]   CMPLT   .L1X    A0,B4,A0          ; |1479| 
    5259 00002898 80802DD8     [ A1]   XOR     .L1     1,A0,A1           ; |1479| 
    5260 0000289c 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    5261 000028a0 00802DD8             XOR     .L1     1,A0,A1           ; |1479| 
    5262 000028a4 823F42E6     [ A1]   LDW     .D2T2   *+SP(104),B4      ; |1479| 
    5263 000028a8 82802AEE     [ A1]   LDW     .D2T2   *+SP(168),B5      ; |1479| 
    5264 000028ac 801C0204     [ A1]   LDHU    .D1T1   *A7,A0            ; |1479| 
    5265 000028b0 00004000             NOP             3
    5266 000028b4 82149A42     [ A1]   ADDAH   .D2     B5,B4,B4          ; |1479| 
    5267 000028b8 82010A52     [ A1]   ADDK    .S2     532,B4            ; |1479| 
    5268 000028bc 82100286     [ A1]   LDHU    .D2T2   *B4,B4            ; |1479| 
    5269 000028c0 00006000             NOP             4
    5270 000028c4 801018F8     [ A1]   CMPGT   .L1X    A0,B4,A0          ; |1479| 
    5271 000028c8 80802DD8     [ A1]   XOR     .L1     1,A0,A1           ; |1479| 
    5272 000028cc 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    5273 000028d0 00802DD8             XOR     .L1     1,A0,A1           ; |1479| 
    5274 000028d4 80002AEC     [ A1]   LDW     .D2T1   *+SP(168),A0      ; |1479| 
    5275 000028d8 81BF42E4     [ A1]   LDW     .D2T1   *+SP(104),A3      ; |1479| 
    5276 000028dc 900401A0     [!A1]   MV      .S1     A1,A0             ; |1479| 
    5277 000028e0 00004000             NOP             3
    5278 000028e4 80007A40     [ A1]   ADDAH   .D1     A0,A3,A0          ; |1479| 
    5279 000028e8 80012A50     [ A1]   ADDK    .S1     596,A0            ; |1479| 
    5280 000028ec 80000204     [ A1]   LDHU    .D1T1   *A0,A0            ; |1479| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   97

    5281 000028f0 819C0204     [ A1]   LDHU    .D1T1   *A7,A3            ; |1479| 
    5282 000028f4 00006000             NOP             4
    5283 000028f8 80006AF8     [ A1]   CMPLT   .L1     A3,A0,A0          ; |1479| 
    5284 000028fc 80002DD8     [ A1]   XOR     .L1     1,A0,A0           ; |1479| 
    5285 00002900 0000105A             MV      .L2X    A0,B0             ; 
    5286 00002904 30000990     [!B0]   B       .S1     L63               ; |1479| 
    5287 00002908 20240204     [ B0]   LDHU    .D1T1   *A9,A0            ; |1479| 
    5288 0000290c 00006000             NOP             4
    5289                               ; BRANCH OCCURS                   ; |1479| 
    5290                    ;** --------------------------------------------------------------------------*
    5291 00002910 00A008F8             CMPGT   .L1     A0,A8,A1          ; |1479| 
    5292 00002914 90240204     [!A1]   LDHU    .D1T1   *A9,A0            ; |1479| 
    5293 00002918 00006000             NOP             4
    5294 0000291c 90A01AF8     [!A1]   CMPLT   .L1X    A0,B8,A1          ; |1479| 
    5295 00002920 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    5296 00002924 00802DD8             XOR     .L1     1,A0,A1           ; |1479| 
    5297 00002928 901C0204     [!A1]   LDHU    .D1T1   *A7,A0            ; |1479| 
    5298 0000292c 00006000             NOP             4
    5299 00002930 90B408F8     [!A1]   CMPGT   .L1     A0,A13,A1         ; |1479| 
    5300 00002934 00040A58             CMPEQ   .L1     A1,0,A0           ; 
    5301 00002938 00802DD8             XOR     .L1     1,A0,A1           ; |1479| 
    5302 0000293c 901C0204     [!A1]   LDHU    .D1T1   *A7,A0            ; |1479| 
    5303 00002940 00006000             NOP             4
    5304 00002944 90A41AF8     [!A1]   CMPLT   .L1X    A0,B9,A1          ; |1479| 
    5305 00002948 0004105A             MV      .L2X    A1,B0             ; 
    5306                    ;** --------------------------------------------------------------------------*
    5307 0000294c           L63:    
    5308 0000294c 30001590     [!B0]   B       .S1     L66               ; |1479| 
    5309 00002950 00008000             NOP             5
    5310                               ; BRANCH OCCURS                   ; |1479| 
    5311                    ;** --------------------------------------------------------------------------*
    5312                            .line   762
    5313                    ;------------------------------------------------------------------------------
    5314                    ; 1483 | xyvals = ((*a << 16) | *b);                                            
    5315                    ;------------------------------------------------------------------------------
    5316 00002954 00240204             LDHU    .D1T1   *A9,A0            ; |1483| 
    5317 00002958 019C0204             LDHU    .D1T1   *A7,A3            ; |1483| 
    5318 0000295c 00004000             NOP             3
    5319 00002960 00020CA0             SHL     .S1     A0,16,A0          ; |1483| 
    5320 00002964 00006FF8             OR      .L1     A3,A0,A0          ; |1483| 
    5321 00002968 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1483| 
    5322                            .line   763
    5323                    ;------------------------------------------------------------------------------
    5324                    ; 1484 | while( *stataddr & 0x1 );                                              
    5325                    ;------------------------------------------------------------------------------
    5326 0000296c 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1484| 
    5327 00002970 00006000             NOP             4
    5328 00002974 021002E6             LDW     .D2T2   *B4,B4            ; |1484| 
    5329 00002978 00006000             NOP             4
    5330 0000297c 00102F5A             AND     .L2     1,B4,B0           ; |1484| 
    5331 00002980 30000490     [!B0]   B       .S1     L65               ; |1484| 
    5332 00002984 00008000             NOP             5
    5333                               ; BRANCH OCCURS                   ; |1484| 
    5334                    ;*----------------------------------------------------------------------------*
    5335                    ;*   SOFTWARE PIPELINE INFORMATION
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   98

    5336                    ;*      Disqualified loop: software pipelining disabled
    5337                    ;*----------------------------------------------------------------------------*
    5338 00002988           L64:    
    5339 00002988 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1484| 
    5340 0000298c 00006000             NOP             4
    5341 00002990 021002E6             LDW     .D2T2   *B4,B4            ; |1484| 
    5342 00002994 00006000             NOP             4
    5343 00002998 00102F5A             AND     .L2     1,B4,B0           ; |1484| 
    5344 0000299c 20000110     [ B0]   B       .S1     L64               ; |1484| 
    5345 000029a0 00008000             NOP             5
    5346                               ; BRANCH OCCURS                   ; |1484| 
    5347                    ;** --------------------------------------------------------------------------*
    5348 000029a4           L65:    
    5349                            .line   764
    5350                    ;------------------------------------------------------------------------------
    5351                    ; 1485 | *locaddr = xyvals;                                                     
    5352                    ;------------------------------------------------------------------------------
    5354 000029a8 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1485| 
    5353 000029a4 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1485| 
    5355 000029ac 00006000             NOP             4
    5356 000029b0 021402F6             STW     .D2T2   B4,*B5            ; |1485| 
    5357                            .line   765
    5358                    ;------------------------------------------------------------------------------
    5359                    ; 1486 | visibleDotsXY[nTotalVisDots++] = xyvals;                               
    5360                    ;------------------------------------------------------------------------------
    5361 000029b4 033DC2E6             LDW     .D2T2   *+SP(56),B6       ; |1486| 
    5362 000029b8 028030EE             LDW     .D2T2   *+SP(192),B5      ; |1486| 
    5363 000029bc 0230105A             MV      .L2X    A12,B4            ; 
    5364 000029c0 06302058             ADD     .L1     1,A12,A12         ; 
    5365 000029c4 00002000             NOP             2
    5366 000029c8 03148AF6             STW     .D2T2   B6,*+B5[B4]       ; |1486| 
    5367                            .line   766
    5368                    ;------------------------------------------------------------------------------
    5369                    ; 1487 | nVisDotsPerTgt[d]++;                                                   
    5370                    ;------------------------------------------------------------------------------
    5371 000029cc 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1487| 
    5372 000029d0 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |1487| 
    5373 000029d4 00006000             NOP             4
    5374 000029d8 02949A42             ADDAH   .D2     B5,B4,B5          ; |1487| 
    5375 000029dc 02140286             LDHU    .D2T2   *B5,B4            ; |1487| 
    5376 000029e0 00006000             NOP             4
    5377 000029e4 0210205A             ADD     .L2     1,B4,B4           ; |1487| 
    5378 000029e8 021402D6             STH     .D2T2   B4,*B5            ; |1487| 
    5379                    ;** --------------------------------------------------------------------------*
    5380 000029ec           L66:    
    5381                            .line   768
    5382                    ;------------------------------------------------------------------------------
    5383                    ; 1489 | a++;                                                                   
    5384                    ;------------------------------------------------------------------------------
    5386                            .line   769
    5385 000029ec 04A44058             ADD     .L1     2,A9,A9           ; |1489| 
    5387                    ;------------------------------------------------------------------------------
    5388                    ; 1490 | b++;                                                                   
    5389                    ;------------------------------------------------------------------------------
    5390 000029f0 039C4058             ADD     .L1     2,A7,A7           ; |1490| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE   99

    5391                            .line   770
    5392 000029f4 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1491| 
    5393 000029f8 8FFFC690     [ A1]   B       .S1     L62               ; |1491| 
    5394 000029fc 00008000             NOP             5
    5395                               ; BRANCH OCCURS                   ; |1491| 
    5396                    ;** --------------------------------------------------------------------------*
    5397                            .line   771
    5398 00002a00 0004B790             B       .S1     L133              ; |1492| 
    5399 00002a04 00008000             NOP             5
    5400                               ; BRANCH OCCURS                   ; |1492| 
    5401                    ;** --------------------------------------------------------------------------*
    5402 00002a08           L67:    
    5403                            .line   772
    5404                    ;------------------------------------------------------------------------------
    5405                    ; 1493 | else if( u16Type == OPTRECTWIN )                            // OPTRECTW
    5406                    ;     | IN: Independent pattern & window                                       
    5407                    ; 1494 | {                                                           // motion, 
    5408                    ;     | but all dots restricted to window...                                   
    5409                    ;------------------------------------------------------------------------------
    5411 00002a0c 00006000             NOP             4
    5410 00002a08 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1493| 
    5412 00002a10 0010EA5A             CMPEQ   .L2     B4,7,B0           ; |1493| 
    5413 00002a14 30005690     [!B0]   B       .S1     L73               ; |1493| 
    5414 00002a18 00008000             NOP             5
    5415                               ; BRANCH OCCURS                   ; |1493| 
    5416                    ;** --------------------------------------------------------------------------*
    5417                            .line   774
    5418                    ;------------------------------------------------------------------------------
    5419                    ; 1495 | rectW = hsize[d];                                        //    so we do
    5420                    ;     | n't do repeat array accesses in                                        
    5421                    ;------------------------------------------------------------------------------
    5422 00002a1c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1495| 
    5423 00002a20 02802BEE             LDW     .D2T2   *+SP(172),B5      ; |1495| 
    5424 00002a24 00006000             NOP             4
    5425 00002a28 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |1495| 
    5426 00002a2c 00006000             NOP             4
    5427 00002a30 02BDC2D6             STH     .D2T2   B5,*+SP(28)       ; |1495| 
    5428                            .line   775
    5429                    ;------------------------------------------------------------------------------
    5430                    ; 1496 | rectH = vsize[d];                                        //    the draw
    5431                    ;     |  loop below...                                                         
    5432                    ;------------------------------------------------------------------------------
    5433 00002a34 01802CEC             LDW     .D2T1   *+SP(176),A3      ; |1496| 
    5434 00002a38 00101058             MV      .L1X    B4,A0
    5435 00002a3c 00004000             NOP             3
    5436 00002a40 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |1496| 
    5437 00002a44 00006000             NOP             4
    5438 00002a48 003DE2D4             STH     .D2T1   A0,*+SP(30)       ; |1496| 
    5439                            .line   777
    5440                    ;------------------------------------------------------------------------------
    5441                    ; 1498 | if( (rectR <= rectL) || (rectU <= rectD) )               //    turn off
    5442                    ;     |  target if target rect is invalid                                      
    5443                    ; 1499 | {                                                        //    due to a
    5444                    ;     |  screen wrap-around                                                    
    5445                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  100

    5446 00002a4c 002118F8             CMPGT   .L1X    A8,B8,A0          ; |1498| 
    5447 00002a50 00802DD8             XOR     .L1     1,A0,A1           ; |1498| 
    5448 00002a54 92353AFA     [!A1]   CMPGT   .L2X    A13,B9,B4         ; |1498| 
    5449 00002a58 90903DD8     [!A1]   XOR     .L1X    1,B4,A1           ; |1498| 
    5450                            .line   779
    5451                    ;------------------------------------------------------------------------------
    5452                    ; 1500 | nVisDotsPerTgt[d] = 0;                                                 
    5453                    ;------------------------------------------------------------------------------
    5454 00002a5c 82002EEC     [ A1]   LDW     .D2T1   *+SP(184),A4      ; |1500| 
    5455 00002a60 803F42E4     [ A1]   LDW     .D2T1   *+SP(104),A0      ; |1500| 
    5456 00002a64 818000F8     [ A1]   ZERO    .L1     A3                ; |1500| 
    5457 00002a68 00004000             NOP             3
    5458 00002a6c 81900A54     [ A1]   STH     .D1T1   A3,*+A4[A0]       ; |1500| 
    5459                            .line   780
    5460                    ;------------------------------------------------------------------------------
    5461                    ; 1501 | a = de;                                                                
    5462                    ;------------------------------------------------------------------------------
    5463 00002a70 84B80058     [ A1]   MV      .L1     A14,A9            ; |1501| 
    5464                            .line   781
    5465                    ;------------------------------------------------------------------------------
    5466                    ; 1503 | else                                                     //    otherwis
    5467                    ;     | e, all dots are drawn, since all                                       
    5468                    ;------------------------------------------------------------------------------
    5469                            .line   783
    5470                    ;------------------------------------------------------------------------------
    5471                    ; 1504 | nVisDotsPerTgt[d] = parameters->wNumDots[d];          //    are restric
    5472                    ;     | ted to the tgt window.                                                 
    5473                    ;------------------------------------------------------------------------------
    5474 00002a74 92802AEE     [!A1]   LDW     .D2T2   *+SP(168),B5      ; |1504| 
    5475 00002a78 923F42E6     [!A1]   LDW     .D2T2   *+SP(104),B4      ; |1504| 
    5476 00002a7c 00006000             NOP             4
    5477 00002a80 92149A42     [!A1]   ADDAH   .D2     B5,B4,B4          ; |1504| 
    5478 00002a84 92002A52     [!A1]   ADDK    .S2     84,B4             ; |1504| 
    5479 00002a88 93100286     [!A1]   LDHU    .D2T2   *B4,B6            ; |1504| 
    5480 00002a8c 923F42E6     [!A1]   LDW     .D2T2   *+SP(104),B4      ; |1504| 
    5481 00002a90 92802EEE     [!A1]   LDW     .D2T2   *+SP(184),B5      ; |1504| 
    5482 00002a94 00006000             NOP             4
    5483 00002a98 93148AD6     [!A1]   STH     .D2T2   B6,*+B5[B4]       ; |1504| 
    5484                            .line   785
    5485                    ;------------------------------------------------------------------------------
    5486                    ; 1506 | while ( a < de )                                         //    for each
    5487                    ;     |  dot in target:                                                        
    5488                    ; 1508 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    5489                    ;     | window, so dot displacement is                                         
    5490                    ; 1509 | // window displacement + pattern displacement!                         
    5491                    ;------------------------------------------------------------------------------
    5492 00002a9c 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1506| 
    5493 00002aa0 9004A390     [!A1]   B       .S1     L133              ; |1506| 
    5494 00002aa4 00008000             NOP             5
    5495                               ; BRANCH OCCURS                   ; |1506| 
    5496                    ;** --------------------------------------------------------------------------*
    5497                    ;**   BEGIN LOOP L68
    5498                    ;** --------------------------------------------------------------------------*
    5499 00002aa8           L68:    
    5500                            .line   789
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  101

    5501                    ;------------------------------------------------------------------------------
    5502                    ; 1510 | xCoord = *a + hw + hv;                                //       update i
    5503                    ;     | ts position                                                            
    5504                    ;------------------------------------------------------------------------------
    5505                    
    5506 00002aa8 023C82C7             LDH     .D2T2   *+SP(8),B4        ; |1510| 
    5507 00002aac 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1510| 
    5509 00002ab0 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |1510| 
    5508                    
    5510 00002ab4 00004000             NOP             3
    5511 00002ab8 00101078             ADD     .L1X    B4,A0,A0          ; |1510| 
    5512 00002abc 00141078             ADD     .L1X    B5,A0,A0          ; |1510| 
    5513 00002ac0 05021008             EXTU    .S1     A0,16,16,A10      ; |1510| 
    5514                            .line   790
    5515                    ;------------------------------------------------------------------------------
    5516                    ; 1511 | yCoord = *b + vw + vv;                                                 
    5517                    ;------------------------------------------------------------------------------
    5518 00002ac4 01BCA2C4             LDH     .D2T1   *+SP(10),A3       ; |1511| 
    5519 00002ac8 001C0204             LDHU    .D1T1   *A7,A0            ; |1511| 
    5520 00002acc 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1511| 
    5521 00002ad0 00004000             NOP             3
    5522 00002ad4 00006078             ADD     .L1     A3,A0,A0          ; |1511| 
    5523 00002ad8 00101078             ADD     .L1X    B4,A0,A0          ; |1511| 
    5524 00002adc 05821008             EXTU    .S1     A0,16,16,A11      ; |1511| 
    5525                            .line   791
    5526                    ;------------------------------------------------------------------------------
    5527                    ; 1512 | if( (xCoord > rectR) || (xCoord < rectL) )            //       if tgt h
    5528                    ;     | as violated horizontal bounds:                                         
    5529                    ;------------------------------------------------------------------------------
    5530 00002ae0 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1512| 
    5531 00002ae4 90A15AF8     [!A1]   CMPLT   .L1X    A10,B8,A1         ; |1512| 
    5532 00002ae8 90001410     [!A1]   B       .S1     L69               ; |1512| 
    5533 00002aec 00008000             NOP             5
    5534                               ; BRANCH OCCURS                   ; |1512| 
    5535                    ;** --------------------------------------------------------------------------*
    5536                            .line   793
    5537                    ;------------------------------------------------------------------------------
    5538                    ; 1514 | if( xCoord > rectR ) u16Over = xCoord - rectR;     //          compute 
    5539                    ;     | positive distance by which                                             
    5540                    ;------------------------------------------------------------------------------
    5541 00002af0 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1514| 
    5542 00002af4 802140F8     [ A1]   SUB     .L1     A10,A8,A0         ; |1514| 
    5543 00002af8 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1514| 
    5544                            .line   794
    5545                    ;------------------------------------------------------------------------------
    5546                    ; 1515 | else                 u16Over = rectL - xCoord;     //          dot has 
    5547                    ;     | moved beyond border                                                    
    5548                    ;------------------------------------------------------------------------------
    5549 00002afc 922910FA     [!A1]   SUB     .L2X    B8,A10,B4         ; |1515| 
    5550 00002b00 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1515| 
    5551                            .line   795
    5552                    ;------------------------------------------------------------------------------
    5553                    ; 1516 | u16Over = u16Over % rectW;                         //          in case 
    5554                    ;     | distance > window width!                                               
    5555                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  102

    5556                    
    5557 00002b04 0FFAA011!            B       .S1     __remi            ; |1516| 
    5558 00002b08 023DC286  ||         LDHU    .D2T2   *+SP(28),B4       ; 
    5559                    
    5560 00002b0c 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    5561 00002b10 01958E2A'            MVKL    .S2     RL424,B3          ; |1516| 
    5562 00002b14 0180006A'            MVKH    .S2     RL424,B3          ; |1516| 
    5563 00002b18 00002000             NOP             2
    5564 00002b1c           RL424:     ; CALL OCCURS                     ; |1516| 
    5565 00002b1c 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1516| 
    5566                            .line   797
    5567                    ;------------------------------------------------------------------------------
    5568                    ; 1518 | if( hv > 0 )  xCoord = rectL + u16Over;            //          if dots 
    5569                    ;     | moving right wrt window,                                               
    5570                    ;------------------------------------------------------------------------------
    5571 00002b20 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |1518| 
    5572 00002b24 00006000             NOP             4
    5573 00002b28 00100ADA             CMPGT   .L2     B4,0,B0           ; |1518| 
    5574 00002b2c 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1518| 
    5575 00002b30 00006000             NOP             4
    5576 00002b34 20201078     [ B0]   ADD     .L1X    A0,B8,A0          ; |1518| 
    5577 00002b38 25021008     [ B0]   EXTU    .S1     A0,16,16,A10      ; |1518| 
    5578                            .line   798
    5579                    ;------------------------------------------------------------------------------
    5580                    ; 1519 | else          xCoord = rectR - u16Over;            //          offset f
    5581                    ;     | rom left edge, else right                                              
    5582                    ;------------------------------------------------------------------------------
    5583 00002b3c 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1519| 
    5584 00002b40 00006000             NOP             4
    5585 00002b44 301110F8     [!B0]   SUB     .L1X    A8,B4,A0          ; |1519| 
    5586 00002b48 35021008     [!B0]   EXTU    .S1     A0,16,16,A10      ; |1519| 
    5587                            .line   800
    5588                    ;------------------------------------------------------------------------------
    5589                    ; 1521 | yCoord = (UINT16) GetRandNum();                    //          and rand
    5590                    ;     | omize the vertical coord                                               
    5591                    ;------------------------------------------------------------------------------
    5592 00002b4c 0FFA9E10             B       .S1     _GetRandNum       ; |1521| 
    5593 00002b50 0195AE2A'            MVKL    .S2     RL426,B3          ; |1521| 
    5594 00002b54 0180006A'            MVKH    .S2     RL426,B3          ; |1521| 
    5595 00002b58 00004000             NOP             3
    5596 00002b5c           RL426:     ; CALL OCCURS                     ; |1521| 
    5597                            .line   801
    5598                    ;------------------------------------------------------------------------------
    5599                    ; 1522 | yCoord = rectD + (yCoord % rectH);                                     
    5600                    ;------------------------------------------------------------------------------
    5602 00002b60 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    5601 00002b5c 0FFA9810!            B       .S1     __remi            ; |1522| 
    5603 00002b64 0195B82A'            MVKL    .S2     RL428,B3          ; |1522| 
    5604 00002b68 0180006A'            MVKH    .S2     RL428,B3          ; |1522| 
    5605 00002b6c 00002000             NOP             2
    5606 00002b70           RL428:     ; CALL OCCURS                     ; |1522| 
    5607 00002b70 00249078             ADD     .L1X    A4,B9,A0          ; 
    5608 00002b74 05821008             EXTU    .S1     A0,16,16,A11      ; |1522| 
    5609                            .line   802
    5610 00002b78 00001710             B       .S1     L70               ; |1523| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  103

    5611 00002b7c 00008000             NOP             5
    5612                               ; BRANCH OCCURS                   ; |1523| 
    5613                    ;** --------------------------------------------------------------------------*
    5614 00002b80           L69:    
    5615                            .line   803
    5616                    ;------------------------------------------------------------------------------
    5617                    ; 1524 | else if( (yCoord > rectU) || (yCoord < rectD) )       //       else if 
    5618                    ;     | tgt violated vertical bounds:                                          
    5619                    ;------------------------------------------------------------------------------
    5621 00002b84 90A57AF8     [!A1]   CMPLT   .L1X    A11,B9,A1         ; |1524| 
    5620 00002b80 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1524| 
    5622 00002b88 90001310     [!A1]   B       .S1     L70               ; |1524| 
    5623 00002b8c 00008000             NOP             5
    5624                               ; BRANCH OCCURS                   ; |1524| 
    5625                    ;** --------------------------------------------------------------------------*
    5626                            .line   805
    5627                    ;------------------------------------------------------------------------------
    5628                    ; 1526 | if( yCoord > rectU ) u16Over = yCoord - rectU;     //          dist dot
    5629                    ;     |  moved beyond border...                                                
    5630                    ;------------------------------------------------------------------------------
    5631 00002b90 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1526| 
    5632 00002b94 803560F8     [ A1]   SUB     .L1     A11,A13,A0        ; |1526| 
    5633 00002b98 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1526| 
    5634                            .line   806
    5635                    ;------------------------------------------------------------------------------
    5636                    ; 1527 | else                 u16Over = rectD - yCoord;                         
    5637                    ;------------------------------------------------------------------------------
    5638 00002b9c 922D30FA     [!A1]   SUB     .L2X    B9,A11,B4         ; |1527| 
    5639 00002ba0 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1527| 
    5640                            .line   807
    5641                    ;------------------------------------------------------------------------------
    5642                    ; 1528 | u16Over = u16Over % rectH;                                             
    5643                    ;------------------------------------------------------------------------------
    5644                    
    5645 00002ba4 0FFA8C11!            B       .S1     __remi            ; |1528| 
    5646 00002ba8 023DE286  ||         LDHU    .D2T2   *+SP(30),B4       ; 
    5647                    
    5648 00002bac 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    5649 00002bb0 0195DE2A'            MVKL    .S2     RL430,B3          ; |1528| 
    5650 00002bb4 0180006A'            MVKH    .S2     RL430,B3          ; |1528| 
    5651 00002bb8 00002000             NOP             2
    5652 00002bbc           RL430:     ; CALL OCCURS                     ; |1528| 
    5653 00002bbc 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1528| 
    5654                            .line   809
    5655                    ;------------------------------------------------------------------------------
    5656                    ; 1530 | if( vv > 0 )  yCoord = rectD + u16Over;            //          if dots 
    5657                    ;     | moving up wrt window,                                                  
    5658                    ;------------------------------------------------------------------------------
    5659 00002bc0 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1530| 
    5660 00002bc4 00006000             NOP             4
    5661 00002bc8 00100ADA             CMPGT   .L2     B4,0,B0           ; |1530| 
    5662 00002bcc 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1530| 
    5663 00002bd0 00006000             NOP             4
    5664 00002bd4 20241078     [ B0]   ADD     .L1X    A0,B9,A0          ; |1530| 
    5665 00002bd8 25821008     [ B0]   EXTU    .S1     A0,16,16,A11      ; |1530| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  104

    5666                            .line   810
    5667                    ;------------------------------------------------------------------------------
    5668                    ; 1531 | else          yCoord = rectU - u16Over;            //          offset f
    5669                    ;     | rom bottom edge, else top                                              
    5670                    ;------------------------------------------------------------------------------
    5671 00002bdc 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1531| 
    5672 00002be0 00006000             NOP             4
    5673 00002be4 3011B0F8     [!B0]   SUB     .L1X    A13,B4,A0         ; |1531| 
    5674 00002be8 35821008     [!B0]   EXTU    .S1     A0,16,16,A11      ; |1531| 
    5675                            .line   812
    5676                    ;------------------------------------------------------------------------------
    5677                    ; 1533 | xCoord = (UINT16) GetRandNum();                    //          and rand
    5678                    ;     | omize the horizontal coord                                             
    5679                    ;------------------------------------------------------------------------------
    5680 00002bec 0FFA8A10             B       .S1     _GetRandNum       ; |1533| 
    5681 00002bf0 0195FE2A'            MVKL    .S2     RL432,B3          ; |1533| 
    5682 00002bf4 0180006A'            MVKH    .S2     RL432,B3          ; |1533| 
    5683 00002bf8 00004000             NOP             3
    5684 00002bfc           RL432:     ; CALL OCCURS                     ; |1533| 
    5685                            .line   813
    5686                    ;------------------------------------------------------------------------------
    5687                    ; 1534 | xCoord = rectL + (xCoord % rectW);                                     
    5688                    ;------------------------------------------------------------------------------
    5690 00002c00 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    5689 00002bfc 0FFA8410!            B       .S1     __remi            ; |1534| 
    5691 00002c04 0196082A'            MVKL    .S2     RL434,B3          ; |1534| 
    5692 00002c08 0180006A'            MVKH    .S2     RL434,B3          ; |1534| 
    5693 00002c0c 00002000             NOP             2
    5694 00002c10           RL434:     ; CALL OCCURS                     ; |1534| 
    5695 00002c10 00209078             ADD     .L1X    A4,B8,A0          ; 
    5696 00002c14 05021008             EXTU    .S1     A0,16,16,A10      ; |1534| 
    5697                    ;** --------------------------------------------------------------------------*
    5698 00002c18           L70:    
    5699                            .line   815
    5700                    ;------------------------------------------------------------------------------
    5701                    ; 1536 | *a = xCoord;                                                           
    5702                    ;------------------------------------------------------------------------------
    5704                            .line   816
    5703 00002c18 05240254             STH     .D1T1   A10,*A9           ; |1536| 
    5705                    ;------------------------------------------------------------------------------
    5706                    ; 1537 | *b = yCoord;                                                           
    5707                    ;------------------------------------------------------------------------------
    5708 00002c1c 059C0254             STH     .D1T1   A11,*A7           ; |1537| 
    5709                            .line   818
    5710                    ;------------------------------------------------------------------------------
    5711                    ; 1539 | xyvals = ((*a << 16) | *b);                           //       draw the
    5712                    ;     |  dot                                                                   
    5713                    ;------------------------------------------------------------------------------
    5714 00002c20 00240204             LDHU    .D1T1   *A9,A0            ; |1539| 
    5715 00002c24 019C0204             LDHU    .D1T1   *A7,A3            ; |1539| 
    5716 00002c28 00004000             NOP             3
    5717 00002c2c 00020CA0             SHL     .S1     A0,16,A0          ; |1539| 
    5718 00002c30 00006FF8             OR      .L1     A3,A0,A0          ; |1539| 
    5719 00002c34 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1539| 
    5720                            .line   819
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  105

    5721                    ;------------------------------------------------------------------------------
    5722                    ; 1540 | while( *stataddr & 0x1 );                                              
    5723                    ;------------------------------------------------------------------------------
    5724 00002c38 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1540| 
    5725 00002c3c 00006000             NOP             4
    5726 00002c40 021002E6             LDW     .D2T2   *B4,B4            ; |1540| 
    5727 00002c44 00006000             NOP             4
    5728 00002c48 00102F5A             AND     .L2     1,B4,B0           ; |1540| 
    5729 00002c4c 30000610     [!B0]   B       .S1     L72               ; |1540| 
    5730 00002c50 00008000             NOP             5
    5731                               ; BRANCH OCCURS                   ; |1540| 
    5732                    ;*----------------------------------------------------------------------------*
    5733                    ;*   SOFTWARE PIPELINE INFORMATION
    5734                    ;*      Disqualified loop: software pipelining disabled
    5735                    ;*----------------------------------------------------------------------------*
    5736 00002c54           L71:    
    5737 00002c54 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1540| 
    5738 00002c58 00006000             NOP             4
    5739 00002c5c 021002E6             LDW     .D2T2   *B4,B4            ; |1540| 
    5740 00002c60 00006000             NOP             4
    5741 00002c64 00102F5A             AND     .L2     1,B4,B0           ; |1540| 
    5742 00002c68 2FFFFE90     [ B0]   B       .S1     L71               ; |1540| 
    5743 00002c6c 00008000             NOP             5
    5744                               ; BRANCH OCCURS                   ; |1540| 
    5745                    ;** --------------------------------------------------------------------------*
    5746 00002c70           L72:    
    5747                            .line   820
    5748                    ;------------------------------------------------------------------------------
    5749                    ; 1541 | *locaddr = xyvals;                                                     
    5750                    ;------------------------------------------------------------------------------
    5752 00002c74 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1541| 
    5751 00002c70 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1541| 
    5753 00002c78 00006000             NOP             4
    5754 00002c7c 021402F6             STW     .D2T2   B4,*B5            ; |1541| 
    5755                            .line   821
    5756                    ;------------------------------------------------------------------------------
    5757                    ; 1542 | visibleDotsXY[nTotalVisDots++] = xyvals;              //       save pac
    5758                    ;     | ked coords in visi dots array                                          
    5759                    ;------------------------------------------------------------------------------
    5760 00002c80 033DC2E6             LDW     .D2T2   *+SP(56),B6       ; |1542| 
    5761 00002c84 028030EE             LDW     .D2T2   *+SP(192),B5      ; |1542| 
    5762 00002c88 0230105A             MV      .L2X    A12,B4            ; 
    5763 00002c8c 06302058             ADD     .L1     1,A12,A12         ; 
    5764 00002c90 00002000             NOP             2
    5765 00002c94 03148AF6             STW     .D2T2   B6,*+B5[B4]       ; |1542| 
    5766                            .line   822
    5767                    ;------------------------------------------------------------------------------
    5768                    ; 1543 | a++;                                                                   
    5769                    ;------------------------------------------------------------------------------
    5770 00002c98 04A44058             ADD     .L1     2,A9,A9           ; |1543| 
    5771                            .line   823
    5772                    ;------------------------------------------------------------------------------
    5773                    ; 1544 | b++;                                                                   
    5774                    ;------------------------------------------------------------------------------
    5775 00002c9c 039C4058             ADD     .L1     2,A7,A7           ; |1544| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  106

    5776                            .line   824
    5777 00002ca0 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1545| 
    5778 00002ca4 8FFFC110     [ A1]   B       .S1     L68               ; |1545| 
    5779 00002ca8 00008000             NOP             5
    5780                               ; BRANCH OCCURS                   ; |1545| 
    5781                    ;** --------------------------------------------------------------------------*
    5782                            .line   825
    5783 00002cac 00046390             B       .S1     L133              ; |1546| 
    5784 00002cb0 00008000             NOP             5
    5785                               ; BRANCH OCCURS                   ; |1546| 
    5786                    ;** --------------------------------------------------------------------------*
    5787 00002cb4           L73:    
    5788                            .line   826
    5789                    ;------------------------------------------------------------------------------
    5790                    ; 1547 | else if( u16Type == OPTCOHERENT )                           // OPTCOHER
    5791                    ;     | ENT: Like OPTRECTWIN, but implements                                   
    5792                    ; 1548 | {                                                           // percent 
    5793                    ;     | coherence...                                                           
    5794                    ;------------------------------------------------------------------------------
    5796 00002cb8 00006000             NOP             4
    5795 00002cb4 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1547| 
    5797 00002cbc 00118A5A             CMPEQ   .L2     B4,12,B0          ; |1547| 
    5798 00002cc0 30006E10     [!B0]   B       .S1     L80               ; |1547| 
    5799 00002cc4 00008000             NOP             5
    5800                               ; BRANCH OCCURS                   ; |1547| 
    5801                    ;** --------------------------------------------------------------------------*
    5802                            .line   828
    5803                    ;------------------------------------------------------------------------------
    5804                    ; 1549 | rectW = hsize[d];                                        //    so we do
    5805                    ;     | n't do repeat array accesses in                                        
    5806                    ;------------------------------------------------------------------------------
    5807 00002cc8 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1549| 
    5808 00002ccc 02802BEE             LDW     .D2T2   *+SP(172),B5      ; |1549| 
    5809 00002cd0 00006000             NOP             4
    5810 00002cd4 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |1549| 
    5811 00002cd8 00006000             NOP             4
    5812 00002cdc 02BDC2D6             STH     .D2T2   B5,*+SP(28)       ; |1549| 
    5813                            .line   829
    5814                    ;------------------------------------------------------------------------------
    5815                    ; 1550 | rectH = vsize[d];                                        //    the draw
    5816                    ;     |  loop below...                                                         
    5817                    ;------------------------------------------------------------------------------
    5818 00002ce0 01802CEC             LDW     .D2T1   *+SP(176),A3      ; |1550| 
    5819 00002ce4 00101058             MV      .L1X    B4,A0
    5820 00002ce8 00004000             NOP             3
    5821 00002cec 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |1550| 
    5822 00002cf0 00006000             NOP             4
    5823 00002cf4 003DE2D4             STH     .D2T1   A0,*+SP(30)       ; |1550| 
    5824                            .line   830
    5825                    ;------------------------------------------------------------------------------
    5826                    ; 1551 | u16Dummy = parameters->wOuterL[d];                       //    percent 
    5827                    ;     | coherence in [0..100]                                                  
    5828                    ;------------------------------------------------------------------------------
    5829 00002cf8 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1551| 
    5830 00002cfc 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  107

    5831 00002d00 02149A42             ADDAH   .D2     B5,B4,B4          ; |1551| 
    5832 00002d04 0200EA52             ADDK    .S2     468,B4            ; |1551| 
    5833 00002d08 02100286             LDHU    .D2T2   *B4,B4            ; |1551| 
    5834 00002d0c 00006000             NOP             4
    5835 00002d10 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1551| 
    5836                            .line   832
    5837                    ;------------------------------------------------------------------------------
    5838                    ; 1553 | if( (rectR <= rectL) || (rectU <= rectD) )               //    turn off
    5839                    ;     |  target if target rect is invalid                                      
    5840                    ; 1554 | {                                                        //    due to a
    5841                    ;     |  screen wrap-around                                                    
    5842                    ;------------------------------------------------------------------------------
    5843 00002d14 002118F8             CMPGT   .L1X    A8,B8,A0          ; |1553| 
    5844 00002d18 00802DD8             XOR     .L1     1,A0,A1           ; |1553| 
    5845 00002d1c 92353AFA     [!A1]   CMPGT   .L2X    A13,B9,B4         ; |1553| 
    5846 00002d20 90903DD8     [!A1]   XOR     .L1X    1,B4,A1           ; |1553| 
    5847                            .line   834
    5848                    ;------------------------------------------------------------------------------
    5849                    ; 1555 | nVisDotsPerTgt[d] = 0;                                                 
    5850                    ;------------------------------------------------------------------------------
    5851 00002d24 82002EEC     [ A1]   LDW     .D2T1   *+SP(184),A4      ; |1555| 
    5852 00002d28 81BF42E4     [ A1]   LDW     .D2T1   *+SP(104),A3      ; |1555| 
    5853 00002d2c 800000F8     [ A1]   ZERO    .L1     A0                ; |1555| 
    5854 00002d30 00004000             NOP             3
    5855 00002d34 80106A54     [ A1]   STH     .D1T1   A0,*+A4[A3]       ; |1555| 
    5856                            .line   835
    5857                    ;------------------------------------------------------------------------------
    5858                    ; 1556 | a = de;                                                                
    5859                    ;------------------------------------------------------------------------------
    5860 00002d38 84B80058     [ A1]   MV      .L1     A14,A9            ; |1556| 
    5861                            .line   836
    5862                    ;------------------------------------------------------------------------------
    5863                    ; 1558 | else                                                     //    otherwis
    5864                    ;     | e, all dots are drawn, since all                                       
    5865                    ;------------------------------------------------------------------------------
    5866                            .line   838
    5867                    ;------------------------------------------------------------------------------
    5868                    ; 1559 | nVisDotsPerTgt[d] = parameters->wNumDots[d];          //    are restric
    5869                    ;     | ted to the tgt window.                                                 
    5870                    ;------------------------------------------------------------------------------
    5871 00002d3c 92802AEE     [!A1]   LDW     .D2T2   *+SP(168),B5      ; |1559| 
    5872 00002d40 923F42E6     [!A1]   LDW     .D2T2   *+SP(104),B4      ; |1559| 
    5873 00002d44 933F42E6     [!A1]   LDW     .D2T2   *+SP(104),B6      ; |1559| 
    5874 00002d48 00004000             NOP             3
    5875 00002d4c 92149A42     [!A1]   ADDAH   .D2     B5,B4,B4          ; |1559| 
    5876 00002d50 92002A52     [!A1]   ADDK    .S2     84,B4             ; |1559| 
    5877 00002d54 92900286     [!A1]   LDHU    .D2T2   *B4,B5            ; |1559| 
    5878 00002d58 92002EEE     [!A1]   LDW     .D2T2   *+SP(184),B4      ; |1559| 
    5879 00002d5c 00006000             NOP             4
    5880 00002d60 9290CAD6     [!A1]   STH     .D2T2   B5,*+B4[B6]       ; |1559| 
    5881                            .line   840
    5882                    ;------------------------------------------------------------------------------
    5883                    ; 1561 | while ( a < de )                                         //    for each
    5884                    ;     |  dot in target:                                                        
    5885                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  108

    5886 00002d64 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1561| 
    5887 00002d68 90044B90     [!A1]   B       .S1     L133              ; |1561| 
    5888 00002d6c 00008000             NOP             5
    5889                               ; BRANCH OCCURS                   ; |1561| 
    5890                    ;** --------------------------------------------------------------------------*
    5891                    ;**   BEGIN LOOP L74
    5892                    ;** --------------------------------------------------------------------------*
    5893 00002d70           L74:    
    5894                            .line   842
    5895                    ;------------------------------------------------------------------------------
    5896                    ; 1563 | u16tmp = ((UINT16) GetRandNum()) % 100;               //       if rando
    5897                    ;     | m choice >= %coherence,                                                
    5898                    ;------------------------------------------------------------------------------
    5900 00002d74 0196C02A'            MVKL    .S2     RL438,B3          ; |1563| 
    5899 00002d70 0FFA5A10             B       .S1     _GetRandNum       ; |1563| 
    5901 00002d78 0180006A'            MVKH    .S2     RL438,B3          ; |1563| 
    5902 00002d7c 00004000             NOP             3
    5903 00002d80           RL438:     ; CALL OCCURS                     ; |1563| 
    5904 00002d80 0FFA5010!            B       .S1     __remi            ; |1563| 
    5905 00002d84 0196CA2A'            MVKL    .S2     RL440,B3          ; |1563| 
    5906 00002d88 0200322A             MVK     .S2     0x64,B4           ; |1563| 
    5907 00002d8c 0180006A'            MVKH    .S2     RL440,B3          ; |1563| 
    5908 00002d90 00002000             NOP             2
    5909 00002d94           RL440:     ; CALL OCCURS                     ; |1563| 
    5910 00002d94 023E82D4             STH     .D2T1   A4,*+SP(40)       ; |1563| 
    5911                            .line   843
    5912                    ;------------------------------------------------------------------------------
    5913                    ; 1564 | if( u16tmp >= u16Dummy )                              //       then ran
    5914                    ;     | domly reposition dot                                                   
    5915                    ;------------------------------------------------------------------------------
    5916 00002d98 02BE6286             LDHU    .D2T2   *+SP(38),B5       ; |1564| 
    5917 00002d9c 023E8286             LDHU    .D2T2   *+SP(40),B4       ; |1564| 
    5918 00002da0 00006000             NOP             4
    5919 00002da4 00148AFA             CMPLT   .L2     B4,B5,B0          ; |1564| 
    5920 00002da8 20001010     [ B0]   B       .S1     L75               ; |1564| 
    5921 00002dac 00008000             NOP             5
    5922                               ; BRANCH OCCURS                   ; |1564| 
    5923                    ;** --------------------------------------------------------------------------*
    5924                            .line   845
    5925                    ;------------------------------------------------------------------------------
    5926                    ; 1566 | xCoord = (UINT16) GetRandNum();                                        
    5927                    ;------------------------------------------------------------------------------
    5928 00002db0 0FFA5210             B       .S1     _GetRandNum       ; |1566| 
    5929 00002db4 0196E02A'            MVKL    .S2     RL442,B3          ; |1566| 
    5930 00002db8 0180006A'            MVKH    .S2     RL442,B3          ; |1566| 
    5931 00002dbc 00004000             NOP             3
    5932 00002dc0           RL442:     ; CALL OCCURS                     ; |1566| 
    5933 00002dc0 05100058             MV      .L1     A4,A10            ; 
    5934                            .line   846
    5935                    ;------------------------------------------------------------------------------
    5936                    ; 1567 | yCoord = (UINT16) GetRandNum();                                        
    5937                    ;------------------------------------------------------------------------------
    5938 00002dc4 0FFA4E10             B       .S1     _GetRandNum       ; |1567| 
    5939 00002dc8 0196EA2A'            MVKL    .S2     RL444,B3          ; |1567| 
    5940 00002dcc 0180006A'            MVKH    .S2     RL444,B3          ; |1567| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  109

    5941 00002dd0 00004000             NOP             3
    5942 00002dd4           RL444:     ; CALL OCCURS                     ; |1567| 
    5943 00002dd4 05900058             MV      .L1     A4,A11            ; 
    5944                            .line   847
    5945                    ;------------------------------------------------------------------------------
    5946                    ; 1568 | xCoord = rectL + (xCoord % rectW);                                     
    5947                    ;------------------------------------------------------------------------------
    5948 00002dd8 0FFA4810!            B       .S1     __remi            ; |1568| 
    5949 00002ddc 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    5950 00002de0 0196F82A'            MVKL    .S2     RL446,B3          ; |1568| 
    5951 00002de4 02280058             MV      .L1     A10,A4            ; 
    5952 00002de8 0180006A'            MVKH    .S2     RL446,B3          ; |1568| 
    5953 00002dec 00000000             NOP             1
    5954 00002df0           RL446:     ; CALL OCCURS                     ; |1568| 
    5955 00002df0 00209078             ADD     .L1X    A4,B8,A0          ; 
    5956 00002df4 05021008             EXTU    .S1     A0,16,16,A10      ; |1568| 
    5957                            .line   848
    5958                    ;------------------------------------------------------------------------------
    5959                    ; 1569 | yCoord = rectD + (yCoord % rectH);                                     
    5960                    ;------------------------------------------------------------------------------
    5961 00002df8 0FFA4410!            B       .S1     __remi            ; |1569| 
    5962 00002dfc 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    5963 00002e00 0197082A'            MVKL    .S2     RL448,B3          ; |1569| 
    5964 00002e04 022C0058             MV      .L1     A11,A4            ; 
    5965 00002e08 0180006A'            MVKH    .S2     RL448,B3          ; |1569| 
    5966 00002e0c 00000000             NOP             1
    5967 00002e10           RL448:     ; CALL OCCURS                     ; |1569| 
    5968 00002e10 00249078             ADD     .L1X    A4,B9,A0          ; 
    5969 00002e14 05821008             EXTU    .S1     A0,16,16,A11      ; |1569| 
    5970                            .line   849
    5971                    ;------------------------------------------------------------------------------
    5972                    ; 1571 | else                                                  //       OTHERWIS
    5973                    ;     | E, move coherently (same                                               
    5974                    ; 1572 | {                                                     //       algorith
    5975                    ;     | m as for OPTRECTWIN!):                                                 
    5976                    ; 1573 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    5977                    ;     | window, so dot displacement                                            
    5978                    ; 1574 | // is window displacement + pattern displacement!                      
    5979                    ;------------------------------------------------------------------------------
    5980 00002e18 00003290             B       .S1     L77               ; |1570| 
    5981 00002e1c 00008000             NOP             5
    5982                               ; BRANCH OCCURS                   ; |1570| 
    5983                    ;** --------------------------------------------------------------------------*
    5984 00002e20           L75:    
    5985                            .line   854
    5986                    ;------------------------------------------------------------------------------
    5987                    ; 1575 | xCoord = *a + hw + hv;                                                 
    5988                    ;------------------------------------------------------------------------------
    5989                    
    5990 00002e20 023C82C7             LDH     .D2T2   *+SP(8),B4        ; |1575| 
    5991 00002e24 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1575| 
    5993 00002e28 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |1575| 
    5992                    
    5994 00002e2c 00004000             NOP             3
    5995 00002e30 00101078             ADD     .L1X    B4,A0,A0          ; |1575| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  110

    5996 00002e34 00141078             ADD     .L1X    B5,A0,A0          ; |1575| 
    5997 00002e38 05021008             EXTU    .S1     A0,16,16,A10      ; |1575| 
    5998                            .line   855
    5999                    ;------------------------------------------------------------------------------
    6000                    ; 1576 | yCoord = *b + vw + vv;                                                 
    6001                    ;------------------------------------------------------------------------------
    6002 00002e3c 01BCA2C4             LDH     .D2T1   *+SP(10),A3       ; |1576| 
    6003 00002e40 001C0204             LDHU    .D1T1   *A7,A0            ; |1576| 
    6004 00002e44 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1576| 
    6005 00002e48 00004000             NOP             3
    6006 00002e4c 00006078             ADD     .L1     A3,A0,A0          ; |1576| 
    6007 00002e50 00101078             ADD     .L1X    B4,A0,A0          ; |1576| 
    6008 00002e54 05821008             EXTU    .S1     A0,16,16,A11      ; |1576| 
    6009                            .line   856
    6010                    ;------------------------------------------------------------------------------
    6011                    ; 1577 | if( (xCoord > rectR) || (xCoord < rectL) )                             
    6012                    ;------------------------------------------------------------------------------
    6013 00002e58 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1577| 
    6014 00002e5c 90A15AF8     [!A1]   CMPLT   .L1X    A10,B8,A1         ; |1577| 
    6015 00002e60 90001390     [!A1]   B       .S1     L76               ; |1577| 
    6016 00002e64 00008000             NOP             5
    6017                               ; BRANCH OCCURS                   ; |1577| 
    6018                    ;** --------------------------------------------------------------------------*
    6019                            .line   858
    6020                    ;------------------------------------------------------------------------------
    6021                    ; 1579 | if( xCoord > rectR ) u16Over = xCoord - rectR;                         
    6022                    ;------------------------------------------------------------------------------
    6023 00002e68 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1579| 
    6024 00002e6c 802140F8     [ A1]   SUB     .L1     A10,A8,A0         ; |1579| 
    6025 00002e70 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1579| 
    6026                            .line   859
    6027                    ;------------------------------------------------------------------------------
    6028                    ; 1580 | else                 u16Over = rectL - xCoord;                         
    6029                    ;------------------------------------------------------------------------------
    6030 00002e74 922910FA     [!A1]   SUB     .L2X    B8,A10,B4         ; |1580| 
    6031 00002e78 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1580| 
    6032                            .line   860
    6033                    ;------------------------------------------------------------------------------
    6034                    ; 1581 | u16Over = u16Over % rectW;                                             
    6035                    ;------------------------------------------------------------------------------
    6036                    
    6037 00002e80 0FFA3011!            B       .S1     __remi            ; |1581| 
    6038 00002e84 023DC286  ||         LDHU    .D2T2   *+SP(28),B4       ; 
    6039                    
    6040 00002e88 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    6041 00002e8c 01974C2A'            MVKL    .S2     RL450,B3          ; |1581| 
    6042 00002e90 0180006A'            MVKH    .S2     RL450,B3          ; |1581| 
    6043 00002e94 00002000             NOP             2
    6044 00002e98           RL450:     ; CALL OCCURS                     ; |1581| 
    6045 00002e98 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1581| 
    6046                            .line   862
    6047                    ;------------------------------------------------------------------------------
    6048                    ; 1583 | if( hv > 0 )  xCoord = rectL + u16Over;                                
    6049                    ;------------------------------------------------------------------------------
    6050 00002e9c 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |1583| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  111

    6051 00002ea0 00006000             NOP             4
    6052 00002ea4 00100ADA             CMPGT   .L2     B4,0,B0           ; |1583| 
    6053 00002ea8 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1583| 
    6054 00002eac 00006000             NOP             4
    6055 00002eb0 20201078     [ B0]   ADD     .L1X    A0,B8,A0          ; |1583| 
    6056 00002eb4 25021008     [ B0]   EXTU    .S1     A0,16,16,A10      ; |1583| 
    6057                            .line   863
    6058                    ;------------------------------------------------------------------------------
    6059                    ; 1584 | else          xCoord = rectR - u16Over;                                
    6060                    ;------------------------------------------------------------------------------
    6061 00002eb8 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1584| 
    6062 00002ebc 00006000             NOP             4
    6063 00002ec0 301110F8     [!B0]   SUB     .L1X    A8,B4,A0          ; |1584| 
    6064 00002ec4 35021008     [!B0]   EXTU    .S1     A0,16,16,A10      ; |1584| 
    6065                            .line   865
    6066                    ;------------------------------------------------------------------------------
    6067                    ; 1586 | yCoord = (UINT16) GetRandNum();                                        
    6068                    ;------------------------------------------------------------------------------
    6069 00002ec8 0FFA2E10             B       .S1     _GetRandNum       ; |1586| 
    6070 00002ecc 01976C2A'            MVKL    .S2     RL452,B3          ; |1586| 
    6071 00002ed0 0180006A'            MVKH    .S2     RL452,B3          ; |1586| 
    6072 00002ed4 00004000             NOP             3
    6073 00002ed8           RL452:     ; CALL OCCURS                     ; |1586| 
    6074                            .line   866
    6075                    ;------------------------------------------------------------------------------
    6076                    ; 1587 | yCoord = rectD + (yCoord % rectH);                                     
    6077                    ;------------------------------------------------------------------------------
    6079 00002edc 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    6078 00002ed8 0FFA2810!            B       .S1     __remi            ; |1587| 
    6080 00002ee0 0197762A'            MVKL    .S2     RL454,B3          ; |1587| 
    6081 00002ee4 0180006A'            MVKH    .S2     RL454,B3          ; |1587| 
    6082 00002ee8 00002000             NOP             2
    6083 00002eec           RL454:     ; CALL OCCURS                     ; |1587| 
    6084 00002eec 00249078             ADD     .L1X    A4,B9,A0          ; 
    6085 00002ef0 05821008             EXTU    .S1     A0,16,16,A11      ; |1587| 
    6086                            .line   867
    6087 00002ef4 00001690             B       .S1     L77               ; |1588| 
    6088 00002ef8 00008000             NOP             5
    6089                               ; BRANCH OCCURS                   ; |1588| 
    6090                    ;** --------------------------------------------------------------------------*
    6091 00002efc           L76:    
    6092                            .line   868
    6093                    ;------------------------------------------------------------------------------
    6094                    ; 1589 | else if( (yCoord > rectU) || (yCoord < rectD) )                        
    6095                    ;------------------------------------------------------------------------------
    6097 00002f00 90A57AF8     [!A1]   CMPLT   .L1X    A11,B9,A1         ; |1589| 
    6096 00002efc 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1589| 
    6098 00002f04 90001290     [!A1]   B       .S1     L77               ; |1589| 
    6099 00002f08 00008000             NOP             5
    6100                               ; BRANCH OCCURS                   ; |1589| 
    6101                    ;** --------------------------------------------------------------------------*
    6102                            .line   870
    6103                    ;------------------------------------------------------------------------------
    6104                    ; 1591 | if( yCoord > rectU ) u16Over = yCoord - rectU;                         
    6105                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  112

    6106 00002f0c 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1591| 
    6107 00002f10 803560F8     [ A1]   SUB     .L1     A11,A13,A0        ; |1591| 
    6108 00002f14 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1591| 
    6109                            .line   871
    6110                    ;------------------------------------------------------------------------------
    6111                    ; 1592 | else                 u16Over = rectD - yCoord;                         
    6112                    ;------------------------------------------------------------------------------
    6113 00002f18 922D30FA     [!A1]   SUB     .L2X    B9,A11,B4         ; |1592| 
    6114 00002f1c 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1592| 
    6115                            .line   872
    6116                    ;------------------------------------------------------------------------------
    6117                    ; 1593 | u16Over = u16Over % rectH;                                             
    6118                    ;------------------------------------------------------------------------------
    6119                    
    6120 00002f20 0FFA1C11!            B       .S1     __remi            ; |1593| 
    6121 00002f24 023DE286  ||         LDHU    .D2T2   *+SP(30),B4       ; 
    6122                    
    6123 00002f28 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    6124 00002f2c 01979C2A'            MVKL    .S2     RL456,B3          ; |1593| 
    6125 00002f30 0180006A'            MVKH    .S2     RL456,B3          ; |1593| 
    6126 00002f34 00002000             NOP             2
    6127 00002f38           RL456:     ; CALL OCCURS                     ; |1593| 
    6128 00002f38 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1593| 
    6129                            .line   874
    6130                    ;------------------------------------------------------------------------------
    6131                    ; 1595 | if( vv > 0 )  yCoord = rectD + u16Over;                                
    6132                    ;------------------------------------------------------------------------------
    6133 00002f3c 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1595| 
    6134 00002f40 00006000             NOP             4
    6135 00002f44 00100ADA             CMPGT   .L2     B4,0,B0           ; |1595| 
    6136 00002f48 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1595| 
    6137 00002f4c 00006000             NOP             4
    6138 00002f50 20241078     [ B0]   ADD     .L1X    A0,B9,A0          ; |1595| 
    6139 00002f54 25821008     [ B0]   EXTU    .S1     A0,16,16,A11      ; |1595| 
    6140                            .line   875
    6141                    ;------------------------------------------------------------------------------
    6142                    ; 1596 | else          yCoord = rectU - u16Over;                                
    6143                    ;------------------------------------------------------------------------------
    6144 00002f58 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1596| 
    6145 00002f5c 00006000             NOP             4
    6146 00002f60 3011B0F8     [!B0]   SUB     .L1X    A13,B4,A0         ; |1596| 
    6147 00002f64 35821008     [!B0]   EXTU    .S1     A0,16,16,A11      ; |1596| 
    6148                            .line   877
    6149                    ;------------------------------------------------------------------------------
    6150                    ; 1598 | xCoord = (UINT16) GetRandNum();                                        
    6151                    ;------------------------------------------------------------------------------
    6152 00002f68 0FFA1A10             B       .S1     _GetRandNum       ; |1598| 
    6153 00002f6c 0197BC2A'            MVKL    .S2     RL458,B3          ; |1598| 
    6154 00002f70 0180006A'            MVKH    .S2     RL458,B3          ; |1598| 
    6155 00002f74 00004000             NOP             3
    6156 00002f78           RL458:     ; CALL OCCURS                     ; |1598| 
    6157                            .line   878
    6158                    ;------------------------------------------------------------------------------
    6159                    ; 1599 | xCoord = rectL + (xCoord % rectW);                                     
    6160                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  113

    6162 00002f7c 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    6161 00002f78 0FFA1410!            B       .S1     __remi            ; |1599| 
    6163 00002f80 0197C62A'            MVKL    .S2     RL460,B3          ; |1599| 
    6164 00002f84 0180006A'            MVKH    .S2     RL460,B3          ; |1599| 
    6165 00002f88 00002000             NOP             2
    6166 00002f8c           RL460:     ; CALL OCCURS                     ; |1599| 
    6167 00002f8c 00209078             ADD     .L1X    A4,B8,A0          ; 
    6168 00002f90 05021008             EXTU    .S1     A0,16,16,A10      ; |1599| 
    6169                    ;** --------------------------------------------------------------------------*
    6170 00002f94           L77:    
    6171                            .line   882
    6172                    ;------------------------------------------------------------------------------
    6173                    ; 1603 | *a = xCoord;                                                           
    6174                    ;------------------------------------------------------------------------------
    6176                            .line   883
    6175 00002f94 05240254             STH     .D1T1   A10,*A9           ; |1603| 
    6177                    ;------------------------------------------------------------------------------
    6178                    ; 1604 | *b = yCoord;                                                           
    6179                    ;------------------------------------------------------------------------------
    6180 00002f98 059C0254             STH     .D1T1   A11,*A7           ; |1604| 
    6181                            .line   885
    6182                    ;------------------------------------------------------------------------------
    6183                    ; 1606 | xyvals = ((*a << 16) | *b);                           //       draw the
    6184                    ;     |  dot                                                                   
    6185                    ;------------------------------------------------------------------------------
    6186 00002f9c 00240204             LDHU    .D1T1   *A9,A0            ; |1606| 
    6187 00002fa0 019C0204             LDHU    .D1T1   *A7,A3            ; |1606| 
    6188 00002fa4 00004000             NOP             3
    6189 00002fa8 00020CA0             SHL     .S1     A0,16,A0          ; |1606| 
    6190 00002fac 00006FF8             OR      .L1     A3,A0,A0          ; |1606| 
    6191 00002fb0 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1606| 
    6192                            .line   886
    6193                    ;------------------------------------------------------------------------------
    6194                    ; 1607 | while( *stataddr & 0x1 );                                              
    6195                    ;------------------------------------------------------------------------------
    6196 00002fb4 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1607| 
    6197 00002fb8 00006000             NOP             4
    6198 00002fbc 021002E6             LDW     .D2T2   *B4,B4            ; |1607| 
    6199 00002fc0 00006000             NOP             4
    6200 00002fc4 00102F5A             AND     .L2     1,B4,B0           ; |1607| 
    6201 00002fc8 30000590     [!B0]   B       .S1     L79               ; |1607| 
    6202 00002fcc 00008000             NOP             5
    6203                               ; BRANCH OCCURS                   ; |1607| 
    6204                    ;*----------------------------------------------------------------------------*
    6205                    ;*   SOFTWARE PIPELINE INFORMATION
    6206                    ;*      Disqualified loop: software pipelining disabled
    6207                    ;*----------------------------------------------------------------------------*
    6208 00002fd0           L78:    
    6209 00002fd0 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1607| 
    6210 00002fd4 00006000             NOP             4
    6211 00002fd8 021002E6             LDW     .D2T2   *B4,B4            ; |1607| 
    6212 00002fdc 00006000             NOP             4
    6213 00002fe0 00102F5A             AND     .L2     1,B4,B0           ; |1607| 
    6214 00002fe4 2FFFFE10     [ B0]   B       .S1     L78               ; |1607| 
    6215 00002fe8 00008000             NOP             5
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  114

    6216                               ; BRANCH OCCURS                   ; |1607| 
    6217                    ;** --------------------------------------------------------------------------*
    6218 00002fec           L79:    
    6219                            .line   887
    6220                    ;------------------------------------------------------------------------------
    6221                    ; 1608 | *locaddr = xyvals;                                                     
    6222                    ;------------------------------------------------------------------------------
    6224 00002ff0 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1608| 
    6223 00002fec 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1608| 
    6225 00002ff4 00006000             NOP             4
    6226 00002ff8 021402F6             STW     .D2T2   B4,*B5            ; |1608| 
    6227                            .line   888
    6228                    ;------------------------------------------------------------------------------
    6229                    ; 1609 | visibleDotsXY[nTotalVisDots++] = xyvals;              //       save pac
    6230                    ;     | ked coords in visi dots array                                          
    6231                    ;------------------------------------------------------------------------------
    6232 00002ffc 033DC2E6             LDW     .D2T2   *+SP(56),B6       ; |1609| 
    6233 00003000 028030EE             LDW     .D2T2   *+SP(192),B5      ; |1609| 
    6234 00003004 0230105A             MV      .L2X    A12,B4            ; 
    6235 00003008 06302058             ADD     .L1     1,A12,A12         ; 
    6236 0000300c 00002000             NOP             2
    6237 00003010 03148AF6             STW     .D2T2   B6,*+B5[B4]       ; |1609| 
    6238                            .line   889
    6239                    ;------------------------------------------------------------------------------
    6240                    ; 1610 | a++;                                                                   
    6241                    ;------------------------------------------------------------------------------
    6242 00003014 04A44058             ADD     .L1     2,A9,A9           ; |1610| 
    6243                            .line   890
    6244                    ;------------------------------------------------------------------------------
    6245                    ; 1611 | b++;                                                                   
    6246                    ;------------------------------------------------------------------------------
    6247 00003018 039C4058             ADD     .L1     2,A7,A7           ; |1611| 
    6248                            .line   891
    6249 0000301c 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1612| 
    6250 00003020 8FFFAA10     [ A1]   B       .S1     L74               ; |1612| 
    6251 00003024 00008000             NOP             5
    6252                               ; BRANCH OCCURS                   ; |1612| 
    6253                    ;** --------------------------------------------------------------------------*
    6254                            .line   892
    6255 00003028 0003F390             B       .S1     L133              ; |1613| 
    6256 0000302c 00008000             NOP             5
    6257                               ; BRANCH OCCURS                   ; |1613| 
    6258                    ;** --------------------------------------------------------------------------*
    6259 00003030           L80:    
    6260                            .line   893
    6261                    ;------------------------------------------------------------------------------
    6262                    ; 1614 | else if( u16Type == DOTLIFEWIN )                            // DOTLIFEW
    6263                    ;     | IN: Similar to OPTRECTWIN, but dots                                    
    6264                    ; 1615 | {                                                           // have a l
    6265                    ;     | imited lifetime...                                                     
    6266                    ;------------------------------------------------------------------------------
    6268 00003034 00006000             NOP             4
    6267 00003030 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1614| 
    6269 00003038 00110A5A             CMPEQ   .L2     B4,8,B0           ; |1614| 
    6270 0000303c 30008410     [!B0]   B       .S1     L88               ; |1614| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  115

    6271 00003040 00008000             NOP             5
    6272                               ; BRANCH OCCURS                   ; |1614| 
    6273                    ;** --------------------------------------------------------------------------*
    6274                            .line   895
    6275                    ;------------------------------------------------------------------------------
    6276                    ; 1616 | rectW = hsize[d];                                        //    so we do
    6277                    ;     | n't do repeat array accesses in                                        
    6278                    ;------------------------------------------------------------------------------
    6279 00003044 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1616| 
    6280 00003048 02802BEE             LDW     .D2T2   *+SP(172),B5      ; |1616| 
    6281 0000304c 00006000             NOP             4
    6282 00003050 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |1616| 
    6283 00003054 00006000             NOP             4
    6284 00003058 02BDC2D6             STH     .D2T2   B5,*+SP(28)       ; |1616| 
    6285                            .line   896
    6286                    ;------------------------------------------------------------------------------
    6287                    ; 1617 | rectH = vsize[d];                                        //    the draw
    6288                    ;     |  loop below...                                                         
    6289                    ;------------------------------------------------------------------------------
    6290 0000305c 01802CEC             LDW     .D2T1   *+SP(176),A3      ; |1617| 
    6291 00003060 00101058             MV      .L1X    B4,A0
    6292 00003064 00004000             NOP             3
    6293 00003068 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |1617| 
    6294 0000306c 00006000             NOP             4
    6295 00003070 003DE2D4             STH     .D2T1   A0,*+SP(30)       ; |1617| 
    6296                            .line   898
    6297                    ;------------------------------------------------------------------------------
    6298                    ; 1619 | if( (rectR <= rectL) || (rectU <= rectD) )               //    turn off
    6299                    ;     |  target if target rect is invalid                                      
    6300                    ; 1620 | {                                                        //    due to a
    6301                    ;     |  screen wrap-around                                                    
    6302                    ;------------------------------------------------------------------------------
    6303 00003074 002118F8             CMPGT   .L1X    A8,B8,A0          ; |1619| 
    6304 00003078 00802DD8             XOR     .L1     1,A0,A1           ; |1619| 
    6305 0000307c 92353AFA     [!A1]   CMPGT   .L2X    A13,B9,B4         ; |1619| 
    6306 00003080 90903DD8     [!A1]   XOR     .L1X    1,B4,A1           ; |1619| 
    6307                            .line   900
    6308                    ;------------------------------------------------------------------------------
    6309                    ; 1621 | nVisDotsPerTgt[d] = 0;                                                 
    6310                    ;------------------------------------------------------------------------------
    6311 00003084 82002EEC     [ A1]   LDW     .D2T1   *+SP(184),A4      ; |1621| 
    6312 00003088 81BF42E4     [ A1]   LDW     .D2T1   *+SP(104),A3      ; |1621| 
    6313 0000308c 800000F8     [ A1]   ZERO    .L1     A0                ; |1621| 
    6314 00003090 00004000             NOP             3
    6315 00003094 80106A54     [ A1]   STH     .D1T1   A0,*+A4[A3]       ; |1621| 
    6316                            .line   901
    6317                    ;------------------------------------------------------------------------------
    6318                    ; 1622 | a = de;                                                                
    6319                    ;------------------------------------------------------------------------------
    6320 00003098 84B80058     [ A1]   MV      .L1     A14,A9            ; |1622| 
    6321                            .line   902
    6322                    ;------------------------------------------------------------------------------
    6323                    ; 1624 | else                                                     //    otherwis
    6324                    ;     | e, all dots are drawn, since all                                       
    6325                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  116

    6326                            .line   904
    6327                    ;------------------------------------------------------------------------------
    6328                    ; 1625 | nVisDotsPerTgt[d] = parameters->wNumDots[d];          //    are restric
    6329                    ;     | ted to the tgt window.                                                 
    6330                    ;------------------------------------------------------------------------------
    6331 0000309c 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1625| 
    6332 000030a0 92002AEE     [!A1]   LDW     .D2T2   *+SP(168),B4      ; |1625| 
    6333 000030a4 00006000             NOP             4
    6334 000030a8 9210BA42     [!A1]   ADDAH   .D2     B4,B5,B4          ; |1625| 
    6335 000030ac 92002A52     [!A1]   ADDK    .S2     84,B4             ; |1625| 
    6336 000030b0 93100286     [!A1]   LDHU    .D2T2   *B4,B6            ; |1625| 
    6337 000030b4 92002EEE     [!A1]   LDW     .D2T2   *+SP(184),B4      ; |1625| 
    6338 000030b8 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1625| 
    6339 000030bc 00006000             NOP             4
    6340 000030c0 9310AAD6     [!A1]   STH     .D2T2   B6,*+B4[B5]       ; |1625| 
    6341                            .line   906
    6342                    ;------------------------------------------------------------------------------
    6343                    ; 1627 | u16Dummy = (UINT16) data[cd + NREPS];                    //    extract 
    6344                    ;     | dot life decrement from upper                                          
    6345                    ;------------------------------------------------------------------------------
    6346 000030c4 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |1627| 
    6347 000030c8 000032EC             LDW     .D2T1   *+SP(200),A0      ; |1627| 
    6348 000030cc 00004000             NOP             3
    6349 000030d0 01909058             ADD     .L1X    4,B4,A3           ; |1627| 
    6350 000030d4 00006A04             LDHU    .D1T1   *+A0[A3],A0       ; |1627| 
    6351 000030d8 00006000             NOP             4
    6352 000030dc 003E62D4             STH     .D2T1   A0,*+SP(38)       ; |1627| 
    6353                            .line   907
    6354                    ;------------------------------------------------------------------------------
    6355                    ; 1628 | u16Dummy = u16Dummy >> 8;                                //    byte of 
    6356                    ;     | NREPS field in motion update rec                                       
    6357                    ;------------------------------------------------------------------------------
    6358 000030e0 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1628| 
    6359 000030e4 00006000             NOP             4
    6360 000030e8 021109A2             SHRU    .S2     B4,8,B4           ; |1628| 
    6361 000030ec 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1628| 
    6362                            .line   908
    6363                    ;------------------------------------------------------------------------------
    6364                    ; 1629 | u16Dummy &= 0x000000FF;                                                
    6365                    ;------------------------------------------------------------------------------
    6366 000030f0 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1629| 
    6367 000030f4 00006000             NOP             4
    6368 000030f8 0213180A             EXTU    .S2     B4,24,24,B4       ; |1629| 
    6369 000030fc 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1629| 
    6370                            .line   909
    6371                    ;------------------------------------------------------------------------------
    6372                    ; 1630 | nDotLifeDecr = (INT16) u16Dummy;                                       
    6373                    ;------------------------------------------------------------------------------
    6374 00003100 023E62C6             LDH     .D2T2   *+SP(38),B4       ; |1630| 
    6375 00003104 00006000             NOP             4
    6376 00003108 023CC2D6             STH     .D2T2   B4,*+SP(12)       ; |1630| 
    6377                            .line   911
    6378                    ;------------------------------------------------------------------------------
    6379                    ; 1632 | nMaxDotLife = (UINT16) parameters->wOuterR[d];           //    max dot 
    6380                    ;     | life, restricted to [1..32767]                                         
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  117

    6381                    ;------------------------------------------------------------------------------
    6382 0000310c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1632| 
    6383 00003110 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1632| 
    6384 00003114 00006000             NOP             4
    6385 00003118 02149A42             ADDAH   .D2     B5,B4,B4          ; |1632| 
    6386 0000311c 0200CA52             ADDK    .S2     404,B4            ; |1632| 
    6387 00003120 02100286             LDHU    .D2T2   *B4,B4            ; |1632| 
    6388 00003124 00006000             NOP             4
    6389 00003128 023EC2D6             STH     .D2T2   B4,*+SP(44)       ; |1632| 
    6390                            .line   912
    6391                    ;------------------------------------------------------------------------------
    6392                    ; 1633 | if( nMaxDotLife < 1 ) nMaxDotLife = 1;                                 
    6393                    ;------------------------------------------------------------------------------
    6394 0000312c 023EC286             LDHU    .D2T2   *+SP(44),B4       ; |1633| 
    6395 00003130 00006000             NOP             4
    6396 00003134 00100ADA             CMPGT   .L2     B4,0,B0           ; |1633| 
    6397 00003138 320000AA     [!B0]   MVK     .S2     1,B4              ; |1633| 
    6398 0000313c 323EC2D6     [!B0]   STH     .D2T2   B4,*+SP(44)       ; |1633| 
    6399 00003140 30000410     [!B0]   B       .S1     L81               ; |1633| 
    6400 00003144 00008000             NOP             5
    6401                               ; BRANCH OCCURS                   ; |1633| 
    6402                    ;** --------------------------------------------------------------------------*
    6403                            .line   913
    6404                    ;------------------------------------------------------------------------------
    6405                    ; 1634 | else if( nMaxDotLife > 32767 ) nMaxDotLife = 32767;                    
    6406                    ;------------------------------------------------------------------------------
    6407 00003148 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |1634| 
    6408 0000314c 023FFFAA             MVK     .S2     32767,B4          ; |1634| 
    6409 00003150 00004000             NOP             3
    6410 00003154 0010A8FA             CMPGT   .L2     B5,B4,B0          ; |1634| 
    6411 00003158 203FFFA8     [ B0]   MVK     .S1     32767,A0          ; |1634| 
    6412 0000315c 203EC2D4     [ B0]   STH     .D2T1   A0,*+SP(44)       ; |1634| 
    6413                    ;** --------------------------------------------------------------------------*
    6414 00003160           L81:    
    6415                            .line   915
    6416                    ;------------------------------------------------------------------------------
    6417                    ; 1636 | while( a < de )                                          //    for each
    6418                    ;     |  dot in target:                                                        
    6419                    ; 1638 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    6420                    ;     | window, so dot displacement is                                         
    6421                    ; 1639 | // window displacement + pattern displacement!                         
    6422                    ;------------------------------------------------------------------------------
    6424 00003164 9003CB90     [!A1]   B       .S1     L133              ; |1636| 
    6423 00003160 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1636| 
    6425 00003168 00008000             NOP             5
    6426                               ; BRANCH OCCURS                   ; |1636| 
    6427                    ;** --------------------------------------------------------------------------*
    6428                    ;**   BEGIN LOOP L82
    6429                    ;** --------------------------------------------------------------------------*
    6430 0000316c           L82:    
    6431                            .line   919
    6432                    ;------------------------------------------------------------------------------
    6433                    ; 1640 | xCoord = *a + hw + hv;                                //       update i
    6434                    ;     | ts position                                                            
    6435                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  118

    6436                    
    6437 0000316c 023C82C7             LDH     .D2T2   *+SP(8),B4        ; |1640| 
    6438 00003170 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1640| 
    6440 00003174 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |1640| 
    6439                    
    6441 00003178 00004000             NOP             3
    6442 0000317c 00101078             ADD     .L1X    B4,A0,A0          ; |1640| 
    6443 00003180 00141078             ADD     .L1X    B5,A0,A0          ; |1640| 
    6444 00003184 05021008             EXTU    .S1     A0,16,16,A10      ; |1640| 
    6445                            .line   920
    6446                    ;------------------------------------------------------------------------------
    6447                    ; 1641 | yCoord = *b + vw + vv;                                                 
    6448                    ;------------------------------------------------------------------------------
    6449                    
    6450 00003188 001C0205             LDHU    .D1T1   *A7,A0            ; |1641| 
    6451 0000318c 02BCA2C6  ||         LDH     .D2T2   *+SP(10),B5       ; |1641| 
    6452                    
    6453 00003190 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1641| 
    6454 00003194 00004000             NOP             3
    6455 00003198 00141078             ADD     .L1X    B5,A0,A0          ; |1641| 
    6456 0000319c 00101078             ADD     .L1X    B4,A0,A0          ; |1641| 
    6457 000031a0 05821008             EXTU    .S1     A0,16,16,A11      ; |1641| 
    6458                            .line   921
    6459                    ;------------------------------------------------------------------------------
    6460                    ; 1642 | *nextDotLife = *nextDotLife - nDotLifeDecr;           //       update i
    6461                    ;     | ts current lifetime                                                    
    6462                    ;------------------------------------------------------------------------------
    6463 000031a4 020023EE             LDW     .D2T2   *+SP(140),B4      ; |1642| 
    6464 000031a8 02BCC2C6             LDH     .D2T2   *+SP(12),B5       ; |1642| 
    6465 000031ac 00004000             NOP             3
    6466 000031b0 031002C6             LDH     .D2T2   *B4,B6            ; |1642| 
    6467 000031b4 00006000             NOP             4
    6468 000031b8 0294C0FA             SUB     .L2     B6,B5,B5          ; |1642| 
    6469 000031bc 029002D6             STH     .D2T2   B5,*B4            ; |1642| 
    6470                            .line   923
    6471                    ;------------------------------------------------------------------------------
    6472                    ; 1644 | if( *nextDotLife < 0 )                                //       if dot's
    6473                    ;     |  lifetime has expired, then                                            
    6474                    ; 1645 | {                                                     //       randomly
    6475                    ;     |  repos dot in tgt window...                                            
    6476                    ;------------------------------------------------------------------------------
    6477 000031c0 028023EE             LDW     .D2T2   *+SP(140),B5      ; |1644| 
    6478 000031c4 00006000             NOP             4
    6479 000031c8 021402C6             LDH     .D2T2   *B5,B4            ; |1644| 
    6480 000031cc 00006000             NOP             4
    6481 000031d0 001008DA             CMPLT   .L2     B4,0,B0           ; |1644| 
    6482 000031d4 30001310     [!B0]   B       .S1     L83               ; |1644| 
    6483 000031d8 00008000             NOP             5
    6484                               ; BRANCH OCCURS                   ; |1644| 
    6485                    ;** --------------------------------------------------------------------------*
    6486                            .line   925
    6487                    ;------------------------------------------------------------------------------
    6488                    ; 1646 | *nextDotLife = nMaxDotLife;                                            
    6489                    ;------------------------------------------------------------------------------
    6490 000031dc 023EC2C6             LDH     .D2T2   *+SP(44),B4       ; |1646| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  119

    6491 000031e0 00006000             NOP             4
    6492 000031e4 021402D6             STH     .D2T2   B4,*B5            ; |1646| 
    6493                            .line   926
    6494                    ;------------------------------------------------------------------------------
    6495                    ; 1647 | xCoord = (UINT16) GetRandNum();                                        
    6496                    ;------------------------------------------------------------------------------
    6497 000031e8 0FF9CA10             B       .S1     _GetRandNum       ; |1647| 
    6498 000031ec 0198FC2A'            MVKL    .S2     RL462,B3          ; |1647| 
    6499 000031f0 0180006A'            MVKH    .S2     RL462,B3          ; |1647| 
    6500 000031f4 00004000             NOP             3
    6501 000031f8           RL462:     ; CALL OCCURS                     ; |1647| 
    6502 000031f8 05100058             MV      .L1     A4,A10            ; 
    6503                            .line   927
    6504                    ;------------------------------------------------------------------------------
    6505                    ; 1648 | yCoord = (UINT16) GetRandNum();                                        
    6506                    ;------------------------------------------------------------------------------
    6507 000031fc 0FF9CA10             B       .S1     _GetRandNum       ; |1648| 
    6508 00003200 0199062A'            MVKL    .S2     RL464,B3          ; |1648| 
    6509 00003204 0180006A'            MVKH    .S2     RL464,B3          ; |1648| 
    6510 00003208 00004000             NOP             3
    6511 0000320c           RL464:     ; CALL OCCURS                     ; |1648| 
    6512 0000320c 05900058             MV      .L1     A4,A11            ; 
    6513                            .line   928
    6514                    ;------------------------------------------------------------------------------
    6515                    ; 1649 | xCoord = rectL + (xCoord % rectW);                                     
    6516                    ;------------------------------------------------------------------------------
    6517 00003210 0FF9C010!            B       .S1     __remi            ; |1649| 
    6518 00003214 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    6519 00003218 0199142A'            MVKL    .S2     RL466,B3          ; |1649| 
    6520 0000321c 02280058             MV      .L1     A10,A4            ; 
    6521 00003220 0180006A'            MVKH    .S2     RL466,B3          ; |1649| 
    6522 00003224 00000000             NOP             1
    6523 00003228           RL466:     ; CALL OCCURS                     ; |1649| 
    6524 00003228 00209078             ADD     .L1X    A4,B8,A0          ; 
    6525 0000322c 05021008             EXTU    .S1     A0,16,16,A10      ; |1649| 
    6526                            .line   929
    6527                    ;------------------------------------------------------------------------------
    6528                    ; 1650 | yCoord = rectD + (yCoord % rectH);                                     
    6529                    ;------------------------------------------------------------------------------
    6530 00003230 0FF9BC10!            B       .S1     __remi            ; |1650| 
    6531 00003234 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    6532 00003238 0199242A'            MVKL    .S2     RL468,B3          ; |1650| 
    6533 0000323c 022C0058             MV      .L1     A11,A4            ; 
    6534 00003240 0180006A'            MVKH    .S2     RL468,B3          ; |1650| 
    6535 00003244 00000000             NOP             1
    6536 00003248           RL468:     ; CALL OCCURS                     ; |1650| 
    6537 00003248 00249078             ADD     .L1X    A4,B9,A0          ; 
    6538 0000324c 05821008             EXTU    .S1     A0,16,16,A11      ; |1650| 
    6539                            .line   930
    6540 00003250 00002A90             B       .S1     L85               ; |1651| 
    6541 00003254 00008000             NOP             5
    6542                               ; BRANCH OCCURS                   ; |1651| 
    6543                    ;** --------------------------------------------------------------------------*
    6544 00003258           L83:    
    6545                            .line   931
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  120

    6546                    ;------------------------------------------------------------------------------
    6547                    ; 1652 | else if( (xCoord > rectR) || (xCoord < rectL) )       //       otherwis
    6548                    ;     | e, behaves like OPTRECTWIN...                                          
    6549                    ; 1653 | {                                                     //       (see det
    6550                    ;     | ailed comments above)                                                  
    6551                    ;------------------------------------------------------------------------------
    6553 0000325c 90A15AF8     [!A1]   CMPLT   .L1X    A10,B8,A1         ; |1652| 
    6552 00003258 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1652| 
    6554 00003260 90001390     [!A1]   B       .S1     L84               ; |1652| 
    6555 00003264 00008000             NOP             5
    6556                               ; BRANCH OCCURS                   ; |1652| 
    6557                    ;** --------------------------------------------------------------------------*
    6558                            .line   933
    6559                    ;------------------------------------------------------------------------------
    6560                    ; 1654 | if( xCoord > rectR ) u16Over = xCoord - rectR;                         
    6561                    ;------------------------------------------------------------------------------
    6562 00003268 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1654| 
    6563 0000326c 802140F8     [ A1]   SUB     .L1     A10,A8,A0         ; |1654| 
    6564 00003270 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1654| 
    6565                            .line   934
    6566                    ;------------------------------------------------------------------------------
    6567                    ; 1655 | else                 u16Over = rectL - xCoord;                         
    6568                    ;------------------------------------------------------------------------------
    6569 00003274 922910FA     [!A1]   SUB     .L2X    B8,A10,B4         ; |1655| 
    6570 00003278 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1655| 
    6571                            .line   935
    6572                    ;------------------------------------------------------------------------------
    6573                    ; 1656 | u16Over = u16Over % rectW;                                             
    6574                    ;------------------------------------------------------------------------------
    6575                    
    6576 00003280 0FF9B011!            B       .S1     __remi            ; |1656| 
    6577 00003284 023DC286  ||         LDHU    .D2T2   *+SP(28),B4       ; 
    6578                    
    6579 00003288 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    6580 0000328c 01994C2A'            MVKL    .S2     RL470,B3          ; |1656| 
    6581 00003290 0180006A'            MVKH    .S2     RL470,B3          ; |1656| 
    6582 00003294 00002000             NOP             2
    6583 00003298           RL470:     ; CALL OCCURS                     ; |1656| 
    6584 00003298 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1656| 
    6585                            .line   937
    6586                    ;------------------------------------------------------------------------------
    6587                    ; 1658 | if( hv > 0 )  xCoord = rectL + u16Over;                                
    6588                    ;------------------------------------------------------------------------------
    6589 0000329c 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |1658| 
    6590 000032a0 00006000             NOP             4
    6591 000032a4 00100ADA             CMPGT   .L2     B4,0,B0           ; |1658| 
    6592 000032a8 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1658| 
    6593 000032ac 00006000             NOP             4
    6594 000032b0 20201078     [ B0]   ADD     .L1X    A0,B8,A0          ; |1658| 
    6595 000032b4 25021008     [ B0]   EXTU    .S1     A0,16,16,A10      ; |1658| 
    6596                            .line   938
    6597                    ;------------------------------------------------------------------------------
    6598                    ; 1659 | else          xCoord = rectR - u16Over;                                
    6599                    ;------------------------------------------------------------------------------
    6600 000032b8 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1659| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  121

    6601 000032bc 00006000             NOP             4
    6602 000032c0 301110F8     [!B0]   SUB     .L1X    A8,B4,A0          ; |1659| 
    6603 000032c4 35021008     [!B0]   EXTU    .S1     A0,16,16,A10      ; |1659| 
    6604                            .line   940
    6605                    ;------------------------------------------------------------------------------
    6606                    ; 1661 | yCoord = (UINT16) GetRandNum();                                        
    6607                    ;------------------------------------------------------------------------------
    6608 000032c8 0FF9AE10             B       .S1     _GetRandNum       ; |1661| 
    6609 000032cc 01996C2A'            MVKL    .S2     RL472,B3          ; |1661| 
    6610 000032d0 0180006A'            MVKH    .S2     RL472,B3          ; |1661| 
    6611 000032d4 00004000             NOP             3
    6612 000032d8           RL472:     ; CALL OCCURS                     ; |1661| 
    6613                            .line   941
    6614                    ;------------------------------------------------------------------------------
    6615                    ; 1662 | yCoord = rectD + (yCoord % rectH);                                     
    6616                    ;------------------------------------------------------------------------------
    6618 000032dc 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    6617 000032d8 0FF9A810!            B       .S1     __remi            ; |1662| 
    6619 000032e0 0199762A'            MVKL    .S2     RL474,B3          ; |1662| 
    6620 000032e4 0180006A'            MVKH    .S2     RL474,B3          ; |1662| 
    6621 000032e8 00002000             NOP             2
    6622 000032ec           RL474:     ; CALL OCCURS                     ; |1662| 
    6623 000032ec 00249078             ADD     .L1X    A4,B9,A0          ; 
    6624 000032f0 05821008             EXTU    .S1     A0,16,16,A11      ; |1662| 
    6625                            .line   942
    6626 000032f4 00001690             B       .S1     L85               ; |1663| 
    6627 000032f8 00008000             NOP             5
    6628                               ; BRANCH OCCURS                   ; |1663| 
    6629                    ;** --------------------------------------------------------------------------*
    6630 000032fc           L84:    
    6631                            .line   943
    6632                    ;------------------------------------------------------------------------------
    6633                    ; 1664 | else if( (yCoord > rectU) || (yCoord < rectD) )                        
    6634                    ;------------------------------------------------------------------------------
    6636 00003300 90A57AF8     [!A1]   CMPLT   .L1X    A11,B9,A1         ; |1664| 
    6635 000032fc 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1664| 
    6637 00003304 90001290     [!A1]   B       .S1     L85               ; |1664| 
    6638 00003308 00008000             NOP             5
    6639                               ; BRANCH OCCURS                   ; |1664| 
    6640                    ;** --------------------------------------------------------------------------*
    6641                            .line   945
    6642                    ;------------------------------------------------------------------------------
    6643                    ; 1666 | if( yCoord > rectU ) u16Over = yCoord - rectU;                         
    6644                    ;------------------------------------------------------------------------------
    6645 0000330c 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1666| 
    6646 00003310 803560F8     [ A1]   SUB     .L1     A11,A13,A0        ; |1666| 
    6647 00003314 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1666| 
    6648                            .line   946
    6649                    ;------------------------------------------------------------------------------
    6650                    ; 1667 | else                 u16Over = rectD - yCoord;                         
    6651                    ;------------------------------------------------------------------------------
    6652 00003318 922D30FA     [!A1]   SUB     .L2X    B9,A11,B4         ; |1667| 
    6653 0000331c 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1667| 
    6654                            .line   947
    6655                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  122

    6656                    ; 1668 | u16Over = u16Over % rectH;                                             
    6657                    ;------------------------------------------------------------------------------
    6658                    
    6659 00003320 0FF99C11!            B       .S1     __remi            ; |1668| 
    6660 00003324 023DE286  ||         LDHU    .D2T2   *+SP(30),B4       ; 
    6661                    
    6662 00003328 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    6663 0000332c 01999C2A'            MVKL    .S2     RL476,B3          ; |1668| 
    6664 00003330 0180006A'            MVKH    .S2     RL476,B3          ; |1668| 
    6665 00003334 00002000             NOP             2
    6666 00003338           RL476:     ; CALL OCCURS                     ; |1668| 
    6667 00003338 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1668| 
    6668                            .line   949
    6669                    ;------------------------------------------------------------------------------
    6670                    ; 1670 | if( vv > 0 )  yCoord = rectD + u16Over;                                
    6671                    ;------------------------------------------------------------------------------
    6672 0000333c 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1670| 
    6673 00003340 00006000             NOP             4
    6674 00003344 00100ADA             CMPGT   .L2     B4,0,B0           ; |1670| 
    6675 00003348 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1670| 
    6676 0000334c 00006000             NOP             4
    6677 00003350 20241078     [ B0]   ADD     .L1X    A0,B9,A0          ; |1670| 
    6678 00003354 25821008     [ B0]   EXTU    .S1     A0,16,16,A11      ; |1670| 
    6679                            .line   950
    6680                    ;------------------------------------------------------------------------------
    6681                    ; 1671 | else          yCoord = rectU - u16Over;                                
    6682                    ;------------------------------------------------------------------------------
    6683 00003358 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1671| 
    6684 0000335c 00006000             NOP             4
    6685 00003360 3011B0F8     [!B0]   SUB     .L1X    A13,B4,A0         ; |1671| 
    6686 00003364 35821008     [!B0]   EXTU    .S1     A0,16,16,A11      ; |1671| 
    6687                            .line   952
    6688                    ;------------------------------------------------------------------------------
    6689                    ; 1673 | xCoord = (UINT16) GetRandNum();                                        
    6690                    ;------------------------------------------------------------------------------
    6691 00003368 0FF99A10             B       .S1     _GetRandNum       ; |1673| 
    6692 0000336c 0199BC2A'            MVKL    .S2     RL478,B3          ; |1673| 
    6693 00003370 0180006A'            MVKH    .S2     RL478,B3          ; |1673| 
    6694 00003374 00004000             NOP             3
    6695 00003378           RL478:     ; CALL OCCURS                     ; |1673| 
    6696                            .line   953
    6697                    ;------------------------------------------------------------------------------
    6698                    ; 1674 | xCoord = rectL + (xCoord % rectW);                                     
    6699                    ;------------------------------------------------------------------------------
    6701 0000337c 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    6700 00003378 0FF99410!            B       .S1     __remi            ; |1674| 
    6702 00003380 0199C62A'            MVKL    .S2     RL480,B3          ; |1674| 
    6703 00003384 0180006A'            MVKH    .S2     RL480,B3          ; |1674| 
    6704 00003388 00002000             NOP             2
    6705 0000338c           RL480:     ; CALL OCCURS                     ; |1674| 
    6706 0000338c 00209078             ADD     .L1X    A4,B8,A0          ; 
    6707 00003390 05021008             EXTU    .S1     A0,16,16,A10      ; |1674| 
    6708                    ;** --------------------------------------------------------------------------*
    6709 00003394           L85:    
    6710                            .line   955
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  123

    6711                    ;------------------------------------------------------------------------------
    6712                    ; 1676 | *a = xCoord;                                                           
    6713                    ;------------------------------------------------------------------------------
    6715                            .line   956
    6714 00003394 05240254             STH     .D1T1   A10,*A9           ; |1676| 
    6716                    ;------------------------------------------------------------------------------
    6717                    ; 1677 | *b = yCoord;                                                           
    6718                    ;------------------------------------------------------------------------------
    6719 00003398 059C0254             STH     .D1T1   A11,*A7           ; |1677| 
    6720                            .line   958
    6721                    ;------------------------------------------------------------------------------
    6722                    ; 1679 | xyvals = ((*a << 16) | *b);                           //       draw the
    6723                    ;     |  dot                                                                   
    6724                    ;------------------------------------------------------------------------------
    6725 0000339c 00240204             LDHU    .D1T1   *A9,A0            ; |1679| 
    6726 000033a0 019C0204             LDHU    .D1T1   *A7,A3            ; |1679| 
    6727 000033a4 00004000             NOP             3
    6728 000033a8 00020CA0             SHL     .S1     A0,16,A0          ; |1679| 
    6729 000033ac 00006FF8             OR      .L1     A3,A0,A0          ; |1679| 
    6730 000033b0 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1679| 
    6731                            .line   959
    6732                    ;------------------------------------------------------------------------------
    6733                    ; 1680 | while( *stataddr & 0x1 );                                              
    6734                    ;------------------------------------------------------------------------------
    6735 000033b4 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1680| 
    6736 000033b8 00006000             NOP             4
    6737 000033bc 021002E6             LDW     .D2T2   *B4,B4            ; |1680| 
    6738 000033c0 00006000             NOP             4
    6739 000033c4 00102F5A             AND     .L2     1,B4,B0           ; |1680| 
    6740 000033c8 30000590     [!B0]   B       .S1     L87               ; |1680| 
    6741 000033cc 00008000             NOP             5
    6742                               ; BRANCH OCCURS                   ; |1680| 
    6743                    ;*----------------------------------------------------------------------------*
    6744                    ;*   SOFTWARE PIPELINE INFORMATION
    6745                    ;*      Disqualified loop: software pipelining disabled
    6746                    ;*----------------------------------------------------------------------------*
    6747 000033d0           L86:    
    6748 000033d0 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1680| 
    6749 000033d4 00006000             NOP             4
    6750 000033d8 021002E6             LDW     .D2T2   *B4,B4            ; |1680| 
    6751 000033dc 00006000             NOP             4
    6752 000033e0 00102F5A             AND     .L2     1,B4,B0           ; |1680| 
    6753 000033e4 2FFFFE10     [ B0]   B       .S1     L86               ; |1680| 
    6754 000033e8 00008000             NOP             5
    6755                               ; BRANCH OCCURS                   ; |1680| 
    6756                    ;** --------------------------------------------------------------------------*
    6757 000033ec           L87:    
    6758                            .line   960
    6759                    ;------------------------------------------------------------------------------
    6760                    ; 1681 | *locaddr = xyvals;                                                     
    6761                    ;------------------------------------------------------------------------------
    6763 000033f0 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |1681| 
    6762 000033ec 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1681| 
    6764 000033f4 00006000             NOP             4
    6765 000033f8 021402F6             STW     .D2T2   B4,*B5            ; |1681| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  124

    6766                            .line   961
    6767                    ;------------------------------------------------------------------------------
    6768                    ; 1682 | visibleDotsXY[nTotalVisDots++] = xyvals;              //       save pac
    6769                    ;     | ked coords in visi dots array                                          
    6770                    ;------------------------------------------------------------------------------
    6771 000033fc 033DC2E6             LDW     .D2T2   *+SP(56),B6       ; |1682| 
    6772 00003400 028030EE             LDW     .D2T2   *+SP(192),B5      ; |1682| 
    6773 00003404 0230105A             MV      .L2X    A12,B4            ; 
    6774 00003408 06302058             ADD     .L1     1,A12,A12         ; 
    6775 0000340c 00002000             NOP             2
    6776 00003410 03148AF6             STW     .D2T2   B6,*+B5[B4]       ; |1682| 
    6777                            .line   962
    6778                    ;------------------------------------------------------------------------------
    6779                    ; 1683 | a++;                                                  //       move on 
    6780                    ;     | to next dot                                                            
    6781                    ;------------------------------------------------------------------------------
    6782 00003414 04A44058             ADD     .L1     2,A9,A9           ; |1683| 
    6783                            .line   963
    6784                    ;------------------------------------------------------------------------------
    6785                    ; 1684 | b++;                                                                   
    6786                    ;------------------------------------------------------------------------------
    6787 00003418 039C4058             ADD     .L1     2,A7,A7           ; |1684| 
    6788                            .line   964
    6789                    ;------------------------------------------------------------------------------
    6790                    ; 1685 | nextDotLife++;                                                         
    6791                    ;------------------------------------------------------------------------------
    6792 0000341c 020023EE             LDW     .D2T2   *+SP(140),B4      ; |1685| 
    6793 00003420 00006000             NOP             4
    6794 00003424 0210405A             ADD     .L2     2,B4,B4           ; |1685| 
    6795 00003428 020023FE             STW     .D2T2   B4,*+SP(140)      ; |1685| 
    6796                            .line   965
    6797 0000342c 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1686| 
    6798 00003430 8FFFA990     [ A1]   B       .S1     L82               ; |1686| 
    6799 00003434 00008000             NOP             5
    6800                               ; BRANCH OCCURS                   ; |1686| 
    6801                    ;** --------------------------------------------------------------------------*
    6802                            .line   966
    6803 00003438 00037390             B       .S1     L133              ; |1687| 
    6804 0000343c 00008000             NOP             5
    6805                               ; BRANCH OCCURS                   ; |1687| 
    6806                    ;** --------------------------------------------------------------------------*
    6807 00003440           L88:    
    6808                            .line   967
    6809                    ;------------------------------------------------------------------------------
    6810                    ; 1688 | else if( u16Type == DL_NOISEDIR )                           // DL_NOISE
    6811                    ;     | DIR: Similar to DOTLIFEWIN, but dir                                    
    6812                    ; 1689 | {                                                           // of each 
    6813                    ;     | dot is randomly offset from pat dir.                                   
    6814                    ;------------------------------------------------------------------------------
    6816 00003444 00006000             NOP             4
    6815 00003440 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1688| 
    6817 00003448 00116A5A             CMPEQ   .L2     B4,11,B0          ; |1688| 
    6818 0000344c 3000E590     [!B0]   B       .S1     L100              ; |1688| 
    6819 00003450 00008000             NOP             5
    6820                               ; BRANCH OCCURS                   ; |1688| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  125

    6821                    ;** --------------------------------------------------------------------------*
    6822                            .line   969
    6823                    ;------------------------------------------------------------------------------
    6824                    ; 1690 | rectW = hsize[d];                                        //    so we do
    6825                    ;     | n't do repeat array accesses in                                        
    6826                    ;------------------------------------------------------------------------------
    6827 00003454 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1690| 
    6828 00003458 02802BEE             LDW     .D2T2   *+SP(172),B5      ; |1690| 
    6829 0000345c 00006000             NOP             4
    6830 00003460 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |1690| 
    6831 00003464 00006000             NOP             4
    6832 00003468 02BDC2D6             STH     .D2T2   B5,*+SP(28)       ; |1690| 
    6833                            .line   970
    6834                    ;------------------------------------------------------------------------------
    6835                    ; 1691 | rectH = vsize[d];                                        //    the draw
    6836                    ;     |  loop below...                                                         
    6837                    ;------------------------------------------------------------------------------
    6838 0000346c 01802CEC             LDW     .D2T1   *+SP(176),A3      ; |1691| 
    6839 00003470 00101058             MV      .L1X    B4,A0
    6840 00003474 00004000             NOP             3
    6841 00003478 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |1691| 
    6842 0000347c 00006000             NOP             4
    6843 00003480 003DE2D4             STH     .D2T1   A0,*+SP(30)       ; |1691| 
    6844                            .line   972
    6845                    ;------------------------------------------------------------------------------
    6846                    ; 1693 | if( (rectR <= rectL) || (rectU <= rectD) )               //    turn off
    6847                    ;     |  target if target rect is invalid                                      
    6848                    ; 1694 | {                                                        //    due to a
    6849                    ;     |  screen wrap-around                                                    
    6850                    ;------------------------------------------------------------------------------
    6851 00003484 002118F8             CMPGT   .L1X    A8,B8,A0          ; |1693| 
    6852 00003488 00802DD8             XOR     .L1     1,A0,A1           ; |1693| 
    6853 0000348c 92353AFA     [!A1]   CMPGT   .L2X    A13,B9,B4         ; |1693| 
    6854 00003490 90903DD8     [!A1]   XOR     .L1X    1,B4,A1           ; |1693| 
    6855                            .line   974
    6856                    ;------------------------------------------------------------------------------
    6857                    ; 1695 | nVisDotsPerTgt[d] = 0;                                                 
    6858                    ;------------------------------------------------------------------------------
    6859 00003494 82002EEC     [ A1]   LDW     .D2T1   *+SP(184),A4      ; |1695| 
    6860 00003498 81BF42E4     [ A1]   LDW     .D2T1   *+SP(104),A3      ; |1695| 
    6861 0000349c 800000F8     [ A1]   ZERO    .L1     A0                ; |1695| 
    6862 000034a0 00004000             NOP             3
    6863 000034a4 80106A54     [ A1]   STH     .D1T1   A0,*+A4[A3]       ; |1695| 
    6864                            .line   975
    6865                    ;------------------------------------------------------------------------------
    6866                    ; 1696 | a = de;                                                                
    6867                    ;------------------------------------------------------------------------------
    6868 000034a8 84B80058     [ A1]   MV      .L1     A14,A9            ; |1696| 
    6869                            .line   976
    6870                    ;------------------------------------------------------------------------------
    6871                    ; 1698 | else                                                     //    otherwis
    6872                    ;     | e, all dots are drawn, since all                                       
    6873                    ;------------------------------------------------------------------------------
    6874                            .line   978
    6875                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  126

    6876                    ; 1699 | nVisDotsPerTgt[d] = parameters->wNumDots[d];          //    are restric
    6877                    ;     | ted to the tgt window.                                                 
    6878                    ;------------------------------------------------------------------------------
    6879 000034ac 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1699| 
    6880 000034b0 92002AEE     [!A1]   LDW     .D2T2   *+SP(168),B4      ; |1699| 
    6881 000034b4 00006000             NOP             4
    6882 000034b8 9210BA42     [!A1]   ADDAH   .D2     B4,B5,B4          ; |1699| 
    6883 000034bc 92002A52     [!A1]   ADDK    .S2     84,B4             ; |1699| 
    6884 000034c0 93100286     [!A1]   LDHU    .D2T2   *B4,B6            ; |1699| 
    6885 000034c4 92002EEE     [!A1]   LDW     .D2T2   *+SP(184),B4      ; |1699| 
    6886 000034c8 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1699| 
    6887 000034cc 00006000             NOP             4
    6888 000034d0 9310AAD6     [!A1]   STH     .D2T2   B6,*+B4[B5]       ; |1699| 
    6889                            .line   980
    6890                    ;------------------------------------------------------------------------------
    6891                    ; 1701 | u16Dummy = (UINT16) data[cd + NREPS];                    //    extract 
    6892                    ;     | dot life decrement from upper                                          
    6893                    ;------------------------------------------------------------------------------
    6894 000034d4 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |1701| 
    6895 000034d8 000032EC             LDW     .D2T1   *+SP(200),A0      ; |1701| 
    6896 000034dc 00004000             NOP             3
    6897 000034e0 01909058             ADD     .L1X    4,B4,A3           ; |1701| 
    6898 000034e4 00006A04             LDHU    .D1T1   *+A0[A3],A0       ; |1701| 
    6899 000034e8 00006000             NOP             4
    6900 000034ec 003E62D4             STH     .D2T1   A0,*+SP(38)       ; |1701| 
    6901                            .line   981
    6902                    ;------------------------------------------------------------------------------
    6903                    ; 1702 | u16Dummy = u16Dummy >> 8;                                //    byte of 
    6904                    ;     | NREPS field in motion update rec                                       
    6905                    ;------------------------------------------------------------------------------
    6906 000034f0 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1702| 
    6907 000034f4 00006000             NOP             4
    6908 000034f8 021109A2             SHRU    .S2     B4,8,B4           ; |1702| 
    6909 000034fc 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1702| 
    6910                            .line   982
    6911                    ;------------------------------------------------------------------------------
    6912                    ; 1703 | u16Dummy &= 0x000000FF;                                                
    6913                    ;------------------------------------------------------------------------------
    6914 00003500 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1703| 
    6915 00003504 00006000             NOP             4
    6916 00003508 0213180A             EXTU    .S2     B4,24,24,B4       ; |1703| 
    6917 0000350c 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1703| 
    6918                            .line   983
    6919                    ;------------------------------------------------------------------------------
    6920                    ; 1704 | nDotLifeDecr = (INT16) u16Dummy;                                       
    6921                    ;------------------------------------------------------------------------------
    6922 00003510 023E62C6             LDH     .D2T2   *+SP(38),B4       ; |1704| 
    6923 00003514 00006000             NOP             4
    6924 00003518 023CC2D6             STH     .D2T2   B4,*+SP(12)       ; |1704| 
    6925                            .line   985
    6926                    ;------------------------------------------------------------------------------
    6927                    ; 1706 | nMaxDotLife = (UINT16) parameters->wOuterR[d];           //    max dot 
    6928                    ;     | life, restricted to [1..32767]                                         
    6929                    ;------------------------------------------------------------------------------
    6930 0000351c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1706| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  127

    6931 00003520 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1706| 
    6932 00003524 00006000             NOP             4
    6933 00003528 02149A42             ADDAH   .D2     B5,B4,B4          ; |1706| 
    6934 0000352c 0200CA52             ADDK    .S2     404,B4            ; |1706| 
    6935 00003530 02100286             LDHU    .D2T2   *B4,B4            ; |1706| 
    6936 00003534 00006000             NOP             4
    6937 00003538 023EC2D6             STH     .D2T2   B4,*+SP(44)       ; |1706| 
    6938                            .line   986
    6939                    ;------------------------------------------------------------------------------
    6940                    ; 1707 | if( nMaxDotLife < 1 ) nMaxDotLife = 1;                                 
    6941                    ;------------------------------------------------------------------------------
    6942 0000353c 023EC286             LDHU    .D2T2   *+SP(44),B4       ; |1707| 
    6943 00003540 00006000             NOP             4
    6944 00003544 00100ADA             CMPGT   .L2     B4,0,B0           ; |1707| 
    6945 00003548 320000AA     [!B0]   MVK     .S2     1,B4              ; |1707| 
    6946 0000354c 323EC2D6     [!B0]   STH     .D2T2   B4,*+SP(44)       ; |1707| 
    6947 00003550 30000610     [!B0]   B       .S1     L89               ; |1707| 
    6948 00003554 00008000             NOP             5
    6949                               ; BRANCH OCCURS                   ; |1707| 
    6950                    ;** --------------------------------------------------------------------------*
    6951                            .line   987
    6952                    ;------------------------------------------------------------------------------
    6953                    ; 1708 | else if( nMaxDotLife > 32767 ) nMaxDotLife = 32767;                    
    6954                    ;------------------------------------------------------------------------------
    6955 00003558 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |1708| 
    6956 0000355c 023FFFAA             MVK     .S2     32767,B4          ; |1708| 
    6957 00003560 00004000             NOP             3
    6958 00003564 0010A8FA             CMPGT   .L2     B5,B4,B0          ; |1708| 
    6959 00003568 203FFFA8     [ B0]   MVK     .S1     32767,A0          ; |1708| 
    6960 0000356c 203EC2D4     [ B0]   STH     .D2T1   A0,*+SP(44)       ; |1708| 
    6961                    ;** --------------------------------------------------------------------------*
    6962 00003570           L89:    
    6963                            .line   989
    6964                    ;------------------------------------------------------------------------------
    6965                    ; 1710 | if( nMaxDotLife == 32767 ) nDotLifeDecr = 0;             //    unlimite
    6966                    ;     | d dot life if max life=32767!                                          
    6967                    ;------------------------------------------------------------------------------
    6969 00003574 023FFFAA             MVK     .S2     32767,B4          ; |1710| 
    6968 00003570 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |1710| 
    6970 00003578 00004000             NOP             3
    6971 0000357c 0010AA7A             CMPEQ   .L2     B5,B4,B0          ; |1710| 
    6972 00003580 220000FA     [ B0]   ZERO    .L2     B4                ; |1710| 
    6973 00003584 223CC2D6     [ B0]   STH     .D2T2   B4,*+SP(12)       ; |1710| 
    6974                            .line   991
    6975                    ;------------------------------------------------------------------------------
    6976                    ; 1712 | u16tmp = (UINT16) parameters->wOuterL[d];                //    dir nois
    6977                    ;     | e offset range, N, in whole deg                                        
    6978                    ;------------------------------------------------------------------------------
    6979 00003588 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1712| 
    6980 0000358c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1712| 
    6981 00003590 00006000             NOP             4
    6982 00003594 03149A42             ADDAH   .D2     B5,B4,B6          ; |1712| 
    6983 00003598 0300EA52             ADDK    .S2     468,B6            ; |1712| 
    6984 0000359c 03180286             LDHU    .D2T2   *B6,B6            ; |1712| 
    6985 000035a0 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  128

    6986 000035a4 033E82D6             STH     .D2T2   B6,*+SP(40)       ; |1712| 
    6987                            .line   992
    6988                    ;------------------------------------------------------------------------------
    6989                    ; 1713 | u16Dummy = (UINT16) parameters->wOuterL[d] * 2 + 1;      //    # of int
    6990                    ;     | eger choices in [-N:N]                                                 
    6991                    ;------------------------------------------------------------------------------
    6992 000035a8 02949A42             ADDAH   .D2     B5,B4,B5          ; |1713| 
    6993 000035ac 0280EA52             ADDK    .S2     468,B5            ; |1713| 
    6994 000035b0 02940286             LDHU    .D2T2   *B5,B5            ; |1713| 
    6995 000035b4 00006000             NOP             4
    6996 000035b8 02942CA2             SHL     .S2     B5,1,B5           ; |1713| 
    6997 000035bc 0294205A             ADD     .L2     1,B5,B5           ; |1713| 
    6998 000035c0 02BE62D6             STH     .D2T2   B5,*+SP(38)       ; |1713| 
    6999                            .line   994
    7000                    ;------------------------------------------------------------------------------
    7001                    ; 1715 | if( nNoiseUpdTicks[d] <= 0 )                             //    if noise
    7002                    ;     |  update intv expired, choose                                           
    7003                    ; 1716 | {                                                        //    new rand
    7004                    ;     | om offset directions for each dot                                      
    7005                    ;------------------------------------------------------------------------------
    7006 000035c4 01802FEC             LDW     .D2T1   *+SP(188),A3      ; |1715| 
    7007 000035c8 00101058             MV      .L1X    B4,A0
    7008 000035cc 00004000             NOP             3
    7009 000035d0 000C0A44             LDH     .D1T1   *+A3[A0],A0       ; |1715| 
    7010 000035d4 00006000             NOP             4
    7011 000035d8 00800AD8             CMPGT   .L1     A0,0,A1           ; |1715| 
    7012 000035dc 80001C10     [ A1]   B       .S1     L92               ; |1715| 
    7013 000035e0 00008000             NOP             5
    7014                               ; BRANCH OCCURS                   ; |1715| 
    7015                    ;** --------------------------------------------------------------------------*
    7016                            .line   996
    7017                    ;------------------------------------------------------------------------------
    7018                    ; 1717 | j = nVisDotsPerTgt[d];                                                 
    7019                    ;------------------------------------------------------------------------------
    7020 000035e4 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |1717| 
    7021 000035e8 00006000             NOP             4
    7022 000035ec 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |1717| 
    7023 000035f0 00006000             NOP             4
    7024 000035f4 02BEC2F6             STW     .D2T2   B5,*+SP(88)       ; |1717| 
    7025                            .line   997
    7026                    ;------------------------------------------------------------------------------
    7027                    ; 1718 | for( k=0; k<j; k++ )                                                   
    7028                    ;------------------------------------------------------------------------------
    7029 000035f8 020000FA             ZERO    .L2     B4                ; |1718| 
    7030 000035fc 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1718| 
    7031 00003600 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    7032 00003604 30000F90     [!B0]   B       .S1     L91               ; |1718| 
    7033 00003608 00008000             NOP             5
    7034                               ; BRANCH OCCURS                   ; |1718| 
    7035                    ;*----------------------------------------------------------------------------*
    7036                    ;*   SOFTWARE PIPELINE INFORMATION
    7037                    ;*      Disqualified loop: software pipelining disabled
    7038                    ;*----------------------------------------------------------------------------*
    7039 0000360c           L90:    
    7040                            .line   999
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  129

    7041                    ;------------------------------------------------------------------------------
    7042                    ; 1720 | i32val = (INT32) (GetRandNum2() % u16Dummy);       //       choose rand
    7043                    ;     | om offset dir in [-N:N]                                                
    7044                    ;------------------------------------------------------------------------------
    7046 00003610 019B0E2A'            MVKL    .S2     RL484,B3          ; |1720| 
    7045 0000360c 0FF95190             B       .S1     _GetRandNum2      ; |1720| 
    7047 00003614 0180006A'            MVKH    .S2     RL484,B3          ; |1720| 
    7048 00003618 00004000             NOP             3
    7049 0000361c           RL484:     ; CALL OCCURS                     ; |1720| 
    7050 0000361c 0FF94010!            B       .S1     __remi            ; |1720| 
    7051 00003620 023E6286             LDHU    .D2T2   *+SP(38),B4       ; 
    7052 00003624 019B182A'            MVKL    .S2     RL486,B3          ; |1720| 
    7053 00003628 0180006A'            MVKH    .S2     RL486,B3          ; |1720| 
    7054 0000362c 00002000             NOP             2
    7055 00003630           RL486:     ; CALL OCCURS                     ; |1720| 
    7056 00003630 0590105A             MV      .L2X    A4,B11            ; 
    7057                            .line   1000
    7058                    ;------------------------------------------------------------------------------
    7059                    ; 1721 | i32val -= (INT32) u16tmp;                          //       NOTE USE OF
    7060                    ;     |  DEDICATED RAND# GENERATOR                                             
    7061                    ;------------------------------------------------------------------------------
    7062 00003634 023E8286             LDHU    .D2T2   *+SP(40),B4       ; |1721| 
    7063 00003638 00006000             NOP             4
    7064 0000363c 059160FA             SUB     .L2     B11,B4,B11        ; |1721| 
    7065                            .line   1001
    7066                    ;------------------------------------------------------------------------------
    7067                    ; 1722 | i32val *= 10;                                      //       offset dir 
    7068                    ;     | in deg/10                                                              
    7069                    ;------------------------------------------------------------------------------
    7070 00003640 022C6CA2             SHL     .S2     B11,3,B4          ; |1722| 
    7071 00003644 05917A42             ADDAH   .D2     B4,B11,B11        ; |1722| 
    7072                            .line   1002
    7073                    ;------------------------------------------------------------------------------
    7074                    ; 1723 | *(nextDotNoise+k) = (INT16) i32val;                //       save new of
    7075                    ;     | fset dir for every dot                                                 
    7076                    ;------------------------------------------------------------------------------
    7077 00003648 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |1723| 
    7078 0000364c 020025EE             LDW     .D2T2   *+SP(148),B4      ; |1723| 
    7079 00003650 00006000             NOP             4
    7080 00003654 0590AAD6             STH     .D2T2   B11,*+B4[B5]      ; |1723| 
    7081                            .line   1003
    7082 00003658 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1724| 
    7083 0000365c 00006000             NOP             4
    7084 00003660 0210205A             ADD     .L2     1,B4,B4           ; |1724| 
    7085 00003664 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |1724| 
    7086 00003668 02BEC2E6             LDW     .D2T2   *+SP(88),B5       ; |1724| 
    7087 0000366c 00006000             NOP             4
    7088 00003670 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    7089 00003674 2FFFF590     [ B0]   B       .S1     L90               ; |1724| 
    7090 00003678 00008000             NOP             5
    7091                               ; BRANCH OCCURS                   ; |1724| 
    7092                    ;** --------------------------------------------------------------------------*
    7093 0000367c           L91:    
    7094                            .line   1005
    7095                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  130

    7096                    ; 1726 | nNoiseUpdTicks[d] = (INT16) parameters->wOuterT[d];   //       reload n
    7097                    ;     | oise update intv timer                                                 
    7098                    ;------------------------------------------------------------------------------
    7100 00003680 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1726| 
    7099 0000367c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1726| 
    7101 00003684 00006000             NOP             4
    7102 00003688 02949A42             ADDAH   .D2     B5,B4,B5          ; |1726| 
    7103 0000368c 02810A52             ADDK    .S2     532,B5            ; |1726| 
    7104 00003690 031402C6             LDH     .D2T2   *B5,B6            ; |1726| 
    7105 00003694 02802FEE             LDW     .D2T2   *+SP(188),B5      ; |1726| 
    7106 00003698 00006000             NOP             4
    7107 0000369c 03148AD6             STH     .D2T2   B6,*+B5[B4]       ; |1726| 
    7108                    ;** --------------------------------------------------------------------------*
    7109 000036a0           L92:    
    7110                            .line   1008
    7111                    ;------------------------------------------------------------------------------
    7112                    ; 1729 | nNoiseUpdTicks[d] -= 2 * (data[cd+NREPS] & 0x000000FF);  //    decremen
    7113                    ;     | t noise update intv timer                                              
    7114                    ; 1731 | // STRATEGY: hv = Rmm*2^Q, where Q=16 for Rmm < 0.1, or Q=10 otherwise.
    7115                    ;     |  If THETA>=10000, then Q=10. For                                       
    7116                    ; 1732 | // the practical range of display geometries and pattern velocities, we
    7117                    ;     |  can expect that Rmm < 2^5, so                                         
    7118                    ; 1733 | // hv < 2^21 worst-case. Since the trig lookup tables are pre-scaled by
    7119                    ;     |  2^10, we have:                                                        
    7120                    ; 1734 | //   Xmm(scaled) = Rmm*2^Q*2^10*cos(TH) = Rmm*cos(TH)*2^(Q+10) = Xmm*2^
    7121                    ;     | (Q+10)                                                                 
    7122                    ; 1735 | //   Xpix(scaled)= Xmm*(2^16/screenW_mm)*2^(Q-6) = Xpix*2^(Q-6) = Xpix*
    7123                    ;     | 2^(P), P=4 or 10.                                                      
    7124                    ; 1736 | // When P=10, we divide by 2^6 so that we leave in a scale factor of 2^
    7125                    ;     | 4. We then add in the fractional                                       
    7126                    ; 1737 | // pixel displacement from the previous frame update, also scaled by 2^
    7127                    ;     | 4. We then save the fractional                                         
    7128                    ; 1738 | // pixel displacement for the next update and get the integer pixel dis
    7129                    ;     | placement for this frame, Xpix.                                        
    7130                    ; 1739 | // Analogously, for Ypix.                                              
    7131                    ;------------------------------------------------------------------------------
    7133 000036a4 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1729| 
    7132 000036a0 02802FEE             LDW     .D2T2   *+SP(188),B5      ; |1729| 
    7134 000036a8 03BF62E6             LDW     .D2T2   *+SP(108),B7      ; |1729| 
    7135 000036ac 030032EE             LDW     .D2T2   *+SP(200),B6      ; |1729| 
    7136 000036b0 00004000             NOP             3
    7137                    
    7138 000036b4 02149A43             ADDAH   .D2     B5,B4,B4          ; |1729| 
    7139 000036b8 029C805A  ||         ADD     .L2     4,B7,B5           ; |1729| 
    7140                    
    7141 000036bc 0298AAC6             LDH     .D2T2   *+B6[B5],B5       ; |1729| 
    7142 000036c0 031002C6             LDH     .D2T2   *B4,B6            ; |1729| 
    7143 000036c4 00004000             NOP             3
    7144 000036c8 0297180A             EXTU    .S2     B5,24,24,B5       ; |1729| 
    7145 000036cc 0298BAC2             SUBAH   .D2     B6,B5,B5          ; |1729| 
    7146 000036d0 029002D6             STH     .D2T2   B5,*B4            ; |1729| 
    7147                            .line   1019
    7148                    ;------------------------------------------------------------------------------
    7149                    ; 1740 | i16Scale = 6;                                                          
    7150                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  131

    7151 000036d4 00000328             MVK     .S1     6,A0              ; |1740| 
    7152 000036d8 003DA2D4             STH     .D2T1   A0,*+SP(26)       ; |1740| 
    7153                            .line   1020
    7154                    ;------------------------------------------------------------------------------
    7155                    ; 1741 | if( vv >= 10000 )                                                      
    7156                    ;------------------------------------------------------------------------------
    7157 000036dc 02BC62C6             LDH     .D2T2   *+SP(6),B5        ; |1741| 
    7158 000036e0 0213882A             MVK     .S2     10000,B4          ; |1741| 
    7159 000036e4 00004000             NOP             3
    7160 000036e8 0010AAFA             CMPLT   .L2     B5,B4,B0          ; |1741| 
    7161                            .line   1022
    7162                    ;------------------------------------------------------------------------------
    7163                    ; 1743 | vv -= 10000;                                                           
    7164                    ;------------------------------------------------------------------------------
    7165 000036ec 323C62C6     [!B0]   LDH     .D2T2   *+SP(6),B4        ; |1743| 
    7166 000036f0 00006000             NOP             4
    7167 000036f4 326C7852     [!B0]   ADDK    .S2     -10000,B4         ; |1743| 
    7168 000036f8 323C62D6     [!B0]   STH     .D2T2   B4,*+SP(6)        ; |1743| 
    7169                            .line   1023
    7170                    ;------------------------------------------------------------------------------
    7171                    ; 1744 | i16Scale = 0;                                                          
    7172                    ;------------------------------------------------------------------------------
    7173 000036fc 320000FA     [!B0]   ZERO    .L2     B4                ; |1744| 
    7174 00003700 323DA2D6     [!B0]   STH     .D2T2   B4,*+SP(26)       ; |1744| 
    7175                            .line   1026
    7176                    ;------------------------------------------------------------------------------
    7177                    ; 1747 | while( a < de )                                          //    for each
    7178                    ;     |  dot in target:                                                        
    7179                    ;------------------------------------------------------------------------------
    7180 00003704 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1747| 
    7181 00003708 90031790     [!A1]   B       .S1     L133              ; |1747| 
    7182 0000370c 00008000             NOP             5
    7183                               ; BRANCH OCCURS                   ; |1747| 
    7184                    ;** --------------------------------------------------------------------------*
    7185                    ;**   BEGIN LOOP L93
    7186                    ;** --------------------------------------------------------------------------*
    7187 00003710           L93:    
    7188                            .line   1028
    7189                    ;------------------------------------------------------------------------------
    7190                    ; 1749 | *nextDotLife = *nextDotLife - nDotLifeDecr;           //       update d
    7191                    ;     | ot's current lifetime; if it                                           
    7192                    ;------------------------------------------------------------------------------
    7194 00003714 033CC2C6             LDH     .D2T2   *+SP(12),B6       ; |1749| 
    7193 00003710 020023EE             LDW     .D2T2   *+SP(140),B4      ; |1749| 
    7195 00003718 00004000             NOP             3
    7196 0000371c 029002C6             LDH     .D2T2   *B4,B5            ; |1749| 
    7197 00003720 00006000             NOP             4
    7198 00003724 0298A0FA             SUB     .L2     B5,B6,B5          ; |1749| 
    7199 00003728 029002D6             STH     .D2T2   B5,*B4            ; |1749| 
    7200                            .line   1029
    7201                    ;------------------------------------------------------------------------------
    7202                    ; 1750 | if( *nextDotLife < 0 )                                //       has expi
    7203                    ;     | red, reset it and randomly                                             
    7204                    ; 1751 | {                                                     //       repositi
    7205                    ;     | on dot in tgt window BEFORE                                            
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  132

    7206                    ;------------------------------------------------------------------------------
    7207 0000372c 020023EE             LDW     .D2T2   *+SP(140),B4      ; |1750| 
    7208 00003730 00006000             NOP             4
    7209 00003734 029002C6             LDH     .D2T2   *B4,B5            ; |1750| 
    7210 00003738 00006000             NOP             4
    7211 0000373c 001408DA             CMPLT   .L2     B5,0,B0           ; |1750| 
    7212 00003740 30000F90     [!B0]   B       .S1     L94               ; |1750| 
    7213 00003744 00008000             NOP             5
    7214                               ; BRANCH OCCURS                   ; |1750| 
    7215                    ;** --------------------------------------------------------------------------*
    7216                            .line   1031
    7217                    ;------------------------------------------------------------------------------
    7218                    ; 1752 | *nextDotLife = nMaxDotLife;                        //       MOVING IT! 
    7219                    ;------------------------------------------------------------------------------
    7220 00003748 02BEC2C6             LDH     .D2T2   *+SP(44),B5       ; |1752| 
    7221 0000374c 00006000             NOP             4
    7222 00003750 029002D6             STH     .D2T2   B5,*B4            ; |1752| 
    7223                            .line   1032
    7224                    ;------------------------------------------------------------------------------
    7225                    ; 1753 | xCoord = (UINT16) GetRandNum();                                        
    7226                    ;------------------------------------------------------------------------------
    7227 00003754 0FF91E10             B       .S1     _GetRandNum       ; |1753| 
    7228 00003758 019BB22A'            MVKL    .S2     RL488,B3          ; |1753| 
    7229 0000375c 0180006A'            MVKH    .S2     RL488,B3          ; |1753| 
    7230 00003760 00004000             NOP             3
    7231 00003764           RL488:     ; CALL OCCURS                     ; |1753| 
    7232 00003764 05100058             MV      .L1     A4,A10            ; 
    7233                            .line   1033
    7234                    ;------------------------------------------------------------------------------
    7235                    ; 1754 | yCoord = (UINT16) GetRandNum();                                        
    7236                    ;------------------------------------------------------------------------------
    7237 00003768 0FF91A10             B       .S1     _GetRandNum       ; |1754| 
    7238 0000376c 019BBC2A'            MVKL    .S2     RL490,B3          ; |1754| 
    7239 00003770 0180006A'            MVKH    .S2     RL490,B3          ; |1754| 
    7240 00003774 00004000             NOP             3
    7241 00003778           RL490:     ; CALL OCCURS                     ; |1754| 
    7242 00003778 05900058             MV      .L1     A4,A11            ; 
    7243                            .line   1034
    7244                    ;------------------------------------------------------------------------------
    7245                    ; 1755 | *a = rectL + (xCoord % rectW);                                         
    7246                    ;------------------------------------------------------------------------------
    7247 0000377c 0FF91410!            B       .S1     __remi            ; |1755| 
    7248 00003780 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    7249 00003784 019BCA2A'            MVKL    .S2     RL492,B3          ; |1755| 
    7250 00003788 02280058             MV      .L1     A10,A4            ; 
    7251 0000378c 0180006A'            MVKH    .S2     RL492,B3          ; |1755| 
    7252 00003790 00000000             NOP             1
    7253 00003794           RL492:     ; CALL OCCURS                     ; |1755| 
    7254 00003794 00209078             ADD     .L1X    A4,B8,A0          ; 
    7255 00003798 00240254             STH     .D1T1   A0,*A9            ; |1755| 
    7256                            .line   1035
    7257                    ;------------------------------------------------------------------------------
    7258                    ; 1756 | *b = rectD + (yCoord % rectH);                                         
    7259                    ;------------------------------------------------------------------------------
    7260 0000379c 0FF91010!            B       .S1     __remi            ; |1756| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  133

    7261 000037a0 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    7262 000037a4 019BDA2A'            MVKL    .S2     RL494,B3          ; |1756| 
    7263 000037a8 022C0058             MV      .L1     A11,A4            ; 
    7264 000037ac 0180006A'            MVKH    .S2     RL494,B3          ; |1756| 
    7265 000037b0 00000000             NOP             1
    7266 000037b4           RL494:     ; CALL OCCURS                     ; |1756| 
    7267 000037b4 00249078             ADD     .L1X    A4,B9,A0          ; 
    7268 000037b8 001C0254             STH     .D1T1   A0,*A7            ; |1756| 
    7269                    ;** --------------------------------------------------------------------------*
    7270 000037bc           L94:    
    7271                            .line   1038
    7272                    ;------------------------------------------------------------------------------
    7273                    ; 1759 | i32val = (INT32) *nextDotNoise;                       //       get nois
    7274                    ;     | e offset dir for this dot                                              
    7275                    ;------------------------------------------------------------------------------
    7277 000037c0 00006000             NOP             4
    7276 000037bc 020025EE             LDW     .D2T2   *+SP(148),B4      ; |1759| 
    7278 000037c4 059002C6             LDH     .D2T2   *B4,B11           ; |1759| 
    7279 000037c8 00006000             NOP             4
    7280                            .line   1039
    7281                    ;------------------------------------------------------------------------------
    7282                    ; 1760 | i32val += (INT32) vv;                                 //       dot thet
    7283                    ;     | a = offset + pattern theta                                             
    7284                    ;------------------------------------------------------------------------------
    7285 000037cc 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1760| 
    7286 000037d0 00006000             NOP             4
    7287 000037d4 05AC807A             ADD     .L2     B4,B11,B11        ; |1760| 
    7288                            .line   1040
    7289                    ;------------------------------------------------------------------------------
    7290                    ; 1761 | if( i32val < 0 ) i32val += 3600;                      //       ensure d
    7291                    ;     | ir lies in [0..3600) deg/10                                            
    7292                    ;------------------------------------------------------------------------------
    7293 000037d8 002C08DA             CMPLT   .L2     B11,0,B0          ; |1761| 
    7294 000037dc 25870852     [ B0]   ADDK    .S2     3600,B11          ; |1761| 
    7295 000037e0 20000490     [ B0]   B       .S1     L95               ; |1761| 
    7296 000037e4 00008000             NOP             5
    7297                               ; BRANCH OCCURS                   ; |1761| 
    7298                    ;** --------------------------------------------------------------------------*
    7299                            .line   1041
    7300                    ;------------------------------------------------------------------------------
    7301                    ; 1762 | else i32val = i32val % 3600;                                           
    7302                    ;------------------------------------------------------------------------------
    7303 000037e8 0FF90410!            B       .S1     __remi            ; |1762| 
    7304 000037ec 019C002A'            MVKL    .S2     RL496,B3          ; |1762| 
    7305 000037f0 0207082A             MVK     .S2     0xe10,B4          ; |1762| 
    7306 000037f4 0180006A'            MVKH    .S2     RL496,B3          ; |1762| 
    7307 000037f8 022C1058             MV      .L1X    B11,A4            ; |1762| 
    7308 000037fc 00000000             NOP             1
    7309 00003800           RL496:     ; CALL OCCURS                     ; |1762| 
    7310 00003800 0590105A             MV      .L2X    A4,B11            ; 
    7311                    ;** --------------------------------------------------------------------------*
    7312 00003804           L95:    
    7313                            .line   1042
    7314                    ;------------------------------------------------------------------------------
    7315                    ; 1763 | i16Theta = (INT16) i32val;                                             
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  134

    7316                    ;------------------------------------------------------------------------------
    7318                            .line   1044
    7317 00003804 05BD82D6             STH     .D2T2   B11,*+SP(24)      ; |1763| 
    7319                    ;------------------------------------------------------------------------------
    7320                    ; 1765 | i32val = (INT32) hv;                                  //       Rmm*2^Q,
    7321                    ;     |  Q=10 or 16                                                            
    7322                    ;------------------------------------------------------------------------------
    7323 00003808 05BC42C6             LDH     .D2T2   *+SP(4),B11       ; |1765| 
    7324 0000380c 00006000             NOP             4
    7325                            .line   1045
    7326                    ;------------------------------------------------------------------------------
    7327                    ; 1766 | i32val *= (INT32) cosLUT[i16Theta];                   //       (Rmm*cos
    7328                    ;     | (theta)) * 2^(Q+10)                                                    
    7329                    ;------------------------------------------------------------------------------
    7330 00003810 028036EE             LDW     .D2T2   *+SP(216),B5      ; |1766| 
    7331 00003814 023D82C6             LDH     .D2T2   *+SP(24),B4       ; |1766| 
    7332 00003818 00006000             NOP             4
    7333 0000381c 02948AC6             LDH     .D2T2   *+B5[B4],B5       ; |1766| 
    7334 00003820 00006000             NOP             4
    7335 00003824 022CA882             MPYLH   .M2     B5,B11,B4         ; |1766| 
    7336 00003828 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |1766| 
    7337 0000382c 02120CA2             SHL     .S2     B4,16,B4          ; |1766| 
    7338 00003830 0590A07A             ADD     .L2     B5,B4,B11         ; |1766| 
    7339                            .line   1046
    7340                    ;------------------------------------------------------------------------------
    7341                    ; 1767 | i32val /= screenW_mm;                                 //       Xmm*2^(4
    7342                    ;     | +K)*(2^16/screenW_mm)                                                  
    7343                    ; 1768 | //       = Xpix*2^(4+K), K=0 or 6                                      
    7344                    ;------------------------------------------------------------------------------
    7345 00003834 0FF8FC10!            B       .S1     __divi            ; |1767| 
    7346 00003838 023E0286             LDHU    .D2T2   *+SP(32),B4       ; 
    7347 0000383c 019C262A'            MVKL    .S2     RL498,B3          ; |1767| 
    7348 00003840 022C1058             MV      .L1X    B11,A4            ; |1767| 
    7349 00003844 0180006A'            MVKH    .S2     RL498,B3          ; |1767| 
    7350 00003848 00000000             NOP             1
    7351 0000384c           RL498:     ; CALL OCCURS                     ; |1767| 
    7352 0000384c 0590105A             MV      .L2X    A4,B11            ; 
    7353                            .line   1048
    7354                    ;------------------------------------------------------------------------------
    7355                    ; 1769 | i32val >>= i16Scale;                                  //       Xpix*2^4
    7356                    ;------------------------------------------------------------------------------
    7357 00003850 023DA2C6             LDH     .D2T2   *+SP(26),B4       ; |1769| 
    7358 00003854 00006000             NOP             4
    7359 00003858 05AC8DE2             SHR     .S2     B11,B4,B11        ; |1769| 
    7360                            .line   1049
    7361                    ;------------------------------------------------------------------------------
    7362                    ; 1770 | i32val += *nextFracDX;                                //       add in f
    7363                    ;     | racDX*2^4 from last frame                                              
    7364                    ;------------------------------------------------------------------------------
    7365 0000385c 020027EE             LDW     .D2T2   *+SP(156),B4      ; |1770| 
    7366 00003860 00006000             NOP             4
    7367 00003864 029002C6             LDH     .D2T2   *B4,B5            ; |1770| 
    7368 00003868 00006000             NOP             4
    7369 0000386c 05ACA07A             ADD     .L2     B5,B11,B11        ; |1770| 
    7370                            .line   1050
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  135

    7371                    ;------------------------------------------------------------------------------
    7372                    ; 1771 | y32 = i32val;                                                          
    7373                    ;------------------------------------------------------------------------------
    7374 00003870 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |1771| 
    7375                            .line   1051
    7376                    ;------------------------------------------------------------------------------
    7377                    ; 1772 | i32val >>= 4;                                         //       xPix for
    7378                    ;     |  this frame                                                            
    7379                    ;------------------------------------------------------------------------------
    7380 00003874 05AC8DA2             SHR     .S2     B11,4,B11         ; |1772| 
    7381                            .line   1052
    7382                    ;------------------------------------------------------------------------------
    7383                    ; 1773 | xCoord = *a + hw + ((INT16) i32val);                  //       x = xOld
    7384                    ;     |  + hWin + Xpix                                                         
    7385                    ; 1774 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    7386                    ;     | window, so dot displacement is                                         
    7387                    ; 1775 | // window displacement + per-dot displacement!                         
    7388                    ;------------------------------------------------------------------------------
    7389                    
    7390 00003878 02BC82C7             LDH     .D2T2   *+SP(8),B5        ; |1773| 
    7391 0000387c 00240204  ||         LDHU    .D1T1   *A9,A0            ; |1773| 
    7392                    
    7393 00003880 00006000             NOP             4
    7394                    
    7395 00003884 00141079             ADD     .L1X    B5,A0,A0          ; |1773| 
    7396 00003888 02AE104A  ||         EXT     .S2     B11,16,16,B5      ; |1773| 
    7397                    
    7398 0000388c 00141078             ADD     .L1X    B5,A0,A0          ; |1773| 
    7399 00003890 05021008             EXTU    .S1     A0,16,16,A10      ; |1773| 
    7400                            .line   1056
    7401                    ;------------------------------------------------------------------------------
    7402                    ; 1777 | i32val <<= 4;                                         //       save fra
    7403                    ;     | cDX*2^4 for next frame                                                 
    7404                    ;------------------------------------------------------------------------------
    7405 00003894 05AC8CA2             SHL     .S2     B11,4,B11         ; |1777| 
    7406                            .line   1057
    7407                    ;------------------------------------------------------------------------------
    7408                    ; 1778 | *nextFracDX = (INT16) (y32 - i32val);                                  
    7409                    ; 1780 | // analogously for y-coordinate...                                     
    7410                    ;------------------------------------------------------------------------------
    7411 00003898 02BCA2E6             LDW     .D2T2   *+SP(20),B5       ; |1778| 
    7412 0000389c 00006000             NOP             4
    7413 000038a0 02ACA0FA             SUB     .L2     B5,B11,B5         ; |1778| 
    7414 000038a4 029002D6             STH     .D2T2   B5,*B4            ; |1778| 
    7415                            .line   1060
    7416                    ;------------------------------------------------------------------------------
    7417                    ; 1781 | i32val = (INT32) hv;                                                   
    7418                    ;------------------------------------------------------------------------------
    7419 000038a8 05BC42C6             LDH     .D2T2   *+SP(4),B11       ; |1781| 
    7420 000038ac 00006000             NOP             4
    7421                            .line   1061
    7422                    ;------------------------------------------------------------------------------
    7423                    ; 1782 | i32val *= (INT32) sinLUT[i16Theta];                                    
    7424                    ;------------------------------------------------------------------------------
    7425 000038b0 023D82C6             LDH     .D2T2   *+SP(24),B4       ; |1782| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  136

    7426 000038b4 028035EE             LDW     .D2T2   *+SP(212),B5      ; |1782| 
    7427 000038b8 00006000             NOP             4
    7428 000038bc 02948AC6             LDH     .D2T2   *+B5[B4],B5       ; |1782| 
    7429 000038c0 00006000             NOP             4
    7430 000038c4 022CA882             MPYLH   .M2     B5,B11,B4         ; |1782| 
    7431 000038c8 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |1782| 
    7432 000038cc 02120CA2             SHL     .S2     B4,16,B4          ; |1782| 
    7433 000038d0 0590A07A             ADD     .L2     B5,B4,B11         ; |1782| 
    7434                            .line   1062
    7435                    ;------------------------------------------------------------------------------
    7436                    ; 1783 | i32val /= screenH_mm;                                                  
    7437                    ;------------------------------------------------------------------------------
    7438 000038d4 0FF8E810!            B       .S1     __divi            ; |1783| 
    7439 000038d8 023E2286             LDHU    .D2T2   *+SP(34),B4       ; 
    7440 000038dc 019C762A'            MVKL    .S2     RL500,B3          ; |1783| 
    7441 000038e0 022C1058             MV      .L1X    B11,A4            ; |1783| 
    7442 000038e4 0180006A'            MVKH    .S2     RL500,B3          ; |1783| 
    7443 000038e8 00000000             NOP             1
    7444 000038ec           RL500:     ; CALL OCCURS                     ; |1783| 
    7445 000038ec 0590105A             MV      .L2X    A4,B11            ; 
    7446                            .line   1063
    7447                    ;------------------------------------------------------------------------------
    7448                    ; 1784 | i32val >>= i16Scale;                                                   
    7449                    ;------------------------------------------------------------------------------
    7450 000038f0 023DA2C6             LDH     .D2T2   *+SP(26),B4       ; |1784| 
    7451 000038f4 00006000             NOP             4
    7452 000038f8 05AC8DE2             SHR     .S2     B11,B4,B11        ; |1784| 
    7453                            .line   1064
    7454                    ;------------------------------------------------------------------------------
    7455                    ; 1785 | i32val += *nextFracDY;                                                 
    7456                    ;------------------------------------------------------------------------------
    7457 000038fc 028029EE             LDW     .D2T2   *+SP(164),B5      ; |1785| 
    7458 00003900 00006000             NOP             4
    7459 00003904 021402C6             LDH     .D2T2   *B5,B4            ; |1785| 
    7460 00003908 00006000             NOP             4
    7461 0000390c 05AC807A             ADD     .L2     B4,B11,B11        ; |1785| 
    7462                            .line   1065
    7463                    ;------------------------------------------------------------------------------
    7464                    ; 1786 | y32 = i32val;                                                          
    7465                    ;------------------------------------------------------------------------------
    7466 00003910 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |1786| 
    7467                            .line   1066
    7468                    ;------------------------------------------------------------------------------
    7469                    ; 1787 | i32val >>= 4;                                                          
    7470                    ;------------------------------------------------------------------------------
    7471 00003914 05AC8DA2             SHR     .S2     B11,4,B11         ; |1787| 
    7472                            .line   1067
    7473                    ;------------------------------------------------------------------------------
    7474                    ; 1788 | yCoord = *b + vw + ((INT16) i32val);                                   
    7475                    ;------------------------------------------------------------------------------
    7476                    
    7477 00003918 023CA2C7             LDH     .D2T2   *+SP(10),B4       ; |1788| 
    7478 0000391c 001C0204  ||         LDHU    .D1T1   *A7,A0            ; |1788| 
    7479                    
    7480 00003920 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  137

    7481                    
    7482 00003924 00101079             ADD     .L1X    B4,A0,A0          ; |1788| 
    7483 00003928 022E104A  ||         EXT     .S2     B11,16,16,B4      ; |1788| 
    7484                    
    7485 0000392c 00101078             ADD     .L1X    B4,A0,A0          ; |1788| 
    7486 00003930 05821008             EXTU    .S1     A0,16,16,A11      ; |1788| 
    7487                            .line   1068
    7488                    ;------------------------------------------------------------------------------
    7489                    ; 1789 | i32val <<= 4;                                                          
    7490                    ;------------------------------------------------------------------------------
    7491 00003934 05AC8CA2             SHL     .S2     B11,4,B11         ; |1789| 
    7492                            .line   1069
    7493                    ;------------------------------------------------------------------------------
    7494                    ; 1790 | *nextFracDY = (INT16) (y32 - i32val);                                  
    7495                    ;------------------------------------------------------------------------------
    7496 00003938 023CA2E6             LDW     .D2T2   *+SP(20),B4       ; |1790| 
    7497 0000393c 00006000             NOP             4
    7498 00003940 022C80FA             SUB     .L2     B4,B11,B4         ; |1790| 
    7499 00003944 021402D6             STH     .D2T2   B4,*B5            ; |1790| 
    7500                            .line   1071
    7501                    ;------------------------------------------------------------------------------
    7502                    ; 1792 | if( (xCoord > rectR) || (xCoord < rectL) )            //       if dot i
    7503                    ;     | s now outside tgt window,                                              
    7504                    ; 1793 | {                                                     //       wrap it 
    7505                    ;     | around as in the OPTRECTWIN                                            
    7506                    ;------------------------------------------------------------------------------
    7507 00003948 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1792| 
    7508 0000394c 90A15AF8     [!A1]   CMPLT   .L1X    A10,B8,A1         ; |1792| 
    7509 00003950 90001610     [!A1]   B       .S1     L96               ; |1792| 
    7510 00003954 00008000             NOP             5
    7511                               ; BRANCH OCCURS                   ; |1792| 
    7512                    ;** --------------------------------------------------------------------------*
    7513                            .line   1073
    7514                    ;------------------------------------------------------------------------------
    7515                    ; 1794 | if( xCoord > rectR ) u16Over = xCoord - rectR;     //       target...  
    7516                    ;------------------------------------------------------------------------------
    7517 00003958 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1794| 
    7518 0000395c 802140F8     [ A1]   SUB     .L1     A10,A8,A0         ; |1794| 
    7519 00003960 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1794| 
    7520                            .line   1074
    7521                    ;------------------------------------------------------------------------------
    7522                    ; 1795 | else                 u16Over = rectL - xCoord;                         
    7523                    ;------------------------------------------------------------------------------
    7524 00003964 922910FA     [!A1]   SUB     .L2X    B8,A10,B4         ; |1795| 
    7525 00003968 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1795| 
    7526                            .line   1075
    7527                    ;------------------------------------------------------------------------------
    7528                    ; 1796 | u16Over = u16Over % rectW;                                             
    7529                    ;------------------------------------------------------------------------------
    7530                    
    7531 0000396c 0FF8D411!            B       .S1     __remi            ; |1796| 
    7532 00003970 023DC286  ||         LDHU    .D2T2   *+SP(28),B4       ; 
    7533                    
    7534 00003974 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    7535 00003978 019CC22A'            MVKL    .S2     RL502,B3          ; |1796| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  138

    7536 0000397c 0180006A'            MVKH    .S2     RL502,B3          ; |1796| 
    7537 00003980 00002000             NOP             2
    7538 00003984           RL502:     ; CALL OCCURS                     ; |1796| 
    7539 00003984 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1796| 
    7540                            .line   1077
    7541                    ;------------------------------------------------------------------------------
    7542                    ; 1798 | if( (xCoord - *a) > hw )                           //       (each dot i
    7543                    ;     | s displaced differently                                                
    7544                    ;------------------------------------------------------------------------------
    7545 00003988 00240204             LDHU    .D1T1   *A9,A0            ; |1798| 
    7546 0000398c 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |1798| 
    7547 00003990 00004000             NOP             3
    7548 00003994 000140F8             SUB     .L1     A10,A0,A0         ; |1798| 
    7549 00003998 00009AFA             CMPGT   .L2X    A0,B4,B0          ; |1798| 
    7550                            .line   1078
    7551                    ;------------------------------------------------------------------------------
    7552                    ; 1799 | xCoord = rectL + u16Over;                       //       every frame in
    7553                    ;     |  this target!)                                                         
    7554                    ;------------------------------------------------------------------------------
    7555 0000399c 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1799| 
    7556 000039a0 00006000             NOP             4
    7557 000039a4 20201078     [ B0]   ADD     .L1X    A0,B8,A0          ; |1799| 
    7558 000039a8 25021008     [ B0]   EXTU    .S1     A0,16,16,A10      ; |1799| 
    7559                            .line   1079
    7560                    ;------------------------------------------------------------------------------
    7561                    ; 1800 | else xCoord = rectR - u16Over;                                         
    7562                    ;------------------------------------------------------------------------------
    7563 000039ac 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1800| 
    7564 000039b0 00006000             NOP             4
    7565 000039b4 301110F8     [!B0]   SUB     .L1X    A8,B4,A0          ; |1800| 
    7566 000039b8 35021008     [!B0]   EXTU    .S1     A0,16,16,A10      ; |1800| 
    7567                            .line   1081
    7568                    ;------------------------------------------------------------------------------
    7569                    ; 1802 | yCoord = (UINT16) GetRandNum();                                        
    7570                    ;------------------------------------------------------------------------------
    7571 000039bc 0FF8D210             B       .S1     _GetRandNum       ; |1802| 
    7572 000039c0 019CE62A'            MVKL    .S2     RL504,B3          ; |1802| 
    7573 000039c4 0180006A'            MVKH    .S2     RL504,B3          ; |1802| 
    7574 000039c8 00004000             NOP             3
    7575 000039cc           RL504:     ; CALL OCCURS                     ; |1802| 
    7576                            .line   1082
    7577                    ;------------------------------------------------------------------------------
    7578                    ; 1803 | yCoord = rectD + (yCoord % rectH);                                     
    7579                    ;------------------------------------------------------------------------------
    7581 000039d0 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    7580 000039cc 0FF8C810!            B       .S1     __remi            ; |1803| 
    7582 000039d4 019CF02A'            MVKL    .S2     RL506,B3          ; |1803| 
    7583 000039d8 0180006A'            MVKH    .S2     RL506,B3          ; |1803| 
    7584 000039dc 00002000             NOP             2
    7585 000039e0           RL506:     ; CALL OCCURS                     ; |1803| 
    7586 000039e0 00249078             ADD     .L1X    A4,B9,A0          ; 
    7587 000039e4 05821008             EXTU    .S1     A0,16,16,A11      ; |1803| 
    7588                            .line   1083
    7589 000039e8 00001610             B       .S1     L97               ; |1804| 
    7590 000039ec 00008000             NOP             5
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  139

    7591                               ; BRANCH OCCURS                   ; |1804| 
    7592                    ;** --------------------------------------------------------------------------*
    7593 000039f0           L96:    
    7594                            .line   1084
    7595                    ;------------------------------------------------------------------------------
    7596                    ; 1805 | else if( (yCoord > rectU) || (yCoord < rectD) )                        
    7597                    ;------------------------------------------------------------------------------
    7599 000039f4 90A57AF8     [!A1]   CMPLT   .L1X    A11,B9,A1         ; |1805| 
    7598 000039f0 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1805| 
    7600 000039f8 90001610     [!A1]   B       .S1     L97               ; |1805| 
    7601 000039fc 00008000             NOP             5
    7602                               ; BRANCH OCCURS                   ; |1805| 
    7603                    ;** --------------------------------------------------------------------------*
    7604                            .line   1086
    7605                    ;------------------------------------------------------------------------------
    7606                    ; 1807 | if( yCoord > rectU ) u16Over = yCoord - rectU;                         
    7607                    ;------------------------------------------------------------------------------
    7608 00003a00 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1807| 
    7609 00003a04 803560F8     [ A1]   SUB     .L1     A11,A13,A0        ; |1807| 
    7610 00003a08 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1807| 
    7611                            .line   1087
    7612                    ;------------------------------------------------------------------------------
    7613                    ; 1808 | else                 u16Over = rectD - yCoord;                         
    7614                    ;------------------------------------------------------------------------------
    7615 00003a0c 922D30FA     [!A1]   SUB     .L2X    B9,A11,B4         ; |1808| 
    7616 00003a10 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1808| 
    7617                            .line   1088
    7618                    ;------------------------------------------------------------------------------
    7619                    ; 1809 | u16Over = u16Over % rectH;                                             
    7620                    ;------------------------------------------------------------------------------
    7621                    
    7622 00003a14 0FF8C011!            B       .S1     __remi            ; |1809| 
    7623 00003a18 023DE286  ||         LDHU    .D2T2   *+SP(30),B4       ; 
    7624                    
    7625 00003a1c 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    7626 00003a20 019D162A'            MVKL    .S2     RL508,B3          ; |1809| 
    7627 00003a24 0180006A'            MVKH    .S2     RL508,B3          ; |1809| 
    7628 00003a28 00002000             NOP             2
    7629 00003a2c           RL508:     ; CALL OCCURS                     ; |1809| 
    7630 00003a2c 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1809| 
    7631                            .line   1090
    7632                    ;------------------------------------------------------------------------------
    7633                    ; 1811 | if( (yCoord - *b) > vw )                           //       (each dot i
    7634                    ;     | s displaced differently                                                
    7635                    ;------------------------------------------------------------------------------
    7636 00003a30 001C0204             LDHU    .D1T1   *A7,A0            ; |1811| 
    7637 00003a34 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |1811| 
    7638 00003a38 00004000             NOP             3
    7639 00003a3c 000160F8             SUB     .L1     A11,A0,A0         ; |1811| 
    7640 00003a40 00009AFA             CMPGT   .L2X    A0,B4,B0          ; |1811| 
    7641                            .line   1091
    7642                    ;------------------------------------------------------------------------------
    7643                    ; 1812 | yCoord = rectD + u16Over;                       //       every frame in
    7644                    ;     |  this target!)                                                         
    7645                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  140

    7646 00003a44 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1812| 
    7647 00003a48 00006000             NOP             4
    7648 00003a4c 20241078     [ B0]   ADD     .L1X    A0,B9,A0          ; |1812| 
    7649 00003a50 25821008     [ B0]   EXTU    .S1     A0,16,16,A11      ; |1812| 
    7650                            .line   1092
    7651                    ;------------------------------------------------------------------------------
    7652                    ; 1813 | else yCoord = rectU - u16Over;                                         
    7653                    ;------------------------------------------------------------------------------
    7654 00003a54 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1813| 
    7655 00003a58 00006000             NOP             4
    7656 00003a5c 3011B0F8     [!B0]   SUB     .L1X    A13,B4,A0         ; |1813| 
    7657 00003a60 35821008     [!B0]   EXTU    .S1     A0,16,16,A11      ; |1813| 
    7658                            .line   1094
    7659                    ;------------------------------------------------------------------------------
    7660                    ; 1815 | xCoord = (UINT16) GetRandNum();                                        
    7661                    ;------------------------------------------------------------------------------
    7662 00003a64 0FF8BA10             B       .S1     _GetRandNum       ; |1815| 
    7663 00003a68 019D3A2A'            MVKL    .S2     RL510,B3          ; |1815| 
    7664 00003a6c 0180006A'            MVKH    .S2     RL510,B3          ; |1815| 
    7665 00003a70 00004000             NOP             3
    7666 00003a74           RL510:     ; CALL OCCURS                     ; |1815| 
    7667                            .line   1095
    7668                    ;------------------------------------------------------------------------------
    7669                    ; 1816 | xCoord = rectL + (xCoord % rectW);                                     
    7670                    ;------------------------------------------------------------------------------
    7672 00003a78 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    7671 00003a74 0FF8B410!            B       .S1     __remi            ; |1816| 
    7673 00003a7c 019D442A'            MVKL    .S2     RL512,B3          ; |1816| 
    7674 00003a80 0180006A'            MVKH    .S2     RL512,B3          ; |1816| 
    7675 00003a84 00002000             NOP             2
    7676 00003a88           RL512:     ; CALL OCCURS                     ; |1816| 
    7677 00003a88 00209078             ADD     .L1X    A4,B8,A0          ; 
    7678 00003a8c 05021008             EXTU    .S1     A0,16,16,A10      ; |1816| 
    7679                    ;** --------------------------------------------------------------------------*
    7680 00003a90           L97:    
    7681                            .line   1098
    7682                    ;------------------------------------------------------------------------------
    7683                    ; 1819 | *a = xCoord;                                          //       remember
    7684                    ;     |  the new dot location!                                                 
    7685                    ;------------------------------------------------------------------------------
    7687                            .line   1099
    7686 00003a90 05240254             STH     .D1T1   A10,*A9           ; |1819| 
    7688                    ;------------------------------------------------------------------------------
    7689                    ; 1820 | *b = yCoord;                                                           
    7690                    ;------------------------------------------------------------------------------
    7691 00003a94 059C0254             STH     .D1T1   A11,*A7           ; |1820| 
    7692                            .line   1101
    7693                    ;------------------------------------------------------------------------------
    7694                    ; 1822 | xyvals = ((*a << 16) | *b);                           //       draw the
    7695                    ;     |  dot                                                                   
    7696                    ;------------------------------------------------------------------------------
    7697 00003a98 00240204             LDHU    .D1T1   *A9,A0            ; |1822| 
    7698 00003a9c 019C0204             LDHU    .D1T1   *A7,A3            ; |1822| 
    7699 00003aa0 00004000             NOP             3
    7700 00003aa4 00020CA0             SHL     .S1     A0,16,A0          ; |1822| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  141

    7701 00003aa8 00006FF8             OR      .L1     A3,A0,A0          ; |1822| 
    7702 00003aac 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1822| 
    7703                            .line   1102
    7704                    ;------------------------------------------------------------------------------
    7705                    ; 1823 | while( *stataddr & 0x1 );                                              
    7706                    ;------------------------------------------------------------------------------
    7707 00003ab0 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1823| 
    7708 00003ab4 00006000             NOP             4
    7709 00003ab8 021002E6             LDW     .D2T2   *B4,B4            ; |1823| 
    7710 00003abc 00006000             NOP             4
    7711 00003ac0 00102F5A             AND     .L2     1,B4,B0           ; |1823| 
    7712 00003ac4 30000510     [!B0]   B       .S1     L99               ; |1823| 
    7713 00003ac8 00008000             NOP             5
    7714                               ; BRANCH OCCURS                   ; |1823| 
    7715                    ;*----------------------------------------------------------------------------*
    7716                    ;*   SOFTWARE PIPELINE INFORMATION
    7717                    ;*      Disqualified loop: software pipelining disabled
    7718                    ;*----------------------------------------------------------------------------*
    7719 00003acc           L98:    
    7720 00003acc 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1823| 
    7721 00003ad0 00006000             NOP             4
    7722 00003ad4 021002E6             LDW     .D2T2   *B4,B4            ; |1823| 
    7723 00003ad8 00006000             NOP             4
    7724 00003adc 00102F5A             AND     .L2     1,B4,B0           ; |1823| 
    7725 00003ae0 2FFFFD90     [ B0]   B       .S1     L98               ; |1823| 
    7726 00003ae4 00008000             NOP             5
    7727                               ; BRANCH OCCURS                   ; |1823| 
    7728                    ;** --------------------------------------------------------------------------*
    7729 00003ae8           L99:    
    7730                            .line   1103
    7731                    ;------------------------------------------------------------------------------
    7732                    ; 1824 | *locaddr = xyvals;                                                     
    7733                    ;------------------------------------------------------------------------------
    7735 00003aec 003E42E4             LDW     .D2T1   *+SP(72),A0       ; |1824| 
    7734 00003ae8 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1824| 
    7736 00003af0 00006000             NOP             4
    7737 00003af4 02000276             STW     .D1T2   B4,*A0            ; |1824| 
    7738                            .line   1104
    7739                    ;------------------------------------------------------------------------------
    7740                    ; 1825 | visibleDotsXY[nTotalVisDots++] = xyvals;              //       save pac
    7741                    ;     | ked coords in visi dots array                                          
    7742                    ;------------------------------------------------------------------------------
    7743 00003af8 030030EE             LDW     .D2T2   *+SP(192),B6      ; |1825| 
    7744 00003afc 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1825| 
    7745 00003b00 02B0105A             MV      .L2X    A12,B5            ; 
    7746 00003b04 06302058             ADD     .L1     1,A12,A12         ; 
    7747 00003b08 00002000             NOP             2
    7748 00003b0c 0218AAF6             STW     .D2T2   B4,*+B6[B5]       ; |1825| 
    7749                            .line   1105
    7750                    ;------------------------------------------------------------------------------
    7751                    ; 1826 | a++;                                                  //       move on 
    7752                    ;     | to next dot                                                            
    7753                    ;------------------------------------------------------------------------------
    7754 00003b10 04A44058             ADD     .L1     2,A9,A9           ; |1826| 
    7755                            .line   1106
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  142

    7756                    ;------------------------------------------------------------------------------
    7757                    ; 1827 | b++;                                                                   
    7758                    ;------------------------------------------------------------------------------
    7759 00003b14 039C4058             ADD     .L1     2,A7,A7           ; |1827| 
    7760                            .line   1107
    7761                    ;------------------------------------------------------------------------------
    7762                    ; 1828 | nextDotLife++;                                                         
    7763                    ;------------------------------------------------------------------------------
    7764 00003b18 020023EE             LDW     .D2T2   *+SP(140),B4      ; |1828| 
    7765 00003b1c 00006000             NOP             4
    7766 00003b20 0210405A             ADD     .L2     2,B4,B4           ; |1828| 
    7767 00003b24 020023FE             STW     .D2T2   B4,*+SP(140)      ; |1828| 
    7768                            .line   1108
    7769                    ;------------------------------------------------------------------------------
    7770                    ; 1829 | nextDotNoise++;                                                        
    7771                    ;------------------------------------------------------------------------------
    7772 00003b28 020025EE             LDW     .D2T2   *+SP(148),B4      ; |1829| 
    7773 00003b2c 00006000             NOP             4
    7774 00003b30 0210405A             ADD     .L2     2,B4,B4           ; |1829| 
    7775 00003b34 020025FE             STW     .D2T2   B4,*+SP(148)      ; |1829| 
    7776                            .line   1109
    7777                    ;------------------------------------------------------------------------------
    7778                    ; 1830 | nextFracDX++;                                                          
    7779                    ;------------------------------------------------------------------------------
    7780 00003b38 020027EE             LDW     .D2T2   *+SP(156),B4      ; |1830| 
    7781 00003b3c 00006000             NOP             4
    7782 00003b40 0210405A             ADD     .L2     2,B4,B4           ; |1830| 
    7783 00003b44 020027FE             STW     .D2T2   B4,*+SP(156)      ; |1830| 
    7784                            .line   1110
    7785                    ;------------------------------------------------------------------------------
    7786                    ; 1831 | nextFracDY++;                                                          
    7787                    ;------------------------------------------------------------------------------
    7788 00003b48 020029EE             LDW     .D2T2   *+SP(164),B4      ; |1831| 
    7789 00003b4c 00006000             NOP             4
    7790 00003b50 0210405A             ADD     .L2     2,B4,B4           ; |1831| 
    7791 00003b54 020029FE             STW     .D2T2   B4,*+SP(164)      ; |1831| 
    7792                            .line   1111
    7793 00003b58 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1832| 
    7794 00003b5c 8FFF7A10     [ A1]   B       .S1     L93               ; |1832| 
    7795 00003b60 00008000             NOP             5
    7796                               ; BRANCH OCCURS                   ; |1832| 
    7797                    ;** --------------------------------------------------------------------------*
    7798                            .line   1112
    7799 00003b64 00028B90             B       .S1     L133              ; |1833| 
    7800 00003b68 00008000             NOP             5
    7801                               ; BRANCH OCCURS                   ; |1833| 
    7802                    ;** --------------------------------------------------------------------------*
    7803 00003b6c           L100:    
    7804                            .line   1113
    7805                    ;------------------------------------------------------------------------------
    7806                    ; 1834 | else if((u16Type == DL_NOISESPEED) &&                       // DL_NOISE
    7807                    ;     | SPEED #1: Like DL_NOISEDIR, but                                        
    7808                    ; 1835 | (parameters->wOuterB[d] == 0))                      // Rdot = Rpat + U*
    7809                    ;     | Rpat/100, where U is chosen                                            
    7810                    ; 1836 | {                                                           // randomly
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  143

    7811                    ;     |  from [-N..N].                                                         
    7812                    ;------------------------------------------------------------------------------
    7814 00003b70 00006000             NOP             4
    7813 00003b6c 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1834| 
    7815 00003b74 0011AA5A             CMPEQ   .L2     B4,13,B0          ; |1834| 
    7816 00003b78 22802AEE     [ B0]   LDW     .D2T2   *+SP(168),B5      ; |1834| 
    7817 00003b7c 223F42E6     [ B0]   LDW     .D2T2   *+SP(104),B4      ; |1834| 
    7818 00003b80 00006000             NOP             4
    7819 00003b84 22149A42     [ B0]   ADDAH   .D2     B5,B4,B4          ; |1834| 
    7820 00003b88 22012A52     [ B0]   ADDK    .S2     596,B4            ; |1834| 
    7821 00003b8c 22100286     [ B0]   LDHU    .D2T2   *B4,B4            ; |1834| 
    7822 00003b90 00006000             NOP             4
    7823 00003b94 20100A5A     [ B0]   CMPEQ   .L2     B4,0,B0           ; |1834| 
    7824 00003b98 3000E810     [!B0]   B       .S1     L111              ; |1834| 
    7825 00003b9c 00008000             NOP             5
    7826                               ; BRANCH OCCURS                   ; |1834| 
    7827                    ;** --------------------------------------------------------------------------*
    7828                            .line   1116
    7829                    ;------------------------------------------------------------------------------
    7830                    ; 1837 | rectW = hsize[d];                                        //    so we do
    7831                    ;     | n't do repeat array accesses in                                        
    7832                    ;------------------------------------------------------------------------------
    7833 00003ba0 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1837| 
    7834 00003ba4 02802BEE             LDW     .D2T2   *+SP(172),B5      ; |1837| 
    7835 00003ba8 00006000             NOP             4
    7836 00003bac 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |1837| 
    7837 00003bb0 00006000             NOP             4
    7838 00003bb4 02BDC2D6             STH     .D2T2   B5,*+SP(28)       ; |1837| 
    7839                            .line   1117
    7840                    ;------------------------------------------------------------------------------
    7841                    ; 1838 | rectH = vsize[d];                                        //    the draw
    7842                    ;     |  loop below...                                                         
    7843                    ;------------------------------------------------------------------------------
    7844 00003bb8 01802CEC             LDW     .D2T1   *+SP(176),A3      ; |1838| 
    7845 00003bbc 00101058             MV      .L1X    B4,A0
    7846 00003bc0 00004000             NOP             3
    7847 00003bc4 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |1838| 
    7848 00003bc8 00006000             NOP             4
    7849 00003bcc 003DE2D4             STH     .D2T1   A0,*+SP(30)       ; |1838| 
    7850                            .line   1119
    7851                    ;------------------------------------------------------------------------------
    7852                    ; 1840 | if( (rectR <= rectL) || (rectU <= rectD) )               //    turn off
    7853                    ;     |  target if target rect is invalid                                      
    7854                    ; 1841 | {                                                        //    due to a
    7855                    ;     |  screen wrap-around                                                    
    7856                    ;------------------------------------------------------------------------------
    7857 00003bd0 002118F8             CMPGT   .L1X    A8,B8,A0          ; |1840| 
    7858 00003bd4 00802DD8             XOR     .L1     1,A0,A1           ; |1840| 
    7859 00003bd8 92353AFA     [!A1]   CMPGT   .L2X    A13,B9,B4         ; |1840| 
    7860 00003bdc 90903DD8     [!A1]   XOR     .L1X    1,B4,A1           ; |1840| 
    7861                            .line   1121
    7862                    ;------------------------------------------------------------------------------
    7863                    ; 1842 | nVisDotsPerTgt[d] = 0;                                                 
    7864                    ;------------------------------------------------------------------------------
    7865 00003be0 823F42E4     [ A1]   LDW     .D2T1   *+SP(104),A4      ; |1842| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  144

    7866 00003be4 81802EEC     [ A1]   LDW     .D2T1   *+SP(184),A3      ; |1842| 
    7867 00003be8 800000F8     [ A1]   ZERO    .L1     A0                ; |1842| 
    7868 00003bec 00004000             NOP             3
    7869 00003bf0 800C8A54     [ A1]   STH     .D1T1   A0,*+A3[A4]       ; |1842| 
    7870                            .line   1122
    7871                    ;------------------------------------------------------------------------------
    7872                    ; 1843 | a = de;                                                                
    7873                    ;------------------------------------------------------------------------------
    7874 00003bf4 84B80058     [ A1]   MV      .L1     A14,A9            ; |1843| 
    7875                            .line   1123
    7876                    ;------------------------------------------------------------------------------
    7877                    ; 1845 | else                                                     //    otherwis
    7878                    ;     | e, all dots are drawn, since all                                       
    7879                    ;------------------------------------------------------------------------------
    7880                            .line   1125
    7881                    ;------------------------------------------------------------------------------
    7882                    ; 1846 | nVisDotsPerTgt[d] = parameters->wNumDots[d];          //    are restric
    7883                    ;     | ted to the tgt window.                                                 
    7884                    ;------------------------------------------------------------------------------
    7885 00003bf8 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1846| 
    7886 00003bfc 92002AEE     [!A1]   LDW     .D2T2   *+SP(168),B4      ; |1846| 
    7887 00003c00 00006000             NOP             4
    7888 00003c04 9210BA42     [!A1]   ADDAH   .D2     B4,B5,B4          ; |1846| 
    7889 00003c08 92002A52     [!A1]   ADDK    .S2     84,B4             ; |1846| 
    7890 00003c0c 93100286     [!A1]   LDHU    .D2T2   *B4,B6            ; |1846| 
    7891 00003c10 92002EEE     [!A1]   LDW     .D2T2   *+SP(184),B4      ; |1846| 
    7892 00003c14 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1846| 
    7893 00003c18 00006000             NOP             4
    7894 00003c1c 9310AAD6     [!A1]   STH     .D2T2   B6,*+B4[B5]       ; |1846| 
    7895                            .line   1127
    7896                    ;------------------------------------------------------------------------------
    7897                    ; 1848 | u16Dummy = (UINT16) data[cd + NREPS];                    //    extract 
    7898                    ;     | dot life decrement from upper                                          
    7899                    ;------------------------------------------------------------------------------
    7900 00003c20 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |1848| 
    7901 00003c24 018032EC             LDW     .D2T1   *+SP(200),A3      ; |1848| 
    7902 00003c28 00004000             NOP             3
    7903 00003c2c 00109058             ADD     .L1X    4,B4,A0           ; |1848| 
    7904 00003c30 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |1848| 
    7905 00003c34 00006000             NOP             4
    7906 00003c38 003E62D4             STH     .D2T1   A0,*+SP(38)       ; |1848| 
    7907                            .line   1128
    7908                    ;------------------------------------------------------------------------------
    7909                    ; 1849 | u16Dummy = u16Dummy >> 8;                                //    byte of 
    7910                    ;     | NREPS field in motion update rec                                       
    7911                    ;------------------------------------------------------------------------------
    7912 00003c3c 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1849| 
    7913 00003c40 00006000             NOP             4
    7914 00003c44 021109A2             SHRU    .S2     B4,8,B4           ; |1849| 
    7915 00003c48 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1849| 
    7916                            .line   1129
    7917                    ;------------------------------------------------------------------------------
    7918                    ; 1850 | u16Dummy &= 0x000000FF;                                                
    7919                    ;------------------------------------------------------------------------------
    7920 00003c4c 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1850| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  145

    7921 00003c50 00006000             NOP             4
    7922 00003c54 0213180A             EXTU    .S2     B4,24,24,B4       ; |1850| 
    7923 00003c58 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1850| 
    7924                            .line   1130
    7925                    ;------------------------------------------------------------------------------
    7926                    ; 1851 | nDotLifeDecr = (INT16) u16Dummy;                                       
    7927                    ;------------------------------------------------------------------------------
    7928 00003c5c 023E62C6             LDH     .D2T2   *+SP(38),B4       ; |1851| 
    7929 00003c60 00006000             NOP             4
    7930 00003c64 023CC2D6             STH     .D2T2   B4,*+SP(12)       ; |1851| 
    7931                            .line   1132
    7932                    ;------------------------------------------------------------------------------
    7933                    ; 1853 | nMaxDotLife = (UINT16) parameters->wOuterR[d];           //    max dot 
    7934                    ;     | life, restricted to [1..32767]                                         
    7935                    ;------------------------------------------------------------------------------
    7936 00003c68 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1853| 
    7937 00003c6c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1853| 
    7938 00003c70 00006000             NOP             4
    7939 00003c74 02149A42             ADDAH   .D2     B5,B4,B4          ; |1853| 
    7940 00003c78 0200CA52             ADDK    .S2     404,B4            ; |1853| 
    7941 00003c7c 02100286             LDHU    .D2T2   *B4,B4            ; |1853| 
    7942 00003c80 00006000             NOP             4
    7943 00003c84 023EC2D6             STH     .D2T2   B4,*+SP(44)       ; |1853| 
    7944                            .line   1133
    7945                    ;------------------------------------------------------------------------------
    7946                    ; 1854 | if( nMaxDotLife < 1 ) nMaxDotLife = 1;                                 
    7947                    ;------------------------------------------------------------------------------
    7948 00003c88 023EC286             LDHU    .D2T2   *+SP(44),B4       ; |1854| 
    7949 00003c8c 00006000             NOP             4
    7950 00003c90 00100ADA             CMPGT   .L2     B4,0,B0           ; |1854| 
    7951 00003c94 320000AA     [!B0]   MVK     .S2     1,B4              ; |1854| 
    7952 00003c98 323EC2D6     [!B0]   STH     .D2T2   B4,*+SP(44)       ; |1854| 
    7953 00003c9c 30000790     [!B0]   B       .S1     L101              ; |1854| 
    7954 00003ca0 00008000             NOP             5
    7955                               ; BRANCH OCCURS                   ; |1854| 
    7956                    ;** --------------------------------------------------------------------------*
    7957                            .line   1134
    7958                    ;------------------------------------------------------------------------------
    7959                    ; 1855 | else if( nMaxDotLife > 32767 ) nMaxDotLife = 32767;                    
    7960                    ;------------------------------------------------------------------------------
    7961 00003ca4 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |1855| 
    7962 00003ca8 023FFFAA             MVK     .S2     32767,B4          ; |1855| 
    7963 00003cac 00004000             NOP             3
    7964 00003cb0 0010A8FA             CMPGT   .L2     B5,B4,B0          ; |1855| 
    7965 00003cb4 203FFFA8     [ B0]   MVK     .S1     32767,A0          ; |1855| 
    7966 00003cb8 203EC2D4     [ B0]   STH     .D2T1   A0,*+SP(44)       ; |1855| 
    7967                    ;** --------------------------------------------------------------------------*
    7968 00003cbc           L101:    
    7969                            .line   1136
    7970                    ;------------------------------------------------------------------------------
    7971                    ; 1857 | if( nMaxDotLife == 32767 ) nDotLifeDecr = 0;             //    unlimite
    7972                    ;     | d dot life if max life=32767!                                          
    7973                    ;------------------------------------------------------------------------------
    7975 00003cc0 023FFFAA             MVK     .S2     32767,B4          ; |1857| 
    7974 00003cbc 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |1857| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  146

    7976 00003cc4 00004000             NOP             3
    7977 00003cc8 0010AA7A             CMPEQ   .L2     B5,B4,B0          ; |1857| 
    7978 00003ccc 220000FA     [ B0]   ZERO    .L2     B4                ; |1857| 
    7979 00003cd0 223CC2D6     [ B0]   STH     .D2T2   B4,*+SP(12)       ; |1857| 
    7980                            .line   1138
    7981                    ;------------------------------------------------------------------------------
    7982                    ; 1859 | u16tmp = (UINT16) parameters->wOuterL[d];                //    speed no
    7983                    ;     | ise offset range, N, as %-age of                                       
    7984                    ; 1860 | //    nominal speed, in 1% increments                                  
    7985                    ;------------------------------------------------------------------------------
    7986 00003cd4 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |1859| 
    7987 00003cd8 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1859| 
    7988 00003cdc 00006000             NOP             4
    7989 00003ce0 03149A42             ADDAH   .D2     B5,B4,B6          ; |1859| 
    7990 00003ce4 0300EA52             ADDK    .S2     468,B6            ; |1859| 
    7991 00003ce8 03180286             LDHU    .D2T2   *B6,B6            ; |1859| 
    7992 00003cec 00006000             NOP             4
    7993 00003cf0 033E82D6             STH     .D2T2   B6,*+SP(40)       ; |1859| 
    7994                            .line   1140
    7995                    ;------------------------------------------------------------------------------
    7996                    ; 1861 | u16Dummy = (UINT16) parameters->wOuterL[d] * 2 + 1;      //    # of int
    7997                    ;     | eger choices in [-N:N]                                                 
    7998                    ;------------------------------------------------------------------------------
    7999 00003cf4 02949A42             ADDAH   .D2     B5,B4,B5          ; |1861| 
    8000 00003cf8 0280EA52             ADDK    .S2     468,B5            ; |1861| 
    8001 00003cfc 02940286             LDHU    .D2T2   *B5,B5            ; |1861| 
    8002 00003d00 00006000             NOP             4
    8003 00003d04 02942CA2             SHL     .S2     B5,1,B5           ; |1861| 
    8004 00003d08 0294205A             ADD     .L2     1,B5,B5           ; |1861| 
    8005 00003d0c 02BE62D6             STH     .D2T2   B5,*+SP(38)       ; |1861| 
    8006                            .line   1142
    8007                    ;------------------------------------------------------------------------------
    8008                    ; 1863 | if( nNoiseUpdTicks[d] <= 0 )                             //    if noise
    8009                    ;     |  update intv expired, choose                                           
    8010                    ; 1864 | {                                                        //    new rand
    8011                    ;     | om offset speed %s for each dot                                        
    8012                    ;------------------------------------------------------------------------------
    8013 00003d10 01802FEC             LDW     .D2T1   *+SP(188),A3      ; |1863| 
    8014 00003d14 00101058             MV      .L1X    B4,A0
    8015 00003d18 00004000             NOP             3
    8016 00003d1c 000C0A44             LDH     .D1T1   *+A3[A0],A0       ; |1863| 
    8017 00003d20 00006000             NOP             4
    8018 00003d24 00800AD8             CMPGT   .L1     A0,0,A1           ; |1863| 
    8019 00003d28 80001910     [ A1]   B       .S1     L104              ; |1863| 
    8020 00003d2c 00008000             NOP             5
    8021                               ; BRANCH OCCURS                   ; |1863| 
    8022                    ;** --------------------------------------------------------------------------*
    8023                            .line   1144
    8024                    ;------------------------------------------------------------------------------
    8025                    ; 1865 | j = nVisDotsPerTgt[d];                                                 
    8026                    ;------------------------------------------------------------------------------
    8027 00003d30 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |1865| 
    8028 00003d34 00006000             NOP             4
    8029 00003d38 02148A86             LDHU    .D2T2   *+B5[B4],B4       ; |1865| 
    8030 00003d3c 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  147

    8031 00003d40 023EC2F6             STW     .D2T2   B4,*+SP(88)       ; |1865| 
    8032                            .line   1145
    8033                    ;------------------------------------------------------------------------------
    8034                    ; 1866 | for( k=0; k<j; k++ )                                                   
    8035                    ;------------------------------------------------------------------------------
    8036 00003d44 028000FA             ZERO    .L2     B5                ; |1866| 
    8037 00003d48 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1866| 
    8038 00003d4c 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    8039 00003d50 30001010     [!B0]   B       .S1     L103              ; |1866| 
    8040 00003d54 00008000             NOP             5
    8041                               ; BRANCH OCCURS                   ; |1866| 
    8042                    ;*----------------------------------------------------------------------------*
    8043                    ;*   SOFTWARE PIPELINE INFORMATION
    8044                    ;*      Disqualified loop: software pipelining disabled
    8045                    ;*----------------------------------------------------------------------------*
    8046 00003d58           L102:    
    8047                            .line   1147
    8048                    ;------------------------------------------------------------------------------
    8049                    ; 1868 | i32val = (INT32) (GetRandNum2() % u16Dummy);       //       choose rand
    8050                    ;     | om offset speed % in [-N:N]                                            
    8051                    ;------------------------------------------------------------------------------
    8053 00003d5c 019EB42A'            MVKL    .S2     RL516,B3          ; |1868| 
    8052 00003d58 0FF86990             B       .S1     _GetRandNum2      ; |1868| 
    8054 00003d60 0180006A'            MVKH    .S2     RL516,B3          ; |1868| 
    8055 00003d64 00004000             NOP             3
    8056 00003d68           RL516:     ; CALL OCCURS                     ; |1868| 
    8057 00003d68 0FF85410!            B       .S1     __remi            ; |1868| 
    8058 00003d6c 023E6286             LDHU    .D2T2   *+SP(38),B4       ; 
    8059 00003d70 019EBE2A'            MVKL    .S2     RL518,B3          ; |1868| 
    8060 00003d74 0180006A'            MVKH    .S2     RL518,B3          ; |1868| 
    8061 00003d78 00002000             NOP             2
    8062 00003d7c           RL518:     ; CALL OCCURS                     ; |1868| 
    8063 00003d7c 0590105A             MV      .L2X    A4,B11            ; 
    8064                            .line   1148
    8065                    ;------------------------------------------------------------------------------
    8066                    ; 1869 | i32val -= (INT32) u16tmp;                          //       NOTE USE OF
    8067                    ;     |  DEDICATED RAND# GENERATOR                                             
    8068                    ;------------------------------------------------------------------------------
    8069 00003d80 023E8286             LDHU    .D2T2   *+SP(40),B4       ; |1869| 
    8070 00003d84 00006000             NOP             4
    8071 00003d88 059160FA             SUB     .L2     B11,B4,B11        ; |1869| 
    8072                            .line   1149
    8073                    ;------------------------------------------------------------------------------
    8074                    ; 1870 | *(nextDotNoise+k) = (INT16) i32val;                                    
    8075                    ;------------------------------------------------------------------------------
    8076 00003d8c 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |1870| 
    8077 00003d90 020025EE             LDW     .D2T2   *+SP(148),B4      ; |1870| 
    8078 00003d94 00006000             NOP             4
    8079 00003d98 0590AAD6             STH     .D2T2   B11,*+B4[B5]      ; |1870| 
    8080                            .line   1150
    8081 00003d9c 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |1871| 
    8082 00003da0 00006000             NOP             4
    8083 00003da4 0290205A             ADD     .L2     1,B4,B5           ; |1871| 
    8084 00003da8 02BEE2F6             STW     .D2T2   B5,*+SP(92)       ; |1871| 
    8085 00003dac 023EC2E6             LDW     .D2T2   *+SP(88),B4       ; |1871| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  148

    8086 00003db0 00006000             NOP             4
    8087 00003db4 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
    8088 00003db8 2FFFF710     [ B0]   B       .S1     L102              ; |1871| 
    8089 00003dbc 00008000             NOP             5
    8090                               ; BRANCH OCCURS                   ; |1871| 
    8091                    ;** --------------------------------------------------------------------------*
    8092 00003dc0           L103:    
    8093                            .line   1152
    8094                    ;------------------------------------------------------------------------------
    8095                    ; 1873 | nNoiseUpdTicks[d] = (INT16) parameters->wOuterT[d];   //       reload n
    8096                    ;     | oise update intv timer                                                 
    8097                    ;------------------------------------------------------------------------------
    8099 00003dc4 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |1873| 
    8098 00003dc0 033F42E6             LDW     .D2T2   *+SP(104),B6      ; |1873| 
    8100 00003dc8 02802FEE             LDW     .D2T2   *+SP(188),B5      ; |1873| 
    8101 00003dcc 00004000             NOP             3
    8102 00003dd0 0210DA42             ADDAH   .D2     B4,B6,B4          ; |1873| 
    8103 00003dd4 02010A52             ADDK    .S2     532,B4            ; |1873| 
    8104 00003dd8 039002C6             LDH     .D2T2   *B4,B7            ; |1873| 
    8105 00003ddc 0218005A             MV      .L2     B6,B4             ; |1873| 
    8106 00003de0 00004000             NOP             3
    8107 00003de4 03948AD6             STH     .D2T2   B7,*+B5[B4]       ; |1873| 
    8108                    ;** --------------------------------------------------------------------------*
    8109 00003de8           L104:    
    8110                            .line   1155
    8111                    ;------------------------------------------------------------------------------
    8112                    ; 1876 | nNoiseUpdTicks[d] -= 2 * (data[cd+NREPS] & 0x000000FF);  //    decremen
    8113                    ;     | t noise update intv timer                                              
    8114                    ; 1878 | // STRATEGY: hv = Rmm*2^Q, where Q=16 for Rmm < 0.1, or Q=10 otherwise.
    8115                    ;     |  If THETA>=10000, then Q=10. For                                       
    8116                    ; 1879 | // the practical range of display geometries and pattern velocities, we
    8117                    ;     |  can expect that Rmm < 2^5, so                                         
    8118                    ; 1880 | // hv < 2^21 worst-case. Since the trig lookup tables are pre-scaled by
    8119                    ;     |  2^10, we have:                                                        
    8120                    ; 1881 | //   Rmm*2^Q + N*Rmm*2^Q/100 = (Rmm + N*Rmm/100)*2^Q = Rmm(dot) * 2^Q  
    8121                    ; 1882 | //   Xmm(scaled) = Rmm(dot)*2^Q*2^10*cos(TH) = Rmm(dot)*cos(TH)*2^(Q+10
    8122                    ;     | ) = Xmm*2^(Q+10)                                                       
    8123                    ; 1883 | //   Xpix(scaled)= Xmm*(2^16/screenW_mm)*2^(Q-6) = Xpix*2^(Q-6) = Xpix*
    8124                    ;     | 2^(P), P=4 or 10.                                                      
    8125                    ; 1884 | // When P=10, we divide by 2^6 so that we leave in a scale factor of 2^
    8126                    ;     | 4. We then add in the fractional                                       
    8127                    ; 1885 | // pixel displacement from the previous frame update, also scaled by 2^
    8128                    ;     | 4. We then save the fractional                                         
    8129                    ; 1886 | // pixel displacement for the next update and get the integer pixel dis
    8130                    ;     | placement for this frame, Xpix.                                        
    8131                    ; 1887 | // Analogously, for Ypix.                                              
    8132                    ;------------------------------------------------------------------------------
    8134 00003dec 03802FEE             LDW     .D2T2   *+SP(188),B7      ; |1876| 
    8133 00003de8 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |1876| 
    8135 00003df0 033F42E6             LDW     .D2T2   *+SP(104),B6      ; |1876| 
    8136 00003df4 028032EE             LDW     .D2T2   *+SP(200),B5      ; |1876| 
    8137 00003df8 00004000             NOP             3
    8138                    
    8139 00003e00 031CDA43             ADDAH   .D2     B7,B6,B6          ; |1876| 
    8140 00003e04 0210805A  ||         ADD     .L2     4,B4,B4           ; |1876| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  149

    8141                    
    8142 00003e08 02148AC6             LDH     .D2T2   *+B5[B4],B4       ; |1876| 
    8143 00003e0c 029802C6             LDH     .D2T2   *B6,B5            ; |1876| 
    8144 00003e10 00004000             NOP             3
    8145 00003e14 0213180A             EXTU    .S2     B4,24,24,B4       ; |1876| 
    8146 00003e18 02149AC2             SUBAH   .D2     B5,B4,B4          ; |1876| 
    8147 00003e1c 021802D6             STH     .D2T2   B4,*B6            ; |1876| 
    8148                            .line   1167
    8149                    ;------------------------------------------------------------------------------
    8150                    ; 1888 | i16Scale = 6;                                                          
    8151                    ;------------------------------------------------------------------------------
    8152 00003e20 00000328             MVK     .S1     6,A0              ; |1888| 
    8153 00003e24 003DA2D4             STH     .D2T1   A0,*+SP(26)       ; |1888| 
    8154                            .line   1168
    8155                    ;------------------------------------------------------------------------------
    8156                    ; 1889 | if( vv >= 10000 )                                                      
    8157                    ;------------------------------------------------------------------------------
    8158 00003e28 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1889| 
    8159 00003e2c 0293882A             MVK     .S2     10000,B5          ; |1889| 
    8160 00003e30 00004000             NOP             3
    8161 00003e34 00148AFA             CMPLT   .L2     B4,B5,B0          ; |1889| 
    8162                            .line   1170
    8163                    ;------------------------------------------------------------------------------
    8164                    ; 1891 | vv -= 10000;                                                           
    8165                    ;------------------------------------------------------------------------------
    8166 00003e38 323C62C6     [!B0]   LDH     .D2T2   *+SP(6),B4        ; |1891| 
    8167 00003e3c 00006000             NOP             4
    8168 00003e40 326C7852     [!B0]   ADDK    .S2     -10000,B4         ; |1891| 
    8169 00003e44 323C62D6     [!B0]   STH     .D2T2   B4,*+SP(6)        ; |1891| 
    8170                            .line   1171
    8171                    ;------------------------------------------------------------------------------
    8172                    ; 1892 | i16Scale = 0;                                                          
    8173                    ;------------------------------------------------------------------------------
    8174 00003e48 320000FA     [!B0]   ZERO    .L2     B4                ; |1892| 
    8175 00003e4c 323DA2D6     [!B0]   STH     .D2T2   B4,*+SP(26)       ; |1892| 
    8176                            .line   1174
    8177                    ;------------------------------------------------------------------------------
    8178                    ; 1895 | while( a < de )                                          //    for each
    8179                    ;     |  dot in target:                                                        
    8180                    ;------------------------------------------------------------------------------
    8181 00003e50 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1895| 
    8182 00003e54 90022F90     [!A1]   B       .S1     L133              ; |1895| 
    8183 00003e58 00008000             NOP             5
    8184                               ; BRANCH OCCURS                   ; |1895| 
    8185                    ;** --------------------------------------------------------------------------*
    8186                    ;**   BEGIN LOOP L105
    8187                    ;** --------------------------------------------------------------------------*
    8188 00003e5c           L105:    
    8189                            .line   1176
    8190                    ;------------------------------------------------------------------------------
    8191                    ; 1897 | *nextDotLife = *nextDotLife - nDotLifeDecr;           //       update d
    8192                    ;     | ot's current lifetime; if it                                           
    8193                    ;------------------------------------------------------------------------------
    8195 00003e60 02BCC2C6             LDH     .D2T2   *+SP(12),B5       ; |1897| 
    8194 00003e5c 030023EE             LDW     .D2T2   *+SP(140),B6      ; |1897| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  150

    8196 00003e64 00004000             NOP             3
    8197 00003e68 021802C6             LDH     .D2T2   *B6,B4            ; |1897| 
    8198 00003e6c 00006000             NOP             4
    8199 00003e70 021480FA             SUB     .L2     B4,B5,B4          ; |1897| 
    8200 00003e74 021802D6             STH     .D2T2   B4,*B6            ; |1897| 
    8201                            .line   1177
    8202                    ;------------------------------------------------------------------------------
    8203                    ; 1898 | if( *nextDotLife < 0 )                                //       has expi
    8204                    ;     | red, reset it and randomly                                             
    8205                    ; 1899 | {                                                     //       repositi
    8206                    ;     | on dot in tgt window BEFORE                                            
    8207                    ;------------------------------------------------------------------------------
    8208 00003e78 020023EE             LDW     .D2T2   *+SP(140),B4      ; |1898| 
    8209 00003e7c 00006000             NOP             4
    8210 00003e80 029002C6             LDH     .D2T2   *B4,B5            ; |1898| 
    8211 00003e84 00006000             NOP             4
    8212 00003e88 001408DA             CMPLT   .L2     B5,0,B0           ; |1898| 
    8213 00003e8c 30001110     [!B0]   B       .S1     L106              ; |1898| 
    8214 00003e90 00008000             NOP             5
    8215                               ; BRANCH OCCURS                   ; |1898| 
    8216                    ;** --------------------------------------------------------------------------*
    8217                            .line   1179
    8218                    ;------------------------------------------------------------------------------
    8219                    ; 1900 | *nextDotLife = nMaxDotLife;                        //       MOVING IT! 
    8220                    ;------------------------------------------------------------------------------
    8221 00003e94 02BEC2C6             LDH     .D2T2   *+SP(44),B5       ; |1900| 
    8222 00003e98 00006000             NOP             4
    8223 00003e9c 029002D6             STH     .D2T2   B5,*B4            ; |1900| 
    8224                            .line   1180
    8225                    ;------------------------------------------------------------------------------
    8226                    ; 1901 | xCoord = (UINT16) GetRandNum();                                        
    8227                    ;------------------------------------------------------------------------------
    8228 00003ea0 0FF83210             B       .S1     _GetRandNum       ; |1901| 
    8229 00003ea4 019F582A'            MVKL    .S2     RL520,B3          ; |1901| 
    8230 00003ea8 0180006A'            MVKH    .S2     RL520,B3          ; |1901| 
    8231 00003eac 00004000             NOP             3
    8232 00003eb0           RL520:     ; CALL OCCURS                     ; |1901| 
    8233 00003eb0 05100058             MV      .L1     A4,A10            ; 
    8234                            .line   1181
    8235                    ;------------------------------------------------------------------------------
    8236                    ; 1902 | yCoord = (UINT16) GetRandNum();                                        
    8237                    ;------------------------------------------------------------------------------
    8238 00003eb4 0FF83210             B       .S1     _GetRandNum       ; |1902| 
    8239 00003eb8 019F622A'            MVKL    .S2     RL522,B3          ; |1902| 
    8240 00003ebc 0180006A'            MVKH    .S2     RL522,B3          ; |1902| 
    8241 00003ec0 00004000             NOP             3
    8242 00003ec4           RL522:     ; CALL OCCURS                     ; |1902| 
    8243 00003ec4 05900058             MV      .L1     A4,A11            ; 
    8244                            .line   1182
    8245                    ;------------------------------------------------------------------------------
    8246                    ; 1903 | *a = rectL + (xCoord % rectW);                                         
    8247                    ;------------------------------------------------------------------------------
    8248 00003ec8 0FF82810!            B       .S1     __remi            ; |1903| 
    8249 00003ecc 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    8250 00003ed0 019F702A'            MVKL    .S2     RL524,B3          ; |1903| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  151

    8251 00003ed4 02280058             MV      .L1     A10,A4            ; 
    8252 00003ed8 0180006A'            MVKH    .S2     RL524,B3          ; |1903| 
    8253 00003edc 00000000             NOP             1
    8254 00003ee0           RL524:     ; CALL OCCURS                     ; |1903| 
    8255 00003ee0 00209078             ADD     .L1X    A4,B8,A0          ; 
    8256 00003ee4 00240254             STH     .D1T1   A0,*A9            ; |1903| 
    8257                            .line   1183
    8258                    ;------------------------------------------------------------------------------
    8259                    ; 1904 | *b = rectD + (yCoord % rectH);                                         
    8260                    ;------------------------------------------------------------------------------
    8261 00003ee8 0FF82410!            B       .S1     __remi            ; |1904| 
    8262 00003eec 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    8263 00003ef0 019F802A'            MVKL    .S2     RL526,B3          ; |1904| 
    8264 00003ef4 022C0058             MV      .L1     A11,A4            ; 
    8265 00003ef8 0180006A'            MVKH    .S2     RL526,B3          ; |1904| 
    8266 00003efc 00000000             NOP             1
    8267 00003f00           RL526:     ; CALL OCCURS                     ; |1904| 
    8268 00003f00 00249078             ADD     .L1X    A4,B9,A0          ; 
    8269 00003f04 001C0254             STH     .D1T1   A0,*A7            ; |1904| 
    8270                    ;** --------------------------------------------------------------------------*
    8271 00003f08           L106:    
    8272                            .line   1186
    8273                    ;------------------------------------------------------------------------------
    8274                    ; 1907 | i32val = (INT32) *nextDotNoise;                       //       get offs
    8275                    ;     | et speed %age N for this dot                                           
    8276                    ;------------------------------------------------------------------------------
    8278 00003f0c 00006000             NOP             4
    8277 00003f08 020025EE             LDW     .D2T2   *+SP(148),B4      ; |1907| 
    8279 00003f10 059002C6             LDH     .D2T2   *B4,B11           ; |1907| 
    8280 00003f14 00006000             NOP             4
    8281                            .line   1187
    8282                    ;------------------------------------------------------------------------------
    8283                    ; 1908 | i32val *= (INT32) hv;                                 //       compute 
    8284                    ;     | dot R=2^Q*(patR + N*patR/100).                                         
    8285                    ;------------------------------------------------------------------------------
    8286 00003f18 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |1908| 
    8287 00003f1c 00006000             NOP             4
    8288 00003f20 02AC8882             MPYLH   .M2     B4,B11,B5         ; |1908| 
    8289 00003f24 022C8D82             MPYSU   .M2     B4,B11,B4         ; |1908| 
    8290 00003f28 02960CA2             SHL     .S2     B5,16,B5          ; |1908| 
    8291 00003f2c 00101058             MV      .L1X    B4,A0             ; |1908| 
    8292                            .line   1188
    8293                    ;------------------------------------------------------------------------------
    8294                    ; 1909 | i32val /= 100;                                                         
    8295                    ;------------------------------------------------------------------------------
    8296 00003f30 0FF81C10!            B       .S1     __divi            ; |1909| 
    8297 00003f34 019FA42A'            MVKL    .S2     RL528,B3          ; |1909| 
    8298 00003f38 0180006A'            MVKH    .S2     RL528,B3          ; |1909| 
    8299 00003f3c 0200322A             MVK     .S2     0x64,B4           ; |1909| 
    8300 00003f40 02141078             ADD     .L1X    A0,B5,A4          ; 
    8301 00003f44 00000000             NOP             1
    8302 00003f48           RL528:     ; CALL OCCURS                     ; |1909| 
    8303 00003f48 0590105A             MV      .L2X    A4,B11            ; 
    8304                            .line   1189
    8305                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  152

    8306                    ; 1910 | i32val += (INT32) hv;                                                  
    8307                    ;------------------------------------------------------------------------------
    8308 00003f4c 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |1910| 
    8309 00003f50 00006000             NOP             4
    8310 00003f54 05AC807A             ADD     .L2     B4,B11,B11        ; |1910| 
    8311                            .line   1190
    8312                    ;------------------------------------------------------------------------------
    8313                    ; 1911 | x32 = i32val;                                         //       save cuz
    8314                    ;     |  we're going to change i32val                                          
    8315                    ;------------------------------------------------------------------------------
    8316 00003f58 05BC82F6             STW     .D2T2   B11,*+SP(16)      ; |1911| 
    8317                            .line   1192
    8318                    ;------------------------------------------------------------------------------
    8319                    ; 1913 | i32val *= (INT32) cosLUT[vv];                         //       (Rmm*cos
    8320                    ;     | (theta)) * 2^(Q+10)                                                    
    8321                    ;------------------------------------------------------------------------------
    8322 00003f5c 028036EE             LDW     .D2T2   *+SP(216),B5      ; |1913| 
    8323 00003f60 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1913| 
    8324 00003f64 00006000             NOP             4
    8325 00003f68 02948AC6             LDH     .D2T2   *+B5[B4],B5       ; |1913| 
    8326 00003f6c 00006000             NOP             4
    8327 00003f70 022CA882             MPYLH   .M2     B5,B11,B4         ; |1913| 
    8328 00003f74 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |1913| 
    8329 00003f78 02120CA2             SHL     .S2     B4,16,B4          ; |1913| 
    8330 00003f7c 0590A07A             ADD     .L2     B5,B4,B11         ; |1913| 
    8331                            .line   1193
    8332                    ;------------------------------------------------------------------------------
    8333                    ; 1914 | i32val /= screenW_mm;                                 //       Xmm*2^(4
    8334                    ;     | +K)*(2^16/screenW_mm)                                                  
    8335                    ; 1915 | //       = Xpix*2^(4+K), K=0 or 6                                      
    8336                    ;------------------------------------------------------------------------------
    8337 00003f80 0FF81010!            B       .S1     __divi            ; |1914| 
    8338 00003f84 023E0286             LDHU    .D2T2   *+SP(32),B4       ; 
    8339 00003f88 019FCC2A'            MVKL    .S2     RL530,B3          ; |1914| 
    8340 00003f8c 022C1058             MV      .L1X    B11,A4            ; |1914| 
    8341 00003f90 0180006A'            MVKH    .S2     RL530,B3          ; |1914| 
    8342 00003f94 00000000             NOP             1
    8343 00003f98           RL530:     ; CALL OCCURS                     ; |1914| 
    8344 00003f98 0590105A             MV      .L2X    A4,B11            ; 
    8345                            .line   1195
    8346                    ;------------------------------------------------------------------------------
    8347                    ; 1916 | i32val >>= i16Scale;                                  //       Xpix*2^4
    8348                    ;------------------------------------------------------------------------------
    8349 00003f9c 023DA2C6             LDH     .D2T2   *+SP(26),B4       ; |1916| 
    8350 00003fa0 00006000             NOP             4
    8351 00003fa4 05AC8DE2             SHR     .S2     B11,B4,B11        ; |1916| 
    8352                            .line   1196
    8353                    ;------------------------------------------------------------------------------
    8354                    ; 1917 | i32val += *nextFracDX;                                //       add in f
    8355                    ;     | racDX*2^4 from last frame                                              
    8356                    ;------------------------------------------------------------------------------
    8357 00003fa8 000027EC             LDW     .D2T1   *+SP(156),A0      ; |1917| 
    8358 00003fac 00006000             NOP             4
    8359 00003fb0 01800244             LDH     .D1T1   *A0,A3            ; |1917| 
    8360 00003fb4 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  153

    8361 00003fb8 058D707A             ADD     .L2X    A3,B11,B11        ; |1917| 
    8362                            .line   1197
    8363                    ;------------------------------------------------------------------------------
    8364                    ; 1918 | y32 = i32val;                                                          
    8365                    ;------------------------------------------------------------------------------
    8366 00003fbc 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |1918| 
    8367                            .line   1198
    8368                    ;------------------------------------------------------------------------------
    8369                    ; 1919 | i32val >>= 4;                                         //       xPix for
    8370                    ;     |  this frame                                                            
    8371                    ;------------------------------------------------------------------------------
    8372 00003fc0 05AC8DA2             SHR     .S2     B11,4,B11         ; |1919| 
    8373                            .line   1199
    8374                    ;------------------------------------------------------------------------------
    8375                    ; 1920 | xCoord = *a + hw + ((INT16) i32val);                  //       x = xOld
    8376                    ;     |  + hWin + Xpix                                                         
    8377                    ; 1921 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    8378                    ;     | window, so dot displacement is                                         
    8379                    ; 1922 | // window displacement + per-dot displacement!                         
    8380                    ;------------------------------------------------------------------------------
    8381                    
    8382 00003fc4 01A40205             LDHU    .D1T1   *A9,A3            ; |1920| 
    8383 00003fc8 023C82C6  ||         LDH     .D2T2   *+SP(8),B4        ; |1920| 
    8384                    
    8385 00003fcc 00006000             NOP             4
    8386                    
    8387 00003fd0 01907079             ADD     .L1X    B4,A3,A3          ; |1920| 
    8388 00003fd4 022E104A  ||         EXT     .S2     B11,16,16,B4      ; |1920| 
    8389                    
    8390 00003fd8 01907078             ADD     .L1X    B4,A3,A3          ; |1920| 
    8391 00003fdc 050E1008             EXTU    .S1     A3,16,16,A10      ; |1920| 
    8392                            .line   1203
    8393                    ;------------------------------------------------------------------------------
    8394                    ; 1924 | i32val <<= 4;                                         //       save fra
    8395                    ;     | cDX*2^4 for next frame                                                 
    8396                    ;------------------------------------------------------------------------------
    8397 00003fe0 05AC8CA2             SHL     .S2     B11,4,B11         ; |1924| 
    8398                            .line   1204
    8399                    ;------------------------------------------------------------------------------
    8400                    ; 1925 | *nextFracDX = (INT16) (y32 - i32val);                                  
    8401                    ; 1927 | // analogously for y-coordinate...                                     
    8402                    ;------------------------------------------------------------------------------
    8403 00003fe4 023CA2E6             LDW     .D2T2   *+SP(20),B4       ; |1925| 
    8404 00003fe8 00006000             NOP             4
    8405 00003fec 022C80FA             SUB     .L2     B4,B11,B4         ; |1925| 
    8406 00003ff0 02000256             STH     .D1T2   B4,*A0            ; |1925| 
    8407                            .line   1207
    8408                    ;------------------------------------------------------------------------------
    8409                    ; 1928 | i32val = x32;                                                          
    8410                    ;------------------------------------------------------------------------------
    8411 00003ff4 05BC82E6             LDW     .D2T2   *+SP(16),B11      ; |1928| 
    8412 00003ff8 00006000             NOP             4
    8413                            .line   1208
    8414                    ;------------------------------------------------------------------------------
    8415                    ; 1929 | i32val *= (INT32) sinLUT[vv];                                          
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  154

    8416                    ;------------------------------------------------------------------------------
    8417 00003ffc 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |1929| 
    8418 00004000 028035EE             LDW     .D2T2   *+SP(212),B5      ; |1929| 
    8419 00004004 00006000             NOP             4
    8420 00004008 02948AC6             LDH     .D2T2   *+B5[B4],B5       ; |1929| 
    8421 0000400c 00006000             NOP             4
    8422 00004010 022CA882             MPYLH   .M2     B5,B11,B4         ; |1929| 
    8423 00004014 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |1929| 
    8424 00004018 02120CA2             SHL     .S2     B4,16,B4          ; |1929| 
    8425 0000401c 0590A07A             ADD     .L2     B5,B4,B11         ; |1929| 
    8426                            .line   1209
    8427                    ;------------------------------------------------------------------------------
    8428                    ; 1930 | i32val /= screenH_mm;                                                  
    8429                    ;------------------------------------------------------------------------------
    8430 00004020 0FF7FC10!            B       .S1     __divi            ; |1930| 
    8431 00004024 023E2286             LDHU    .D2T2   *+SP(34),B4       ; 
    8432 00004028 01A01C2A'            MVKL    .S2     RL532,B3          ; |1930| 
    8433 0000402c 022C1058             MV      .L1X    B11,A4            ; |1930| 
    8434 00004030 0180006A'            MVKH    .S2     RL532,B3          ; |1930| 
    8435 00004034 00000000             NOP             1
    8436 00004038           RL532:     ; CALL OCCURS                     ; |1930| 
    8437 00004038 0590105A             MV      .L2X    A4,B11            ; 
    8438                            .line   1210
    8439                    ;------------------------------------------------------------------------------
    8440                    ; 1931 | i32val >>= i16Scale;                                                   
    8441                    ;------------------------------------------------------------------------------
    8442 0000403c 023DA2C6             LDH     .D2T2   *+SP(26),B4       ; |1931| 
    8443 00004040 00006000             NOP             4
    8444 00004044 05AC8DE2             SHR     .S2     B11,B4,B11        ; |1931| 
    8445                            .line   1211
    8446                    ;------------------------------------------------------------------------------
    8447                    ; 1932 | i32val += *nextFracDY;                                                 
    8448                    ;------------------------------------------------------------------------------
    8449 00004048 030029EE             LDW     .D2T2   *+SP(164),B6      ; |1932| 
    8450 0000404c 00006000             NOP             4
    8451 00004050 021802C6             LDH     .D2T2   *B6,B4            ; |1932| 
    8452 00004054 00006000             NOP             4
    8453 00004058 05AC807A             ADD     .L2     B4,B11,B11        ; |1932| 
    8454                            .line   1212
    8455                    ;------------------------------------------------------------------------------
    8456                    ; 1933 | y32 = i32val;                                                          
    8457                    ;------------------------------------------------------------------------------
    8458 0000405c 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |1933| 
    8459                            .line   1213
    8460                    ;------------------------------------------------------------------------------
    8461                    ; 1934 | i32val >>= 4;                                                          
    8462                    ;------------------------------------------------------------------------------
    8463 00004060 05AC8DA2             SHR     .S2     B11,4,B11         ; |1934| 
    8464                            .line   1214
    8465                    ;------------------------------------------------------------------------------
    8466                    ; 1935 | yCoord = *b + vw + ((INT16) i32val);                                   
    8467                    ;------------------------------------------------------------------------------
    8468                    
    8469 00004064 001C0205             LDHU    .D1T1   *A7,A0            ; |1935| 
    8470 00004068 023CA2C6  ||         LDH     .D2T2   *+SP(10),B4       ; |1935| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  155

    8471                    
    8472 0000406c 00006000             NOP             4
    8473                    
    8474 00004070 00101079             ADD     .L1X    B4,A0,A0          ; |1935| 
    8475 00004074 022E104A  ||         EXT     .S2     B11,16,16,B4      ; |1935| 
    8476                    
    8477 00004078 00101078             ADD     .L1X    B4,A0,A0          ; |1935| 
    8478 0000407c 05821008             EXTU    .S1     A0,16,16,A11      ; |1935| 
    8479                            .line   1215
    8480                    ;------------------------------------------------------------------------------
    8481                    ; 1936 | i32val <<= 4;                                                          
    8482                    ;------------------------------------------------------------------------------
    8483 00004080 05AC8CA2             SHL     .S2     B11,4,B11         ; |1936| 
    8484                            .line   1216
    8485                    ;------------------------------------------------------------------------------
    8486                    ; 1937 | *nextFracDY = (INT16) (y32 - i32val);                                  
    8487                    ;------------------------------------------------------------------------------
    8488 00004084 023CA2E6             LDW     .D2T2   *+SP(20),B4       ; |1937| 
    8489 00004088 00006000             NOP             4
    8490                    
    8491 0000408c 02AC85E3             SUB     .S2     B4,B11,B5         ; |1937| 
    8492 00004090 0218005A  ||         MV      .L2     B6,B4             ; |1937| 
    8493                    
    8494 00004094 029002D6             STH     .D2T2   B5,*B4            ; |1937| 
    8495                            .line   1218
    8496                    ;------------------------------------------------------------------------------
    8497                    ; 1939 | if( (xCoord > rectR) || (xCoord < rectL) )            //       if dot i
    8498                    ;     | s now outside tgt window,                                              
    8499                    ; 1940 | {                                                     //       wrap it 
    8500                    ;     | around as in the OPTRECTWIN                                            
    8501                    ;------------------------------------------------------------------------------
    8502 00004098 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1939| 
    8503 0000409c 90A15AF8     [!A1]   CMPLT   .L1X    A10,B8,A1         ; |1939| 
    8504 000040a0 90001490     [!A1]   B       .S1     L107              ; |1939| 
    8505 000040a4 00008000             NOP             5
    8506                               ; BRANCH OCCURS                   ; |1939| 
    8507                    ;** --------------------------------------------------------------------------*
    8508                            .line   1220
    8509                    ;------------------------------------------------------------------------------
    8510                    ; 1941 | if( xCoord > rectR ) u16Over = xCoord - rectR;     //       target...  
    8511                    ;------------------------------------------------------------------------------
    8512 000040a8 00A148F8             CMPGT   .L1     A10,A8,A1         ; |1941| 
    8513 000040ac 802140F8     [ A1]   SUB     .L1     A10,A8,A0         ; |1941| 
    8514 000040b0 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1941| 
    8515                            .line   1221
    8516                    ;------------------------------------------------------------------------------
    8517                    ; 1942 | else                 u16Over = rectL - xCoord;                         
    8518                    ;------------------------------------------------------------------------------
    8519 000040b4 922910FA     [!A1]   SUB     .L2X    B8,A10,B4         ; |1942| 
    8520 000040b8 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1942| 
    8521                            .line   1222
    8522                    ;------------------------------------------------------------------------------
    8523                    ; 1943 | u16Over = u16Over % rectW;                                             
    8524                    ;------------------------------------------------------------------------------
    8525                    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  156

    8526 000040c0 0FF7E811!            B       .S1     __remi            ; |1943| 
    8527 000040c4 023DC286  ||         LDHU    .D2T2   *+SP(28),B4       ; 
    8528                    
    8529 000040c8 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    8530 000040cc 01A06C2A'            MVKL    .S2     RL534,B3          ; |1943| 
    8531 000040d0 0180006A'            MVKH    .S2     RL534,B3          ; |1943| 
    8532 000040d4 00002000             NOP             2
    8533 000040d8           RL534:     ; CALL OCCURS                     ; |1943| 
    8534 000040d8 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1943| 
    8535                            .line   1224
    8536                    ;------------------------------------------------------------------------------
    8537                    ; 1945 | if( (xCoord - *a) > hw )                           //       (each dot i
    8538                    ;     | s displaced differently                                                
    8539                    ;------------------------------------------------------------------------------
    8540 000040dc 00240204             LDHU    .D1T1   *A9,A0            ; |1945| 
    8541 000040e0 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |1945| 
    8542 000040e4 00004000             NOP             3
    8543 000040e8 000140F8             SUB     .L1     A10,A0,A0         ; |1945| 
    8544 000040ec 00009AFA             CMPGT   .L2X    A0,B4,B0          ; |1945| 
    8545                            .line   1225
    8546                    ;------------------------------------------------------------------------------
    8547                    ; 1946 | xCoord = rectL + u16Over;                       //       every frame in
    8548                    ;     |  this target!)                                                         
    8549                    ;------------------------------------------------------------------------------
    8550 000040f0 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1946| 
    8551 000040f4 00006000             NOP             4
    8552 000040f8 20201078     [ B0]   ADD     .L1X    A0,B8,A0          ; |1946| 
    8553 000040fc 25021008     [ B0]   EXTU    .S1     A0,16,16,A10      ; |1946| 
    8554                            .line   1226
    8555                    ;------------------------------------------------------------------------------
    8556                    ; 1947 | else xCoord = rectR - u16Over;                                         
    8557                    ;------------------------------------------------------------------------------
    8558 00004100 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1947| 
    8559 00004104 00006000             NOP             4
    8560 00004108 301110F8     [!B0]   SUB     .L1X    A8,B4,A0          ; |1947| 
    8561 0000410c 35021008     [!B0]   EXTU    .S1     A0,16,16,A10      ; |1947| 
    8562                            .line   1228
    8563                    ;------------------------------------------------------------------------------
    8564                    ; 1949 | yCoord = (UINT16) GetRandNum();                                        
    8565                    ;------------------------------------------------------------------------------
    8566 00004110 0FF7E610             B       .S1     _GetRandNum       ; |1949| 
    8567 00004114 01A0902A'            MVKL    .S2     RL536,B3          ; |1949| 
    8568 00004118 0180006A'            MVKH    .S2     RL536,B3          ; |1949| 
    8569 0000411c 00004000             NOP             3
    8570 00004120           RL536:     ; CALL OCCURS                     ; |1949| 
    8571                            .line   1229
    8572                    ;------------------------------------------------------------------------------
    8573                    ; 1950 | yCoord = rectD + (yCoord % rectH);                                     
    8574                    ;------------------------------------------------------------------------------
    8576 00004124 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    8575 00004120 0FF7DC10!            B       .S1     __remi            ; |1950| 
    8577 00004128 01A09A2A'            MVKL    .S2     RL538,B3          ; |1950| 
    8578 0000412c 0180006A'            MVKH    .S2     RL538,B3          ; |1950| 
    8579 00004130 00002000             NOP             2
    8580 00004134           RL538:     ; CALL OCCURS                     ; |1950| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  157

    8581 00004134 00249078             ADD     .L1X    A4,B9,A0          ; 
    8582 00004138 05821008             EXTU    .S1     A0,16,16,A11      ; |1950| 
    8583                            .line   1230
    8584 0000413c 00001890             B       .S1     L108              ; |1951| 
    8585 00004140 00008000             NOP             5
    8586                               ; BRANCH OCCURS                   ; |1951| 
    8587                    ;** --------------------------------------------------------------------------*
    8588 00004144           L107:    
    8589                            .line   1231
    8590                    ;------------------------------------------------------------------------------
    8591                    ; 1952 | else if( (yCoord > rectU) || (yCoord < rectD) )                        
    8592                    ;------------------------------------------------------------------------------
    8594 00004148 90A57AF8     [!A1]   CMPLT   .L1X    A11,B9,A1         ; |1952| 
    8593 00004144 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1952| 
    8595 0000414c 90001490     [!A1]   B       .S1     L108              ; |1952| 
    8596 00004150 00008000             NOP             5
    8597                               ; BRANCH OCCURS                   ; |1952| 
    8598                    ;** --------------------------------------------------------------------------*
    8599                            .line   1233
    8600                    ;------------------------------------------------------------------------------
    8601                    ; 1954 | if( yCoord > rectU ) u16Over = yCoord - rectU;                         
    8602                    ;------------------------------------------------------------------------------
    8603 00004154 00B568F8             CMPGT   .L1     A11,A13,A1        ; |1954| 
    8604 00004158 803560F8     [ A1]   SUB     .L1     A11,A13,A0        ; |1954| 
    8605 0000415c 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |1954| 
    8606                            .line   1234
    8607                    ;------------------------------------------------------------------------------
    8608                    ; 1955 | else                 u16Over = rectD - yCoord;                         
    8609                    ;------------------------------------------------------------------------------
    8610 00004160 922D30FA     [!A1]   SUB     .L2X    B9,A11,B4         ; |1955| 
    8611 00004164 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |1955| 
    8612                            .line   1235
    8613                    ;------------------------------------------------------------------------------
    8614                    ; 1956 | u16Over = u16Over % rectH;                                             
    8615                    ;------------------------------------------------------------------------------
    8616                    
    8617 00004168 0FF7D411!            B       .S1     __remi            ; |1956| 
    8618 0000416c 023DE286  ||         LDHU    .D2T2   *+SP(30),B4       ; 
    8619                    
    8620 00004170 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    8621 00004174 01A0C02A'            MVKL    .S2     RL540,B3          ; |1956| 
    8622 00004178 0180006A'            MVKH    .S2     RL540,B3          ; |1956| 
    8623 0000417c 00002000             NOP             2
    8624 00004180           RL540:     ; CALL OCCURS                     ; |1956| 
    8625 00004180 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |1956| 
    8626                            .line   1237
    8627                    ;------------------------------------------------------------------------------
    8628                    ; 1958 | if( (yCoord - *b) > vw )                           //       (each dot i
    8629                    ;     | s displaced differently                                                
    8630                    ;------------------------------------------------------------------------------
    8631 00004184 001C0204             LDHU    .D1T1   *A7,A0            ; |1958| 
    8632 00004188 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |1958| 
    8633 0000418c 00004000             NOP             3
    8634 00004190 000160F8             SUB     .L1     A11,A0,A0         ; |1958| 
    8635 00004194 00009AFA             CMPGT   .L2X    A0,B4,B0          ; |1958| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  158

    8636                            .line   1238
    8637                    ;------------------------------------------------------------------------------
    8638                    ; 1959 | yCoord = rectD + u16Over;                       //       every frame in
    8639                    ;     |  this target!)                                                         
    8640                    ;------------------------------------------------------------------------------
    8641 00004198 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |1959| 
    8642 0000419c 00006000             NOP             4
    8643 000041a0 20241078     [ B0]   ADD     .L1X    A0,B9,A0          ; |1959| 
    8644 000041a4 25821008     [ B0]   EXTU    .S1     A0,16,16,A11      ; |1959| 
    8645                            .line   1239
    8646                    ;------------------------------------------------------------------------------
    8647                    ; 1960 | else yCoord = rectU - u16Over;                                         
    8648                    ;------------------------------------------------------------------------------
    8649 000041a8 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |1960| 
    8650 000041ac 00006000             NOP             4
    8651 000041b0 3011B0F8     [!B0]   SUB     .L1X    A13,B4,A0         ; |1960| 
    8652 000041b4 35821008     [!B0]   EXTU    .S1     A0,16,16,A11      ; |1960| 
    8653                            .line   1241
    8654                    ;------------------------------------------------------------------------------
    8655                    ; 1962 | xCoord = (UINT16) GetRandNum();                                        
    8656                    ;------------------------------------------------------------------------------
    8657 000041b8 0FF7D210             B       .S1     _GetRandNum       ; |1962| 
    8658 000041bc 01A0E42A'            MVKL    .S2     RL542,B3          ; |1962| 
    8659 000041c0 0180006A'            MVKH    .S2     RL542,B3          ; |1962| 
    8660 000041c4 00004000             NOP             3
    8661 000041c8           RL542:     ; CALL OCCURS                     ; |1962| 
    8662                            .line   1242
    8663                    ;------------------------------------------------------------------------------
    8664                    ; 1963 | xCoord = rectL + (xCoord % rectW);                                     
    8665                    ;------------------------------------------------------------------------------
    8667 000041cc 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    8666 000041c8 0FF7C810!            B       .S1     __remi            ; |1963| 
    8668 000041d0 01A0EE2A'            MVKL    .S2     RL544,B3          ; |1963| 
    8669 000041d4 0180006A'            MVKH    .S2     RL544,B3          ; |1963| 
    8670 000041d8 00002000             NOP             2
    8671 000041dc           RL544:     ; CALL OCCURS                     ; |1963| 
    8672 000041dc 00209078             ADD     .L1X    A4,B8,A0          ; 
    8673 000041e0 05021008             EXTU    .S1     A0,16,16,A10      ; |1963| 
    8674                    ;** --------------------------------------------------------------------------*
    8675 000041e4           L108:    
    8676                            .line   1245
    8677                    ;------------------------------------------------------------------------------
    8678                    ; 1966 | *a = xCoord;                                          //       remember
    8679                    ;     |  the new dot location!                                                 
    8680                    ;------------------------------------------------------------------------------
    8682                            .line   1246
    8681 000041e4 05240254             STH     .D1T1   A10,*A9           ; |1966| 
    8683                    ;------------------------------------------------------------------------------
    8684                    ; 1967 | *b = yCoord;                                                           
    8685                    ;------------------------------------------------------------------------------
    8686 000041e8 059C0254             STH     .D1T1   A11,*A7           ; |1967| 
    8687                            .line   1248
    8688                    ;------------------------------------------------------------------------------
    8689                    ; 1969 | xyvals = ((*a << 16) | *b);                           //       draw the
    8690                    ;     |  dot                                                                   
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  159

    8691                    ;------------------------------------------------------------------------------
    8692 000041ec 00240204             LDHU    .D1T1   *A9,A0            ; |1969| 
    8693 000041f0 019C0204             LDHU    .D1T1   *A7,A3            ; |1969| 
    8694 000041f4 00004000             NOP             3
    8695 000041f8 00020CA0             SHL     .S1     A0,16,A0          ; |1969| 
    8696 000041fc 00006FF8             OR      .L1     A3,A0,A0          ; |1969| 
    8697 00004200 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |1969| 
    8698                            .line   1249
    8699                    ;------------------------------------------------------------------------------
    8700                    ; 1970 | while( *stataddr & 0x1 );                                              
    8701                    ;------------------------------------------------------------------------------
    8702 00004204 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1970| 
    8703 00004208 00006000             NOP             4
    8704 0000420c 021002E6             LDW     .D2T2   *B4,B4            ; |1970| 
    8705 00004210 00006000             NOP             4
    8706 00004214 00102F5A             AND     .L2     1,B4,B0           ; |1970| 
    8707 00004218 30000790     [!B0]   B       .S1     L110              ; |1970| 
    8708 0000421c 00008000             NOP             5
    8709                               ; BRANCH OCCURS                   ; |1970| 
    8710                    ;*----------------------------------------------------------------------------*
    8711                    ;*   SOFTWARE PIPELINE INFORMATION
    8712                    ;*      Disqualified loop: software pipelining disabled
    8713                    ;*----------------------------------------------------------------------------*
    8714 00004220           L109:    
    8715 00004220 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |1970| 
    8716 00004224 00006000             NOP             4
    8717 00004228 021002E6             LDW     .D2T2   *B4,B4            ; |1970| 
    8718 0000422c 00006000             NOP             4
    8719 00004230 00102F5A             AND     .L2     1,B4,B0           ; |1970| 
    8720 00004234 20000010     [ B0]   B       .S1     L109              ; |1970| 
    8721 00004238 00008000             NOP             5
    8722                               ; BRANCH OCCURS                   ; |1970| 
    8723                    ;** --------------------------------------------------------------------------*
    8724 0000423c           L110:    
    8725                            .line   1250
    8726                    ;------------------------------------------------------------------------------
    8727                    ; 1971 | *locaddr = xyvals;                                                     
    8728                    ;------------------------------------------------------------------------------
    8730 00004240 003E42E4             LDW     .D2T1   *+SP(72),A0       ; |1971| 
    8729 0000423c 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |1971| 
    8731 00004244 00006000             NOP             4
    8732 00004248 02000276             STW     .D1T2   B4,*A0            ; |1971| 
    8733                            .line   1251
    8734                    ;------------------------------------------------------------------------------
    8735                    ; 1972 | visibleDotsXY[nTotalVisDots++] = xyvals;              //       save pac
    8736                    ;     | ked coords in visi dots array                                          
    8737                    ;------------------------------------------------------------------------------
    8738 0000424c 028030EE             LDW     .D2T2   *+SP(192),B5      ; |1972| 
    8739 00004250 033DC2E6             LDW     .D2T2   *+SP(56),B6       ; |1972| 
    8740 00004254 0230105A             MV      .L2X    A12,B4            ; 
    8741 00004258 06302058             ADD     .L1     1,A12,A12         ; 
    8742 0000425c 00002000             NOP             2
    8743 00004260 03148AF6             STW     .D2T2   B6,*+B5[B4]       ; |1972| 
    8744                            .line   1252
    8745                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  160

    8746                    ; 1973 | a++;                                                  //       move on 
    8747                    ;     | to next dot                                                            
    8748                    ;------------------------------------------------------------------------------
    8749 00004264 04A44058             ADD     .L1     2,A9,A9           ; |1973| 
    8750                            .line   1253
    8751                    ;------------------------------------------------------------------------------
    8752                    ; 1974 | b++;                                                                   
    8753                    ;------------------------------------------------------------------------------
    8754 00004268 039C4058             ADD     .L1     2,A7,A7           ; |1974| 
    8755                            .line   1254
    8756                    ;------------------------------------------------------------------------------
    8757                    ; 1975 | nextDotLife++;                                                         
    8758                    ;------------------------------------------------------------------------------
    8759 0000426c 020023EE             LDW     .D2T2   *+SP(140),B4      ; |1975| 
    8760 00004270 00006000             NOP             4
    8761 00004274 0210405A             ADD     .L2     2,B4,B4           ; |1975| 
    8762 00004278 020023FE             STW     .D2T2   B4,*+SP(140)      ; |1975| 
    8763                            .line   1255
    8764                    ;------------------------------------------------------------------------------
    8765                    ; 1976 | nextDotNoise++;                                                        
    8766                    ;------------------------------------------------------------------------------
    8767 0000427c 020025EE             LDW     .D2T2   *+SP(148),B4      ; |1976| 
    8768 00004280 00006000             NOP             4
    8769 00004284 0210405A             ADD     .L2     2,B4,B4           ; |1976| 
    8770 00004288 020025FE             STW     .D2T2   B4,*+SP(148)      ; |1976| 
    8771                            .line   1256
    8772                    ;------------------------------------------------------------------------------
    8773                    ; 1977 | nextFracDX++;                                                          
    8774                    ;------------------------------------------------------------------------------
    8775 0000428c 020027EE             LDW     .D2T2   *+SP(156),B4      ; |1977| 
    8776 00004290 00006000             NOP             4
    8777 00004294 0210405A             ADD     .L2     2,B4,B4           ; |1977| 
    8778 00004298 020027FE             STW     .D2T2   B4,*+SP(156)      ; |1977| 
    8779                            .line   1257
    8780                    ;------------------------------------------------------------------------------
    8781                    ; 1978 | nextFracDY++;                                                          
    8782                    ;------------------------------------------------------------------------------
    8783 0000429c 020029EE             LDW     .D2T2   *+SP(164),B4      ; |1978| 
    8784 000042a0 00006000             NOP             4
    8785 000042a4 0210405A             ADD     .L2     2,B4,B4           ; |1978| 
    8786 000042a8 020029FE             STW     .D2T2   B4,*+SP(164)      ; |1978| 
    8787                            .line   1258
    8788 000042ac 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |1979| 
    8789 000042b0 8FFF7790     [ A1]   B       .S1     L105              ; |1979| 
    8790 000042b4 00008000             NOP             5
    8791                               ; BRANCH OCCURS                   ; |1979| 
    8792                    ;** --------------------------------------------------------------------------*
    8793                            .line   1259
    8794 000042b8 0001A390             B       .S1     L133              ; |1980| 
    8795 000042bc 00008000             NOP             5
    8796                               ; BRANCH OCCURS                   ; |1980| 
    8797                    ;** --------------------------------------------------------------------------*
    8798 000042c0           L111:    
    8799                            .line   1260
    8800                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  161

    8801                    ; 1981 | else if((u16Type == DL_NOISESPEED) &&                       // DL_NOISE
    8802                    ;     | SPEED #2: Like DL_NOISESPEED #1, but                                   
    8803                    ; 1982 | (parameters->wOuterB[d] != 0))                      // Rdot = (Rpat*2^U
    8804                    ;     | )/E(2^U), where U is chosen                                            
    8805                    ; 1983 | {                                                           // randomly
    8806                    ;     |  from [-N..N]...                                                       
    8807                    ;------------------------------------------------------------------------------
    8809 000042c4 00006000             NOP             4
    8808 000042c0 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |1981| 
    8810 000042c8 0011AA5A             CMPEQ   .L2     B4,13,B0          ; |1981| 
    8811 000042cc 22802AEE     [ B0]   LDW     .D2T2   *+SP(168),B5      ; |1981| 
    8812 000042d0 223F42E6     [ B0]   LDW     .D2T2   *+SP(104),B4      ; |1981| 
    8813 000042d4 00006000             NOP             4
    8814 000042d8 22149A42     [ B0]   ADDAH   .D2     B5,B4,B4          ; |1981| 
    8815 000042dc 22012A52     [ B0]   ADDK    .S2     596,B4            ; |1981| 
    8816 000042e0 22100286     [ B0]   LDHU    .D2T2   *B4,B4            ; |1981| 
    8817 000042e4 00006000             NOP             4
    8818 000042e8 22100A5A     [ B0]   CMPEQ   .L2     B4,0,B4           ; |1981| 
    8819 000042ec 20102DDA     [ B0]   XOR     .L2     1,B4,B0           ; |1981| 
    8820 000042f0 3000E990     [!B0]   B       .S1     L122              ; |1981| 
    8821 000042f4 00008000             NOP             5
    8822                               ; BRANCH OCCURS                   ; |1981| 
    8823                    ;** --------------------------------------------------------------------------*
    8824                            .line   1263
    8825                    ;------------------------------------------------------------------------------
    8826                    ; 1984 | rectW = hsize[d];                                        //    so we do
    8827                    ;     | n't do repeat array accesses in                                        
    8828                    ;------------------------------------------------------------------------------
    8829 000042f8 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |1984| 
    8830 000042fc 02802BEE             LDW     .D2T2   *+SP(172),B5      ; |1984| 
    8831 00004300 00006000             NOP             4
    8832 00004304 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |1984| 
    8833 00004308 00006000             NOP             4
    8834 0000430c 02BDC2D6             STH     .D2T2   B5,*+SP(28)       ; |1984| 
    8835                            .line   1264
    8836                    ;------------------------------------------------------------------------------
    8837                    ; 1985 | rectH = vsize[d];                                        //    the draw
    8838                    ;     |  loop below...                                                         
    8839                    ;------------------------------------------------------------------------------
    8840 00004310 01802CEC             LDW     .D2T1   *+SP(176),A3      ; |1985| 
    8841 00004314 00101058             MV      .L1X    B4,A0
    8842 00004318 00004000             NOP             3
    8843 0000431c 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |1985| 
    8844 00004320 00006000             NOP             4
    8845 00004324 003DE2D4             STH     .D2T1   A0,*+SP(30)       ; |1985| 
    8846                            .line   1266
    8847                    ;------------------------------------------------------------------------------
    8848                    ; 1987 | if( (rectR <= rectL) || (rectU <= rectD) )               //    turn off
    8849                    ;     |  target if target rect is invalid                                      
    8850                    ; 1988 | {                                                        //    due to a
    8851                    ;     |  screen wrap-around                                                    
    8852                    ;------------------------------------------------------------------------------
    8853 00004328 002118F8             CMPGT   .L1X    A8,B8,A0          ; |1987| 
    8854 0000432c 00802DD8             XOR     .L1     1,A0,A1           ; |1987| 
    8855 00004330 92353AFA     [!A1]   CMPGT   .L2X    A13,B9,B4         ; |1987| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  162

    8856 00004334 90903DD8     [!A1]   XOR     .L1X    1,B4,A1           ; |1987| 
    8857                            .line   1268
    8858                    ;------------------------------------------------------------------------------
    8859                    ; 1989 | nVisDotsPerTgt[d] = 0;                                                 
    8860                    ;------------------------------------------------------------------------------
    8861 00004338 82002EEC     [ A1]   LDW     .D2T1   *+SP(184),A4      ; |1989| 
    8862 0000433c 803F42E4     [ A1]   LDW     .D2T1   *+SP(104),A0      ; |1989| 
    8863 00004340 818000F8     [ A1]   ZERO    .L1     A3                ; |1989| 
    8864 00004344 00004000             NOP             3
    8865 00004348 81900A54     [ A1]   STH     .D1T1   A3,*+A4[A0]       ; |1989| 
    8866                            .line   1269
    8867                    ;------------------------------------------------------------------------------
    8868                    ; 1990 | a = de;                                                                
    8869                    ;------------------------------------------------------------------------------
    8870 0000434c 84B80058     [ A1]   MV      .L1     A14,A9            ; |1990| 
    8871                            .line   1270
    8872                    ;------------------------------------------------------------------------------
    8873                    ; 1992 | else                                                     //    otherwis
    8874                    ;     | e, all dots are drawn, since all                                       
    8875                    ;------------------------------------------------------------------------------
    8876                            .line   1272
    8877                    ;------------------------------------------------------------------------------
    8878                    ; 1993 | nVisDotsPerTgt[d] = parameters->wNumDots[d];          //    are restric
    8879                    ;     | ted to the tgt window.                                                 
    8880                    ;------------------------------------------------------------------------------
    8881 00004350 92BF42E6     [!A1]   LDW     .D2T2   *+SP(104),B5      ; |1993| 
    8882 00004354 92002AEE     [!A1]   LDW     .D2T2   *+SP(168),B4      ; |1993| 
    8883 00004358 00006000             NOP             4
    8884 0000435c 9210BA42     [!A1]   ADDAH   .D2     B4,B5,B4          ; |1993| 
    8885 00004360 92002A52     [!A1]   ADDK    .S2     84,B4             ; |1993| 
    8886 00004364 93100286     [!A1]   LDHU    .D2T2   *B4,B6            ; |1993| 
    8887 00004368 923F42E6     [!A1]   LDW     .D2T2   *+SP(104),B4      ; |1993| 
    8888 0000436c 92802EEE     [!A1]   LDW     .D2T2   *+SP(184),B5      ; |1993| 
    8889 00004370 00006000             NOP             4
    8890 00004374 93148AD6     [!A1]   STH     .D2T2   B6,*+B5[B4]       ; |1993| 
    8891                            .line   1274
    8892                    ;------------------------------------------------------------------------------
    8893                    ; 1995 | u16Dummy = (UINT16) data[cd + NREPS];                    //    extract 
    8894                    ;     | dot life decrement from upper                                          
    8895                    ;------------------------------------------------------------------------------
    8896 00004378 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |1995| 
    8897 0000437c 000032EC             LDW     .D2T1   *+SP(200),A0      ; |1995| 
    8898 00004380 00004000             NOP             3
    8899 00004384 01909058             ADD     .L1X    4,B4,A3           ; |1995| 
    8900 00004388 00006A04             LDHU    .D1T1   *+A0[A3],A0       ; |1995| 
    8901 0000438c 00006000             NOP             4
    8902 00004390 003E62D4             STH     .D2T1   A0,*+SP(38)       ; |1995| 
    8903                            .line   1275
    8904                    ;------------------------------------------------------------------------------
    8905                    ; 1996 | u16Dummy = u16Dummy >> 8;                                //    byte of 
    8906                    ;     | NREPS field in motion update rec                                       
    8907                    ;------------------------------------------------------------------------------
    8908 00004394 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1996| 
    8909 00004398 00006000             NOP             4
    8910 0000439c 021109A2             SHRU    .S2     B4,8,B4           ; |1996| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  163

    8911 000043a0 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1996| 
    8912                            .line   1276
    8913                    ;------------------------------------------------------------------------------
    8914                    ; 1997 | u16Dummy &= 0x000000FF;                                                
    8915                    ;------------------------------------------------------------------------------
    8916 000043a4 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |1997| 
    8917 000043a8 00006000             NOP             4
    8918 000043ac 0213180A             EXTU    .S2     B4,24,24,B4       ; |1997| 
    8919 000043b0 023E62D6             STH     .D2T2   B4,*+SP(38)       ; |1997| 
    8920                            .line   1277
    8921                    ;------------------------------------------------------------------------------
    8922                    ; 1998 | nDotLifeDecr = (INT16) u16Dummy;                                       
    8923                    ;------------------------------------------------------------------------------
    8924 000043b4 023E62C6             LDH     .D2T2   *+SP(38),B4       ; |1998| 
    8925 000043b8 00006000             NOP             4
    8926 000043bc 023CC2D6             STH     .D2T2   B4,*+SP(12)       ; |1998| 
    8927                            .line   1279
    8928                    ;------------------------------------------------------------------------------
    8929                    ; 2000 | nMaxDotLife = (UINT16) parameters->wOuterR[d];           //    max dot 
    8930                    ;     | life, restricted to [1..32767]                                         
    8931                    ;------------------------------------------------------------------------------
    8932 000043c0 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |2000| 
    8933 000043c4 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2000| 
    8934 000043c8 00006000             NOP             4
    8935 000043cc 02149A42             ADDAH   .D2     B5,B4,B4          ; |2000| 
    8936 000043d0 0200CA52             ADDK    .S2     404,B4            ; |2000| 
    8937 000043d4 02100286             LDHU    .D2T2   *B4,B4            ; |2000| 
    8938 000043d8 00006000             NOP             4
    8939 000043dc 023EC2D6             STH     .D2T2   B4,*+SP(44)       ; |2000| 
    8940                            .line   1280
    8941                    ;------------------------------------------------------------------------------
    8942                    ; 2001 | if( nMaxDotLife < 1 ) nMaxDotLife = 1;                                 
    8943                    ;------------------------------------------------------------------------------
    8944 000043e0 023EC286             LDHU    .D2T2   *+SP(44),B4       ; |2001| 
    8945 000043e4 00006000             NOP             4
    8946 000043e8 00100ADA             CMPGT   .L2     B4,0,B0           ; |2001| 
    8947 000043ec 320000AA     [!B0]   MVK     .S2     1,B4              ; |2001| 
    8948 000043f0 323EC2D6     [!B0]   STH     .D2T2   B4,*+SP(44)       ; |2001| 
    8949 000043f4 30000690     [!B0]   B       .S1     L112              ; |2001| 
    8950 000043f8 00008000             NOP             5
    8951                               ; BRANCH OCCURS                   ; |2001| 
    8952                    ;** --------------------------------------------------------------------------*
    8953                            .line   1281
    8954                    ;------------------------------------------------------------------------------
    8955                    ; 2002 | else if( nMaxDotLife > 32767 ) nMaxDotLife = 32767;                    
    8956                    ;------------------------------------------------------------------------------
    8957 000043fc 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |2002| 
    8958 00004400 023FFFAA             MVK     .S2     32767,B4          ; |2002| 
    8959 00004404 00004000             NOP             3
    8960 00004408 0010A8FA             CMPGT   .L2     B5,B4,B0          ; |2002| 
    8961 0000440c 203FFFA8     [ B0]   MVK     .S1     32767,A0          ; |2002| 
    8962 00004410 203EC2D4     [ B0]   STH     .D2T1   A0,*+SP(44)       ; |2002| 
    8963                    ;** --------------------------------------------------------------------------*
    8964 00004414           L112:    
    8965                            .line   1283
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  164

    8966                    ;------------------------------------------------------------------------------
    8967                    ; 2004 | if( nMaxDotLife == 32767 ) nDotLifeDecr = 0;             //    unlimite
    8968                    ;     | d dot life if max life=32767!                                          
    8969                    ;------------------------------------------------------------------------------
    8971 00004418 023FFFAA             MVK     .S2     32767,B4          ; |2004| 
    8970 00004414 02BEC286             LDHU    .D2T2   *+SP(44),B5       ; |2004| 
    8972 0000441c 00004000             NOP             3
    8973 00004420 0010AA7A             CMPEQ   .L2     B5,B4,B0          ; |2004| 
    8974 00004424 220000FA     [ B0]   ZERO    .L2     B4                ; |2004| 
    8975 00004428 223CC2D6     [ B0]   STH     .D2T2   B4,*+SP(12)       ; |2004| 
    8976                            .line   1285
    8977                    ;------------------------------------------------------------------------------
    8978                    ; 2006 | m = (UINT32) parameters->wOuterL[d];                     //    N = max 
    8979                    ;     | speed noise exp, in [1..7]                                             
    8980                    ;------------------------------------------------------------------------------
    8981 0000442c 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |2006| 
    8982 00004430 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2006| 
    8983 00004434 00006000             NOP             4
    8984 00004438 02949A42             ADDAH   .D2     B5,B4,B5          ; |2006| 
    8985 0000443c 0280EA52             ADDK    .S2     468,B5            ; |2006| 
    8986 00004440 02940286             LDHU    .D2T2   *B5,B5            ; |2006| 
    8987 00004444 00006000             NOP             4
    8988 00004448 02BF22F6             STW     .D2T2   B5,*+SP(100)      ; |2006| 
    8989                            .line   1286
    8990                    ;------------------------------------------------------------------------------
    8991                    ; 2007 | u16tmp = (UINT16) (m * 20);                              //    20N     
    8992                    ;------------------------------------------------------------------------------
    8993 0000444c 03148CA2             SHL     .S2     B5,4,B6           ; |2007| 
    8994 00004450 0298BC42             ADDAW   .D2     B6,B5,B5          ; |2007| 
    8995 00004454 02BE82D6             STH     .D2T2   B5,*+SP(40)       ; |2007| 
    8996                            .line   1287
    8997                    ;------------------------------------------------------------------------------
    8998                    ; 2008 | u16Dummy = (UINT16) u16tmp * 2 + 1;                      //    # choice
    8999                    ;     | s in [-20N:20N]                                                        
    9000                    ;------------------------------------------------------------------------------
    9001 00004458 02BE8286             LDHU    .D2T2   *+SP(40),B5       ; |2008| 
    9002 0000445c 00006000             NOP             4
    9003 00004460 02942CA2             SHL     .S2     B5,1,B5           ; |2008| 
    9004 00004464 0294205A             ADD     .L2     1,B5,B5           ; |2008| 
    9005 00004468 02BE62D6             STH     .D2T2   B5,*+SP(38)       ; |2008| 
    9006                            .line   1289
    9007                    ;------------------------------------------------------------------------------
    9008                    ; 2010 | if( nNoiseUpdTicks[d] <= 0 )                             //    if noise
    9009                    ;     |  update intv expired, get new                                          
    9010                    ; 2011 | {                                                        //    new rand
    9011                    ;     | om index into the pow2LUT array                                        
    9012                    ;------------------------------------------------------------------------------
    9013 0000446c 01802FEC             LDW     .D2T1   *+SP(188),A3      ; |2010| 
    9014 00004470 00101058             MV      .L1X    B4,A0
    9015 00004474 00004000             NOP             3
    9016 00004478 000C0A44             LDH     .D1T1   *+A3[A0],A0       ; |2010| 
    9017 0000447c 00006000             NOP             4
    9018 00004480 00800AD8             CMPGT   .L1     A0,0,A1           ; |2010| 
    9019 00004484 80001910     [ A1]   B       .S1     L115              ; |2010| 
    9020 00004488 00008000             NOP             5
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  165

    9021                               ; BRANCH OCCURS                   ; |2010| 
    9022                    ;** --------------------------------------------------------------------------*
    9023                            .line   1291
    9024                    ;------------------------------------------------------------------------------
    9025                    ; 2012 | j = nVisDotsPerTgt[d];                                //    for each do
    9026                    ;     | t.                                                                     
    9027                    ;------------------------------------------------------------------------------
    9028 0000448c 02802EEE             LDW     .D2T2   *+SP(184),B5      ; |2012| 
    9029 00004490 00006000             NOP             4
    9030 00004494 02948A86             LDHU    .D2T2   *+B5[B4],B5       ; |2012| 
    9031 00004498 00006000             NOP             4
    9032 0000449c 02BEC2F6             STW     .D2T2   B5,*+SP(88)       ; |2012| 
    9033                            .line   1292
    9034                    ;------------------------------------------------------------------------------
    9035                    ; 2013 | for( k=0; k<j; k++ )                                                   
    9036                    ;------------------------------------------------------------------------------
    9037 000044a0 020000FA             ZERO    .L2     B4                ; |2013| 
    9038 000044a4 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |2013| 
    9039 000044a8 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    9040 000044ac 30001090     [!B0]   B       .S1     L114              ; |2013| 
    9041 000044b0 0600462A             MVK     .S2     140,B12           ; |2016| 
    9042 000044b4 00006000             NOP             4
    9043                               ; BRANCH OCCURS                   ; |2013| 
    9044                    ;*----------------------------------------------------------------------------*
    9045                    ;*   SOFTWARE PIPELINE INFORMATION
    9046                    ;*      Disqualified loop: software pipelining disabled
    9047                    ;*----------------------------------------------------------------------------*
    9048 000044b8           L113:    
    9049                            .line   1294
    9050                    ;------------------------------------------------------------------------------
    9051                    ; 2015 | i32val = (INT32) (GetRandNum2() % u16Dummy);       //    [0..40N]      
    9052                    ;------------------------------------------------------------------------------
    9054 000044bc 01A2642A'            MVKL    .S2     RL548,B3          ; |2015| 
    9053 000044b8 0FF77D90             B       .S1     _GetRandNum2      ; |2015| 
    9055 000044c0 0180006A'            MVKH    .S2     RL548,B3          ; |2015| 
    9056 000044c4 00004000             NOP             3
    9057 000044c8           RL548:     ; CALL OCCURS                     ; |2015| 
    9058 000044c8 0FF76810!            B       .S1     __remi            ; |2015| 
    9059 000044cc 023E6286             LDHU    .D2T2   *+SP(38),B4       ; 
    9060 000044d0 01A26E2A'            MVKL    .S2     RL550,B3          ; |2015| 
    9061 000044d4 0180006A'            MVKH    .S2     RL550,B3          ; |2015| 
    9062 000044d8 00002000             NOP             2
    9063 000044dc           RL550:     ; CALL OCCURS                     ; |2015| 
    9064 000044dc 0590105A             MV      .L2X    A4,B11            ; 
    9065                            .line   1295
    9066                    ;------------------------------------------------------------------------------
    9067                    ; 2016 | i32val += (INT32) (140 - u16tmp);                  //    140 + [-20N..2
    9068                    ;     | 0N]                                                                    
    9069                    ;------------------------------------------------------------------------------
    9070 000044e0 023E8286             LDHU    .D2T2   *+SP(40),B4       ; |2016| 
    9071 000044e4 00006000             NOP             4
    9072 000044e8 021180FA             SUB     .L2     B12,B4,B4         ; |2016| 
    9073 000044ec 05AC807A             ADD     .L2     B4,B11,B11        ; |2016| 
    9074                            .line   1296
    9075                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  166

    9076                    ; 2017 | *(nextDotNoise+k) = (INT16) i32val;                                    
    9077                    ;------------------------------------------------------------------------------
    9078 000044f0 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |2017| 
    9079 000044f4 020025EE             LDW     .D2T2   *+SP(148),B4      ; |2017| 
    9080 000044f8 00006000             NOP             4
    9081 000044fc 0590AAD6             STH     .D2T2   B11,*+B4[B5]      ; |2017| 
    9082                            .line   1297
    9083 00004500 023EE2E6             LDW     .D2T2   *+SP(92),B4       ; |2018| 
    9084 00004504 00006000             NOP             4
    9085 00004508 0210205A             ADD     .L2     1,B4,B4           ; |2018| 
    9086 0000450c 023EE2F6             STW     .D2T2   B4,*+SP(92)       ; |2018| 
    9087 00004510 02BEC2E6             LDW     .D2T2   *+SP(88),B5       ; |2018| 
    9088 00004514 00006000             NOP             4
    9089 00004518 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
    9090 0000451c 2FFFF710     [ B0]   B       .S1     L113              ; |2018| 
    9091 00004520 00008000             NOP             5
    9092                               ; BRANCH OCCURS                   ; |2018| 
    9093                    ;** --------------------------------------------------------------------------*
    9094 00004524           L114:    
    9095                            .line   1299
    9096                    ;------------------------------------------------------------------------------
    9097                    ; 2020 | nNoiseUpdTicks[d] = (INT16) parameters->wOuterT[d];   //       reload n
    9098                    ;     | oise update intv timer                                                 
    9099                    ;------------------------------------------------------------------------------
    9101 00004528 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |2020| 
    9100 00004524 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2020| 
    9102 0000452c 00006000             NOP             4
    9103 00004530 02949A42             ADDAH   .D2     B5,B4,B5          ; |2020| 
    9104 00004534 02810A52             ADDK    .S2     532,B5            ; |2020| 
    9105 00004538 031402C6             LDH     .D2T2   *B5,B6            ; |2020| 
    9106 0000453c 02802FEE             LDW     .D2T2   *+SP(188),B5      ; |2020| 
    9107 00004540 00006000             NOP             4
    9108 00004544 03148AD6             STH     .D2T2   B6,*+B5[B4]       ; |2020| 
    9109                    ;** --------------------------------------------------------------------------*
    9110 00004548           L115:    
    9111                            .line   1302
    9112                    ;------------------------------------------------------------------------------
    9113                    ; 2023 | nNoiseUpdTicks[d] -= 2 * (data[cd+NREPS] & 0x000000FF);  //    decremen
    9114                    ;     | t noise update intv timer                                              
    9115                    ; 2025 | // STRATEGY: Analogous to the additive speed noise case above, except t
    9116                    ;     | hat we implement the                                                   
    9117                    ; 2026 | // multiplicative speed noise algorithm here.                          
    9118                    ;------------------------------------------------------------------------------
    9120 0000454c 033F42E6             LDW     .D2T2   *+SP(104),B6      ; |2023| 
    9119 00004548 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |2023| 
    9121 00004550 03802FEE             LDW     .D2T2   *+SP(188),B7      ; |2023| 
    9122 00004554 028032EE             LDW     .D2T2   *+SP(200),B5      ; |2023| 
    9123 00004558 00004000             NOP             3
    9124                    
    9125 00004560 021CDA43             ADDAH   .D2     B7,B6,B4          ; |2023| 
    9126 00004564 0310805A  ||         ADD     .L2     4,B4,B6           ; |2023| 
    9127                    
    9128 00004568 0294CAC6             LDH     .D2T2   *+B5[B6],B5       ; |2023| 
    9129 0000456c 031002C6             LDH     .D2T2   *B4,B6            ; |2023| 
    9130 00004570 00004000             NOP             3
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  167

    9131 00004574 0297180A             EXTU    .S2     B5,24,24,B5       ; |2023| 
    9132 00004578 0298BAC2             SUBAH   .D2     B6,B5,B5          ; |2023| 
    9133 0000457c 029002D6             STH     .D2T2   B5,*B4            ; |2023| 
    9134                            .line   1306
    9135                    ;------------------------------------------------------------------------------
    9136                    ; 2027 | i16Scale = 6;                                                          
    9137                    ;------------------------------------------------------------------------------
    9138 00004580 00000328             MVK     .S1     6,A0              ; |2027| 
    9139 00004584 003DA2D4             STH     .D2T1   A0,*+SP(26)       ; |2027| 
    9140                            .line   1307
    9141                    ;------------------------------------------------------------------------------
    9142                    ; 2028 | if( vv >= 10000 )                                                      
    9143                    ;------------------------------------------------------------------------------
    9144 00004588 02BC62C6             LDH     .D2T2   *+SP(6),B5        ; |2028| 
    9145 0000458c 0213882A             MVK     .S2     10000,B4          ; |2028| 
    9146 00004590 00004000             NOP             3
    9147 00004594 0010AAFA             CMPLT   .L2     B5,B4,B0          ; |2028| 
    9148                            .line   1309
    9149                    ;------------------------------------------------------------------------------
    9150                    ; 2030 | vv -= 10000;                                                           
    9151                    ;------------------------------------------------------------------------------
    9152 00004598 323C62C6     [!B0]   LDH     .D2T2   *+SP(6),B4        ; |2030| 
    9153 0000459c 00006000             NOP             4
    9154 000045a0 326C7852     [!B0]   ADDK    .S2     -10000,B4         ; |2030| 
    9155 000045a4 323C62D6     [!B0]   STH     .D2T2   B4,*+SP(6)        ; |2030| 
    9156                            .line   1310
    9157                    ;------------------------------------------------------------------------------
    9158                    ; 2031 | i16Scale = 0;                                                          
    9159                    ;------------------------------------------------------------------------------
    9160 000045a8 320000FA     [!B0]   ZERO    .L2     B4                ; |2031| 
    9161 000045ac 323DA2D6     [!B0]   STH     .D2T2   B4,*+SP(26)       ; |2031| 
    9162                            .line   1313
    9163                    ;------------------------------------------------------------------------------
    9164                    ; 2034 | while( a < de )                                          //    for each
    9165                    ;     |  dot in target:                                                        
    9166                    ;------------------------------------------------------------------------------
    9167 000045b0 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |2034| 
    9168 000045b4 90014390     [!A1]   B       .S1     L133              ; |2034| 
    9169 000045b8 00008000             NOP             5
    9170                               ; BRANCH OCCURS                   ; |2034| 
    9171                    ;** --------------------------------------------------------------------------*
    9172                    ;**   BEGIN LOOP L116
    9173                    ;** --------------------------------------------------------------------------*
    9174 000045bc           L116:    
    9175                            .line   1315
    9176                    ;------------------------------------------------------------------------------
    9177                    ; 2036 | *nextDotLife = *nextDotLife - nDotLifeDecr;           //       update d
    9178                    ;     | ot's current lifetime; if it                                           
    9179                    ;------------------------------------------------------------------------------
    9181 000045c0 033CC2C6             LDH     .D2T2   *+SP(12),B6       ; |2036| 
    9180 000045bc 020023EE             LDW     .D2T2   *+SP(140),B4      ; |2036| 
    9182 000045c4 00004000             NOP             3
    9183 000045c8 029002C6             LDH     .D2T2   *B4,B5            ; |2036| 
    9184 000045cc 00006000             NOP             4
    9185 000045d0 0298A0FA             SUB     .L2     B5,B6,B5          ; |2036| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  168

    9186 000045d4 029002D6             STH     .D2T2   B5,*B4            ; |2036| 
    9187                            .line   1316
    9188                    ;------------------------------------------------------------------------------
    9189                    ; 2037 | if( *nextDotLife < 0 )                                //       has expi
    9190                    ;     | red, reset it and randomly                                             
    9191                    ; 2038 | {                                                     //       repositi
    9192                    ;     | on dot in tgt window BEFORE                                            
    9193                    ;------------------------------------------------------------------------------
    9194 000045d8 020023EE             LDW     .D2T2   *+SP(140),B4      ; |2037| 
    9195 000045dc 00006000             NOP             4
    9196 000045e0 029002C6             LDH     .D2T2   *B4,B5            ; |2037| 
    9197 000045e4 00006000             NOP             4
    9198 000045e8 001408DA             CMPLT   .L2     B5,0,B0           ; |2037| 
    9199 000045ec 30001110     [!B0]   B       .S1     L117              ; |2037| 
    9200 000045f0 00008000             NOP             5
    9201                               ; BRANCH OCCURS                   ; |2037| 
    9202                    ;** --------------------------------------------------------------------------*
    9203                            .line   1318
    9204                    ;------------------------------------------------------------------------------
    9205                    ; 2039 | *nextDotLife = nMaxDotLife;                        //       MOVING IT! 
    9206                    ;------------------------------------------------------------------------------
    9207 000045f4 02BEC2C6             LDH     .D2T2   *+SP(44),B5       ; |2039| 
    9208 000045f8 00006000             NOP             4
    9209 000045fc 029002D6             STH     .D2T2   B5,*B4            ; |2039| 
    9210                            .line   1319
    9211                    ;------------------------------------------------------------------------------
    9212                    ; 2040 | xCoord = (UINT16) GetRandNum();                                        
    9213                    ;------------------------------------------------------------------------------
    9214 00004600 0FF74610             B       .S1     _GetRandNum       ; |2040| 
    9215 00004604 01A3082A'            MVKL    .S2     RL552,B3          ; |2040| 
    9216 00004608 0180006A'            MVKH    .S2     RL552,B3          ; |2040| 
    9217 0000460c 00004000             NOP             3
    9218 00004610           RL552:     ; CALL OCCURS                     ; |2040| 
    9219 00004610 05100058             MV      .L1     A4,A10            ; 
    9220                            .line   1320
    9221                    ;------------------------------------------------------------------------------
    9222                    ; 2041 | yCoord = (UINT16) GetRandNum();                                        
    9223                    ;------------------------------------------------------------------------------
    9224 00004614 0FF74610             B       .S1     _GetRandNum       ; |2041| 
    9225 00004618 01A3122A'            MVKL    .S2     RL554,B3          ; |2041| 
    9226 0000461c 0180006A'            MVKH    .S2     RL554,B3          ; |2041| 
    9227 00004620 00004000             NOP             3
    9228 00004624           RL554:     ; CALL OCCURS                     ; |2041| 
    9229 00004624 05900058             MV      .L1     A4,A11            ; 
    9230                            .line   1321
    9231                    ;------------------------------------------------------------------------------
    9232                    ; 2042 | *a = rectL + (xCoord % rectW);                                         
    9233                    ;------------------------------------------------------------------------------
    9234 00004628 0FF73C10!            B       .S1     __remi            ; |2042| 
    9235 0000462c 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    9236 00004630 01A3202A'            MVKL    .S2     RL556,B3          ; |2042| 
    9237 00004634 02280058             MV      .L1     A10,A4            ; 
    9238 00004638 0180006A'            MVKH    .S2     RL556,B3          ; |2042| 
    9239 0000463c 00000000             NOP             1
    9240 00004640           RL556:     ; CALL OCCURS                     ; |2042| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  169

    9241 00004640 00209078             ADD     .L1X    A4,B8,A0          ; 
    9242 00004644 00240254             STH     .D1T1   A0,*A9            ; |2042| 
    9243                            .line   1322
    9244                    ;------------------------------------------------------------------------------
    9245                    ; 2043 | *b = rectD + (yCoord % rectH);                                         
    9246                    ;------------------------------------------------------------------------------
    9247 00004648 0FF73810!            B       .S1     __remi            ; |2043| 
    9248 0000464c 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    9249 00004650 01A3302A'            MVKL    .S2     RL558,B3          ; |2043| 
    9250 00004654 022C0058             MV      .L1     A11,A4            ; 
    9251 00004658 0180006A'            MVKH    .S2     RL558,B3          ; |2043| 
    9252 0000465c 00000000             NOP             1
    9253 00004660           RL558:     ; CALL OCCURS                     ; |2043| 
    9254 00004660 00249078             ADD     .L1X    A4,B9,A0          ; 
    9255 00004664 001C0254             STH     .D1T1   A0,*A7            ; |2043| 
    9256                    ;** --------------------------------------------------------------------------*
    9257 00004668           L117:    
    9258                            .line   1325
    9259                    ;------------------------------------------------------------------------------
    9260                    ; 2046 | i32val = pow2LUT[ *nextDotNoise ];                    //       R = 2^(x
    9261                    ;     | +20), x in [-N..N], N=[1..7]                                           
    9262                    ;------------------------------------------------------------------------------
    9264 0000466c 028037EE             LDW     .D2T2   *+SP(220),B5      ; |2046| 
    9263 00004668 020025EE             LDW     .D2T2   *+SP(148),B4      ; |2046| 
    9265 00004670 00004000             NOP             3
    9266 00004674 021002C6             LDH     .D2T2   *B4,B4            ; |2046| 
    9267 00004678 00006000             NOP             4
    9268 0000467c 05948AE6             LDW     .D2T2   *+B5[B4],B11      ; |2046| 
    9269 00004680 00006000             NOP             4
    9270                            .line   1326
    9271                    ;------------------------------------------------------------------------------
    9272                    ; 2047 | i32val /= speedNoiseAdj[m-1];                         //       R = 2^20
    9273                    ;     |  * 2^x / (E(2^x) * 2^10)                                               
    9274                    ;------------------------------------------------------------------------------
    9275 00004684 023F22E6             LDW     .D2T2   *+SP(100),B4      ; |2047| 
    9276 00004688 028038EE             LDW     .D2T2   *+SP(224),B5      ; |2047| 
    9277 0000468c 01A3542A'            MVKL    .S2     RL560,B3          ; |2047| 
    9278 00004690 022C1058             MV      .L1X    B11,A4            ; |2047| 
    9279 00004694 0180006A'            MVKH    .S2     RL560,B3          ; |2047| 
    9280                    
    9281 00004698 0FF73011!            B       .S1     __divi            ; |2047| 
    9282 0000469c 0213E05A  ||         SUB     .L2     B4,1,B4           ; |2047| 
    9283                    
    9284 000046a0 02148AE6             LDW     .D2T2   *+B5[B4],B4       ; 
    9285 000046a4 00006000             NOP             4
    9286 000046a8           RL560:     ; CALL OCCURS                     ; |2047| 
    9287 000046a8 0590105A             MV      .L2X    A4,B11            ; 
    9288                            .line   1327
    9289                    ;------------------------------------------------------------------------------
    9290                    ; 2048 | i32val *= hv;                                         //       R = Rpat
    9291                    ;     | _mm*2^Q * 2^10 * 2^x / E(2^x)                                          
    9292                    ;------------------------------------------------------------------------------
    9293 000046ac 02BC42C6             LDH     .D2T2   *+SP(4),B5        ; |2048| 
    9294 000046b0 00006000             NOP             4
    9295 000046b4 022CA882             MPYLH   .M2     B5,B11,B4         ; |2048| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  170

    9296 000046b8 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |2048| 
    9297 000046bc 02120CA2             SHL     .S2     B4,16,B4          ; |2048| 
    9298 000046c0 0590A07A             ADD     .L2     B5,B4,B11         ; |2048| 
    9299                            .line   1328
    9300                    ;------------------------------------------------------------------------------
    9301                    ; 2049 | i32val >>= 10;                                        //       R = Rdot
    9302                    ;     | _mm*2^Q, Q=10 or 16                                                    
    9303                    ;------------------------------------------------------------------------------
    9304 000046c4 05AD4DA2             SHR     .S2     B11,10,B11        ; |2049| 
    9305                            .line   1329
    9306                    ;------------------------------------------------------------------------------
    9307                    ; 2050 | x32 = i32val;                                         //       save cuz
    9308                    ;     |  we're going to change i32val                                          
    9309                    ;------------------------------------------------------------------------------
    9310 000046c8 05BC82F6             STW     .D2T2   B11,*+SP(16)      ; |2050| 
    9311                            .line   1331
    9312                    ;------------------------------------------------------------------------------
    9313                    ; 2052 | i32val *= (INT32) cosLUT[vv];                         //       Rdot_mm*
    9314                    ;     | cos(theta) * 2^(Q+10)                                                  
    9315                    ;------------------------------------------------------------------------------
    9316 000046cc 020036EE             LDW     .D2T2   *+SP(216),B4      ; |2052| 
    9317 000046d0 02BC62C6             LDH     .D2T2   *+SP(6),B5        ; |2052| 
    9318 000046d4 00006000             NOP             4
    9319 000046d8 0290AAC6             LDH     .D2T2   *+B4[B5],B5       ; |2052| 
    9320 000046dc 00006000             NOP             4
    9321 000046e0 022CA882             MPYLH   .M2     B5,B11,B4         ; |2052| 
    9322 000046e4 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |2052| 
    9323 000046e8 02120CA2             SHL     .S2     B4,16,B4          ; |2052| 
    9324 000046ec 0590A07A             ADD     .L2     B5,B4,B11         ; |2052| 
    9325                            .line   1332
    9326                    ;------------------------------------------------------------------------------
    9327                    ; 2053 | i32val /= screenW_mm;                                 //       Xmm*2^(4
    9328                    ;     | +K)*(2^16/screenW_mm)                                                  
    9329                    ; 2054 | //       = Xpix*2^(4+K), K=0 or 6                                      
    9330                    ;------------------------------------------------------------------------------
    9331 000046f0 0FF72410!            B       .S1     __divi            ; |2053| 
    9332 000046f4 023E0286             LDHU    .D2T2   *+SP(32),B4       ; 
    9333 000046f8 01A3842A'            MVKL    .S2     RL562,B3          ; |2053| 
    9334 000046fc 022C1058             MV      .L1X    B11,A4            ; |2053| 
    9335 00004700 0180006A'            MVKH    .S2     RL562,B3          ; |2053| 
    9336 00004704 00000000             NOP             1
    9337 00004708           RL562:     ; CALL OCCURS                     ; |2053| 
    9338 00004708 0590105A             MV      .L2X    A4,B11            ; 
    9339                            .line   1334
    9340                    ;------------------------------------------------------------------------------
    9341                    ; 2055 | i32val >>= i16Scale;                                  //       Xpix*2^4
    9342                    ;------------------------------------------------------------------------------
    9343 0000470c 023DA2C6             LDH     .D2T2   *+SP(26),B4       ; |2055| 
    9344 00004710 00006000             NOP             4
    9345 00004714 05AC8DE2             SHR     .S2     B11,B4,B11        ; |2055| 
    9346                            .line   1335
    9347                    ;------------------------------------------------------------------------------
    9348                    ; 2056 | i32val += *nextFracDX;                                //       add in f
    9349                    ;     | racDX*2^4 from last frame                                              
    9350                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  171

    9351 00004718 000027EC             LDW     .D2T1   *+SP(156),A0      ; |2056| 
    9352 0000471c 00006000             NOP             4
    9353 00004720 01800244             LDH     .D1T1   *A0,A3            ; |2056| 
    9354 00004724 00006000             NOP             4
    9355 00004728 058D707A             ADD     .L2X    A3,B11,B11        ; |2056| 
    9356                            .line   1336
    9357                    ;------------------------------------------------------------------------------
    9358                    ; 2057 | y32 = i32val;                                                          
    9359                    ;------------------------------------------------------------------------------
    9360 0000472c 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |2057| 
    9361                            .line   1337
    9362                    ;------------------------------------------------------------------------------
    9363                    ; 2058 | i32val >>= 4;                                         //       xPix for
    9364                    ;     |  this frame                                                            
    9365                    ;------------------------------------------------------------------------------
    9366 00004730 05AC8DA2             SHR     .S2     B11,4,B11         ; |2058| 
    9367                            .line   1338
    9368                    ;------------------------------------------------------------------------------
    9369                    ; 2059 | xCoord = *a + hw + ((INT16) i32val);                  //       x = xOld
    9370                    ;     |  + hWin + Xpix                                                         
    9371                    ; 2060 | // 11may2011: As of Maestro v2.7.0, pattern displacement is WRT target 
    9372                    ;     | window, so dot displacement is                                         
    9373                    ; 2061 | // window displacement + per-dot displacement!                         
    9374                    ;------------------------------------------------------------------------------
    9375                    
    9376 00004734 023C82C7             LDH     .D2T2   *+SP(8),B4        ; |2059| 
    9377 00004738 01A40204  ||         LDHU    .D1T1   *A9,A3            ; |2059| 
    9378                    
    9379 0000473c 00006000             NOP             4
    9380                    
    9381 00004740 01907079             ADD     .L1X    B4,A3,A3          ; |2059| 
    9382 00004744 022E104A  ||         EXT     .S2     B11,16,16,B4      ; |2059| 
    9383                    
    9384 00004748 01907078             ADD     .L1X    B4,A3,A3          ; |2059| 
    9385 0000474c 050E1008             EXTU    .S1     A3,16,16,A10      ; |2059| 
    9386                            .line   1342
    9387                    ;------------------------------------------------------------------------------
    9388                    ; 2063 | i32val <<= 4;                                         //       save fra
    9389                    ;     | cDX*2^4 for next frame                                                 
    9390                    ;------------------------------------------------------------------------------
    9391 00004750 05AC8CA2             SHL     .S2     B11,4,B11         ; |2063| 
    9392                            .line   1343
    9393                    ;------------------------------------------------------------------------------
    9394                    ; 2064 | *nextFracDX = (INT16) (y32 - i32val);                                  
    9395                    ; 2066 | // analogously for y-coordinate...                                     
    9396                    ;------------------------------------------------------------------------------
    9397 00004754 023CA2E6             LDW     .D2T2   *+SP(20),B4       ; |2064| 
    9398 00004758 00006000             NOP             4
    9399 0000475c 022C80FA             SUB     .L2     B4,B11,B4         ; |2064| 
    9400 00004760 02000256             STH     .D1T2   B4,*A0            ; |2064| 
    9401                            .line   1346
    9402                    ;------------------------------------------------------------------------------
    9403                    ; 2067 | i32val = x32;                                                          
    9404                    ;------------------------------------------------------------------------------
    9405 00004764 05BC82E6             LDW     .D2T2   *+SP(16),B11      ; |2067| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  172

    9406 00004768 00006000             NOP             4
    9407                            .line   1347
    9408                    ;------------------------------------------------------------------------------
    9409                    ; 2068 | i32val *= (INT32) sinLUT[vv];                                          
    9410                    ;------------------------------------------------------------------------------
    9411 0000476c 020035EE             LDW     .D2T2   *+SP(212),B4      ; |2068| 
    9412 00004770 02BC62C6             LDH     .D2T2   *+SP(6),B5        ; |2068| 
    9413 00004774 00006000             NOP             4
    9414 00004778 0290AAC6             LDH     .D2T2   *+B4[B5],B5       ; |2068| 
    9415 0000477c 00006000             NOP             4
    9416 00004780 022CA882             MPYLH   .M2     B5,B11,B4         ; |2068| 
    9417 00004784 02ACAD82             MPYSU   .M2     B5,B11,B5         ; |2068| 
    9418 00004788 02120CA2             SHL     .S2     B4,16,B4          ; |2068| 
    9419 0000478c 0590A07A             ADD     .L2     B5,B4,B11         ; |2068| 
    9420                            .line   1348
    9421                    ;------------------------------------------------------------------------------
    9422                    ; 2069 | i32val /= screenH_mm;                                                  
    9423                    ;------------------------------------------------------------------------------
    9424 00004790 0FF71010!            B       .S1     __divi            ; |2069| 
    9425 00004794 023E2286             LDHU    .D2T2   *+SP(34),B4       ; 
    9426 00004798 01A3D42A'            MVKL    .S2     RL564,B3          ; |2069| 
    9427 0000479c 022C1058             MV      .L1X    B11,A4            ; |2069| 
    9428 000047a0 0180006A'            MVKH    .S2     RL564,B3          ; |2069| 
    9429 000047a4 00000000             NOP             1
    9430 000047a8           RL564:     ; CALL OCCURS                     ; |2069| 
    9431 000047a8 0590105A             MV      .L2X    A4,B11            ; 
    9432                            .line   1349
    9433                    ;------------------------------------------------------------------------------
    9434                    ; 2070 | i32val >>= i16Scale;                                                   
    9435                    ;------------------------------------------------------------------------------
    9436 000047ac 023DA2C6             LDH     .D2T2   *+SP(26),B4       ; |2070| 
    9437 000047b0 00006000             NOP             4
    9438 000047b4 05AC8DE2             SHR     .S2     B11,B4,B11        ; |2070| 
    9439                            .line   1350
    9440                    ;------------------------------------------------------------------------------
    9441                    ; 2071 | i32val += *nextFracDY;                                                 
    9442                    ;------------------------------------------------------------------------------
    9443 000047b8 028029EE             LDW     .D2T2   *+SP(164),B5      ; |2071| 
    9444 000047bc 00006000             NOP             4
    9445 000047c0 021402C6             LDH     .D2T2   *B5,B4            ; |2071| 
    9446 000047c4 00006000             NOP             4
    9447 000047c8 05AC807A             ADD     .L2     B4,B11,B11        ; |2071| 
    9448                            .line   1351
    9449                    ;------------------------------------------------------------------------------
    9450                    ; 2072 | y32 = i32val;                                                          
    9451                    ;------------------------------------------------------------------------------
    9452 000047cc 05BCA2F6             STW     .D2T2   B11,*+SP(20)      ; |2072| 
    9453                            .line   1352
    9454                    ;------------------------------------------------------------------------------
    9455                    ; 2073 | i32val >>= 4;                                                          
    9456                    ;------------------------------------------------------------------------------
    9457 000047d0 05AC8DA2             SHR     .S2     B11,4,B11         ; |2073| 
    9458                            .line   1353
    9459                    ;------------------------------------------------------------------------------
    9460                    ; 2074 | yCoord = *b + vw + ((INT16) i32val);                                   
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  173

    9461                    ;------------------------------------------------------------------------------
    9462                    
    9463 000047d4 001C0205             LDHU    .D1T1   *A7,A0            ; |2074| 
    9464 000047d8 023CA2C6  ||         LDH     .D2T2   *+SP(10),B4       ; |2074| 
    9465                    
    9466 000047dc 00006000             NOP             4
    9467                    
    9468 000047e0 00101079             ADD     .L1X    B4,A0,A0          ; |2074| 
    9469 000047e4 022E104A  ||         EXT     .S2     B11,16,16,B4      ; |2074| 
    9470                    
    9471 000047e8 00101078             ADD     .L1X    B4,A0,A0          ; |2074| 
    9472 000047ec 05821008             EXTU    .S1     A0,16,16,A11      ; |2074| 
    9473                            .line   1354
    9474                    ;------------------------------------------------------------------------------
    9475                    ; 2075 | i32val <<= 4;                                                          
    9476                    ;------------------------------------------------------------------------------
    9477 000047f0 05AC8CA2             SHL     .S2     B11,4,B11         ; |2075| 
    9478                            .line   1355
    9479                    ;------------------------------------------------------------------------------
    9480                    ; 2076 | *nextFracDY = (INT16) (y32 - i32val);                                  
    9481                    ;------------------------------------------------------------------------------
    9482 000047f4 023CA2E6             LDW     .D2T2   *+SP(20),B4       ; |2076| 
    9483 000047f8 00006000             NOP             4
    9484 000047fc 022C80FA             SUB     .L2     B4,B11,B4         ; |2076| 
    9485 00004800 021402D6             STH     .D2T2   B4,*B5            ; |2076| 
    9486                            .line   1357
    9487                    ;------------------------------------------------------------------------------
    9488                    ; 2078 | if( (xCoord > rectR) || (xCoord < rectL) )            //       if dot i
    9489                    ;     | s now outside tgt window,                                              
    9490                    ; 2079 | {                                                     //       wrap it 
    9491                    ;     | around as in the OPTRECTWIN                                            
    9492                    ;------------------------------------------------------------------------------
    9493 00004804 012148F8             CMPGT   .L1     A10,A8,A2         ; |2078| 
    9494                    
    9495 00004808 B0A15AF9     [!A2]   CMPLT   .L1X    A10,B8,A1         ; |2078| 
    9496 0000480c A08801A0  || [ A2]   MV      .S1     A2,A1             ; |2078| 
    9497                    
    9498 00004810 90001610     [!A1]   B       .S1     L118              ; |2078| 
    9499 00004814 00008000             NOP             5
    9500                               ; BRANCH OCCURS                   ; |2078| 
    9501                    ;** --------------------------------------------------------------------------*
    9502                            .line   1359
    9503                    ;------------------------------------------------------------------------------
    9504                    ; 2080 | if( xCoord > rectR ) u16Over = xCoord - rectR;     //       target...  
    9505                    ;------------------------------------------------------------------------------
    9506 00004818 00A148F8             CMPGT   .L1     A10,A8,A1         ; |2080| 
    9507 0000481c 802140F8     [ A1]   SUB     .L1     A10,A8,A0         ; |2080| 
    9508 00004820 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |2080| 
    9509                            .line   1360
    9510                    ;------------------------------------------------------------------------------
    9511                    ; 2081 | else                 u16Over = rectL - xCoord;                         
    9512                    ;------------------------------------------------------------------------------
    9513 00004824 922910FA     [!A1]   SUB     .L2X    B8,A10,B4         ; |2081| 
    9514 00004828 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |2081| 
    9515                            .line   1361
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  174

    9516                    ;------------------------------------------------------------------------------
    9517                    ; 2082 | u16Over = u16Over % rectW;                                             
    9518                    ;------------------------------------------------------------------------------
    9519                    
    9520 0000482c 0FF6FC11!            B       .S1     __remi            ; |2082| 
    9521 00004830 023DC286  ||         LDHU    .D2T2   *+SP(28),B4       ; 
    9522                    
    9523 00004834 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    9524 00004838 01A4222A'            MVKL    .S2     RL566,B3          ; |2082| 
    9525 0000483c 0180006A'            MVKH    .S2     RL566,B3          ; |2082| 
    9526 00004840 00002000             NOP             2
    9527 00004844           RL566:     ; CALL OCCURS                     ; |2082| 
    9528 00004844 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |2082| 
    9529                            .line   1363
    9530                    ;------------------------------------------------------------------------------
    9531                    ; 2084 | if( (xCoord - *a) > hw )                           //       (each dot i
    9532                    ;     | s displaced differently                                                
    9533                    ;------------------------------------------------------------------------------
    9534 00004848 00240204             LDHU    .D1T1   *A9,A0            ; |2084| 
    9535 0000484c 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |2084| 
    9536 00004850 00004000             NOP             3
    9537 00004854 000140F8             SUB     .L1     A10,A0,A0         ; |2084| 
    9538 00004858 00009AFA             CMPGT   .L2X    A0,B4,B0          ; |2084| 
    9539                            .line   1364
    9540                    ;------------------------------------------------------------------------------
    9541                    ; 2085 | xCoord = rectL + u16Over;                       //       every frame in
    9542                    ;     |  this target!)                                                         
    9543                    ;------------------------------------------------------------------------------
    9544 0000485c 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |2085| 
    9545 00004860 00006000             NOP             4
    9546 00004864 20201078     [ B0]   ADD     .L1X    A0,B8,A0          ; |2085| 
    9547 00004868 25021008     [ B0]   EXTU    .S1     A0,16,16,A10      ; |2085| 
    9548                            .line   1365
    9549                    ;------------------------------------------------------------------------------
    9550                    ; 2086 | else xCoord = rectR - u16Over;                                         
    9551                    ;------------------------------------------------------------------------------
    9552 0000486c 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |2086| 
    9553 00004870 00006000             NOP             4
    9554 00004874 301110F8     [!B0]   SUB     .L1X    A8,B4,A0          ; |2086| 
    9555 00004878 35021008     [!B0]   EXTU    .S1     A0,16,16,A10      ; |2086| 
    9556                            .line   1367
    9557                    ;------------------------------------------------------------------------------
    9558                    ; 2088 | yCoord = (UINT16) GetRandNum();                                        
    9559                    ;------------------------------------------------------------------------------
    9560 0000487c 0FF6FA10             B       .S1     _GetRandNum       ; |2088| 
    9561 00004880 01A4462A'            MVKL    .S2     RL568,B3          ; |2088| 
    9562 00004884 0180006A'            MVKH    .S2     RL568,B3          ; |2088| 
    9563 00004888 00004000             NOP             3
    9564 0000488c           RL568:     ; CALL OCCURS                     ; |2088| 
    9565                            .line   1368
    9566                    ;------------------------------------------------------------------------------
    9567                    ; 2089 | yCoord = rectD + (yCoord % rectH);                                     
    9568                    ;------------------------------------------------------------------------------
    9570 00004890 023DE286             LDHU    .D2T2   *+SP(30),B4       ; 
    9569 0000488c 0FF6F010!            B       .S1     __remi            ; |2089| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  175

    9571 00004894 01A4502A'            MVKL    .S2     RL570,B3          ; |2089| 
    9572 00004898 0180006A'            MVKH    .S2     RL570,B3          ; |2089| 
    9573 0000489c 00002000             NOP             2
    9574 000048a0           RL570:     ; CALL OCCURS                     ; |2089| 
    9575 000048a0 00249078             ADD     .L1X    A4,B9,A0          ; 
    9576 000048a4 05821008             EXTU    .S1     A0,16,16,A11      ; |2089| 
    9577                            .line   1369
    9578 000048a8 00001610             B       .S1     L119              ; |2090| 
    9579 000048ac 00008000             NOP             5
    9580                               ; BRANCH OCCURS                   ; |2090| 
    9581                    ;** --------------------------------------------------------------------------*
    9582 000048b0           L118:    
    9583                            .line   1370
    9584                    ;------------------------------------------------------------------------------
    9585                    ; 2091 | else if( (yCoord > rectU) || (yCoord < rectD) )                        
    9586                    ;------------------------------------------------------------------------------
    9588 000048b4 90A57AF8     [!A1]   CMPLT   .L1X    A11,B9,A1         ; |2091| 
    9587 000048b0 00B568F8             CMPGT   .L1     A11,A13,A1        ; |2091| 
    9589 000048b8 90001610     [!A1]   B       .S1     L119              ; |2091| 
    9590 000048bc 00008000             NOP             5
    9591                               ; BRANCH OCCURS                   ; |2091| 
    9592                    ;** --------------------------------------------------------------------------*
    9593                            .line   1372
    9594                    ;------------------------------------------------------------------------------
    9595                    ; 2093 | if( yCoord > rectU ) u16Over = yCoord - rectU;                         
    9596                    ;------------------------------------------------------------------------------
    9597 000048c0 00B568F8             CMPGT   .L1     A11,A13,A1        ; |2093| 
    9598 000048c4 803560F8     [ A1]   SUB     .L1     A11,A13,A0        ; |2093| 
    9599 000048c8 803EA2D4     [ A1]   STH     .D2T1   A0,*+SP(42)       ; |2093| 
    9600                            .line   1373
    9601                    ;------------------------------------------------------------------------------
    9602                    ; 2094 | else                 u16Over = rectD - yCoord;                         
    9603                    ;------------------------------------------------------------------------------
    9604 000048cc 922D30FA     [!A1]   SUB     .L2X    B9,A11,B4         ; |2094| 
    9605 000048d0 923EA2D6     [!A1]   STH     .D2T2   B4,*+SP(42)       ; |2094| 
    9606                            .line   1374
    9607                    ;------------------------------------------------------------------------------
    9608                    ; 2095 | u16Over = u16Over % rectH;                                             
    9609                    ;------------------------------------------------------------------------------
    9610                    
    9611 000048d4 0FF6E811!            B       .S1     __remi            ; |2095| 
    9612 000048d8 023DE286  ||         LDHU    .D2T2   *+SP(30),B4       ; 
    9613                    
    9614 000048dc 023EA284             LDHU    .D2T1   *+SP(42),A4       ; 
    9615 000048e0 01A4762A'            MVKL    .S2     RL572,B3          ; |2095| 
    9616 000048e4 0180006A'            MVKH    .S2     RL572,B3          ; |2095| 
    9617 000048e8 00002000             NOP             2
    9618 000048ec           RL572:     ; CALL OCCURS                     ; |2095| 
    9619 000048ec 023EA2D4             STH     .D2T1   A4,*+SP(42)       ; |2095| 
    9620                            .line   1376
    9621                    ;------------------------------------------------------------------------------
    9622                    ; 2097 | if( (yCoord - *b) > vw )                           //       (each dot i
    9623                    ;     | s displaced differently                                                
    9624                    ;------------------------------------------------------------------------------
    9625 000048f0 001C0204             LDHU    .D1T1   *A7,A0            ; |2097| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  176

    9626 000048f4 023CA2C6             LDH     .D2T2   *+SP(10),B4       ; |2097| 
    9627 000048f8 00004000             NOP             3
    9628 000048fc 000160F8             SUB     .L1     A11,A0,A0         ; |2097| 
    9629 00004900 00009AFA             CMPGT   .L2X    A0,B4,B0          ; |2097| 
    9630                            .line   1377
    9631                    ;------------------------------------------------------------------------------
    9632                    ; 2098 | yCoord = rectD + u16Over;                       //       every frame in
    9633                    ;     |  this target!)                                                         
    9634                    ;------------------------------------------------------------------------------
    9635 00004904 203EA284     [ B0]   LDHU    .D2T1   *+SP(42),A0       ; |2098| 
    9636 00004908 00006000             NOP             4
    9637 0000490c 20241078     [ B0]   ADD     .L1X    A0,B9,A0          ; |2098| 
    9638 00004910 25821008     [ B0]   EXTU    .S1     A0,16,16,A11      ; |2098| 
    9639                            .line   1378
    9640                    ;------------------------------------------------------------------------------
    9641                    ; 2099 | else yCoord = rectU - u16Over;                                         
    9642                    ;------------------------------------------------------------------------------
    9643 00004914 323EA286     [!B0]   LDHU    .D2T2   *+SP(42),B4       ; |2099| 
    9644 00004918 00006000             NOP             4
    9645 0000491c 3011B0F8     [!B0]   SUB     .L1X    A13,B4,A0         ; |2099| 
    9646 00004920 35821008     [!B0]   EXTU    .S1     A0,16,16,A11      ; |2099| 
    9647                            .line   1380
    9648                    ;------------------------------------------------------------------------------
    9649                    ; 2101 | xCoord = (UINT16) GetRandNum();                                        
    9650                    ;------------------------------------------------------------------------------
    9651 00004924 0FF6E210             B       .S1     _GetRandNum       ; |2101| 
    9652 00004928 01A49A2A'            MVKL    .S2     RL574,B3          ; |2101| 
    9653 0000492c 0180006A'            MVKH    .S2     RL574,B3          ; |2101| 
    9654 00004930 00004000             NOP             3
    9655 00004934           RL574:     ; CALL OCCURS                     ; |2101| 
    9656                            .line   1381
    9657                    ;------------------------------------------------------------------------------
    9658                    ; 2102 | xCoord = rectL + (xCoord % rectW);                                     
    9659                    ;------------------------------------------------------------------------------
    9661 00004938 023DC286             LDHU    .D2T2   *+SP(28),B4       ; 
    9660 00004934 0FF6DC10!            B       .S1     __remi            ; |2102| 
    9662 0000493c 01A4A42A'            MVKL    .S2     RL576,B3          ; |2102| 
    9663 00004940 0180006A'            MVKH    .S2     RL576,B3          ; |2102| 
    9664 00004944 00002000             NOP             2
    9665 00004948           RL576:     ; CALL OCCURS                     ; |2102| 
    9666 00004948 00209078             ADD     .L1X    A4,B8,A0          ; 
    9667 0000494c 05021008             EXTU    .S1     A0,16,16,A10      ; |2102| 
    9668                    ;** --------------------------------------------------------------------------*
    9669 00004950           L119:    
    9670                            .line   1384
    9671                    ;------------------------------------------------------------------------------
    9672                    ; 2105 | *a = xCoord;                                          //       remember
    9673                    ;     |  the new dot location!                                                 
    9674                    ;------------------------------------------------------------------------------
    9676                            .line   1385
    9675 00004950 05240254             STH     .D1T1   A10,*A9           ; |2105| 
    9677                    ;------------------------------------------------------------------------------
    9678                    ; 2106 | *b = yCoord;                                                           
    9679                    ;------------------------------------------------------------------------------
    9680 00004954 059C0254             STH     .D1T1   A11,*A7           ; |2106| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  177

    9681                            .line   1387
    9682                    ;------------------------------------------------------------------------------
    9683                    ; 2108 | xyvals = ((*a << 16) | *b);                           //       draw the
    9684                    ;     |  dot                                                                   
    9685                    ;------------------------------------------------------------------------------
    9686 00004958 00240204             LDHU    .D1T1   *A9,A0            ; |2108| 
    9687 0000495c 019C0204             LDHU    .D1T1   *A7,A3            ; |2108| 
    9688 00004960 00004000             NOP             3
    9689 00004964 00020CA0             SHL     .S1     A0,16,A0          ; |2108| 
    9690 00004968 00006FF8             OR      .L1     A3,A0,A0          ; |2108| 
    9691 0000496c 003DC2F4             STW     .D2T1   A0,*+SP(56)       ; |2108| 
    9692                            .line   1388
    9693                    ;------------------------------------------------------------------------------
    9694                    ; 2109 | while( *stataddr & 0x1 );                                              
    9695                    ;------------------------------------------------------------------------------
    9696 00004970 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2109| 
    9697 00004974 00006000             NOP             4
    9698 00004978 021002E6             LDW     .D2T2   *B4,B4            ; |2109| 
    9699 0000497c 00006000             NOP             4
    9700 00004980 00102F5A             AND     .L2     1,B4,B0           ; |2109| 
    9701 00004984 30000510     [!B0]   B       .S1     L121              ; |2109| 
    9702 00004988 00008000             NOP             5
    9703                               ; BRANCH OCCURS                   ; |2109| 
    9704                    ;*----------------------------------------------------------------------------*
    9705                    ;*   SOFTWARE PIPELINE INFORMATION
    9706                    ;*      Disqualified loop: software pipelining disabled
    9707                    ;*----------------------------------------------------------------------------*
    9708 0000498c           L120:    
    9709 0000498c 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2109| 
    9710 00004990 00006000             NOP             4
    9711 00004994 021002E6             LDW     .D2T2   *B4,B4            ; |2109| 
    9712 00004998 00006000             NOP             4
    9713 0000499c 00102F5A             AND     .L2     1,B4,B0           ; |2109| 
    9714 000049a0 2FFFFD90     [ B0]   B       .S1     L120              ; |2109| 
    9715 000049a4 00008000             NOP             5
    9716                               ; BRANCH OCCURS                   ; |2109| 
    9717                    ;** --------------------------------------------------------------------------*
    9718 000049a8           L121:    
    9719                            .line   1389
    9720                    ;------------------------------------------------------------------------------
    9721                    ; 2110 | *locaddr = xyvals;                                                     
    9722                    ;------------------------------------------------------------------------------
    9724 000049ac 003E42E4             LDW     .D2T1   *+SP(72),A0       ; |2110| 
    9723 000049a8 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |2110| 
    9725 000049b0 00006000             NOP             4
    9726 000049b4 02000276             STW     .D1T2   B4,*A0            ; |2110| 
    9727                            .line   1390
    9728                    ;------------------------------------------------------------------------------
    9729                    ; 2111 | visibleDotsXY[nTotalVisDots++] = xyvals;              //       save pac
    9730                    ;     | ked coords in visi dots array                                          
    9731                    ;------------------------------------------------------------------------------
    9732 000049b8 030030EE             LDW     .D2T2   *+SP(192),B6      ; |2111| 
    9733 000049bc 02BDC2E6             LDW     .D2T2   *+SP(56),B5       ; |2111| 
    9734 000049c0 0230105A             MV      .L2X    A12,B4            ; 
    9735 000049c4 06302058             ADD     .L1     1,A12,A12         ; 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  178

    9736 000049c8 00002000             NOP             2
    9737 000049cc 02988AF6             STW     .D2T2   B5,*+B6[B4]       ; |2111| 
    9738                            .line   1391
    9739                    ;------------------------------------------------------------------------------
    9740                    ; 2112 | a++;                                                  //       move on 
    9741                    ;     | to next dot                                                            
    9742                    ;------------------------------------------------------------------------------
    9743 000049d0 04A44058             ADD     .L1     2,A9,A9           ; |2112| 
    9744                            .line   1392
    9745                    ;------------------------------------------------------------------------------
    9746                    ; 2113 | b++;                                                                   
    9747                    ;------------------------------------------------------------------------------
    9748 000049d4 039C4058             ADD     .L1     2,A7,A7           ; |2113| 
    9749                            .line   1393
    9750                    ;------------------------------------------------------------------------------
    9751                    ; 2114 | nextDotLife++;                                                         
    9752                    ;------------------------------------------------------------------------------
    9753 000049d8 020023EE             LDW     .D2T2   *+SP(140),B4      ; |2114| 
    9754 000049dc 00006000             NOP             4
    9755 000049e0 0210405A             ADD     .L2     2,B4,B4           ; |2114| 
    9756 000049e4 020023FE             STW     .D2T2   B4,*+SP(140)      ; |2114| 
    9757                            .line   1394
    9758                    ;------------------------------------------------------------------------------
    9759                    ; 2115 | nextDotNoise++;                                                        
    9760                    ;------------------------------------------------------------------------------
    9761 000049e8 020025EE             LDW     .D2T2   *+SP(148),B4      ; |2115| 
    9762 000049ec 00006000             NOP             4
    9763 000049f0 0210405A             ADD     .L2     2,B4,B4           ; |2115| 
    9764 000049f4 020025FE             STW     .D2T2   B4,*+SP(148)      ; |2115| 
    9765                            .line   1395
    9766                    ;------------------------------------------------------------------------------
    9767                    ; 2116 | nextFracDX++;                                                          
    9768                    ;------------------------------------------------------------------------------
    9769 000049f8 020027EE             LDW     .D2T2   *+SP(156),B4      ; |2116| 
    9770 000049fc 00006000             NOP             4
    9771 00004a00 0210405A             ADD     .L2     2,B4,B4           ; |2116| 
    9772 00004a04 020027FE             STW     .D2T2   B4,*+SP(156)      ; |2116| 
    9773                            .line   1396
    9774                    ;------------------------------------------------------------------------------
    9775                    ; 2117 | nextFracDY++;                                                          
    9776                    ;------------------------------------------------------------------------------
    9777 00004a08 020029EE             LDW     .D2T2   *+SP(164),B4      ; |2117| 
    9778 00004a0c 00006000             NOP             4
    9779 00004a10 0210405A             ADD     .L2     2,B4,B4           ; |2117| 
    9780 00004a14 020029FE             STW     .D2T2   B4,*+SP(164)      ; |2117| 
    9781                            .line   1397
    9782 00004a18 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |2118| 
    9783 00004a1c 8FFF7790     [ A1]   B       .S1     L116              ; |2118| 
    9784 00004a20 00008000             NOP             5
    9785                               ; BRANCH OCCURS                   ; |2118| 
    9786                    ;** --------------------------------------------------------------------------*
    9787                            .line   1398
    9788 00004a24 0000B390             B       .S1     L133              ; |2119| 
    9789 00004a28 00008000             NOP             5
    9790                               ; BRANCH OCCURS                   ; |2119| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  179

    9791                    ;** --------------------------------------------------------------------------*
    9792 00004a2c           L122:    
    9793                            .line   1399
    9794                    ;------------------------------------------------------------------------------
    9795                    ; 2120 | else if( u16Type == OPTICFLOW )                             // OPTICFLO
    9796                    ;     | W:  Dot speed varies w/ radial pos,                                    
    9797                    ; 2121 | {                                                           // calc'd e
    9798                    ;     | very frame.  See file header for                                       
    9799                    ; 2122 | // explanation of implementation...                                    
    9800                    ;------------------------------------------------------------------------------
    9802 00004a30 00006000             NOP             4
    9801 00004a2c 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |2120| 
    9803 00004a34 00112A5A             CMPEQ   .L2     B4,9,B0           ; |2120| 
    9804 00004a38 3000B390     [!B0]   B       .S1     L133              ; |2120| 
    9805 00004a3c 00008000             NOP             5
    9806                               ; BRANCH OCCURS                   ; |2120| 
    9807                    ;** --------------------------------------------------------------------------*
    9808                            .line   1402
    9809                    ;------------------------------------------------------------------------------
    9810                    ; 2123 | nVisDotsPerTgt[d] = parameters->wNumDots[d];             //    every do
    9811                    ;     | t in target is visible                                                 
    9812                    ;------------------------------------------------------------------------------
    9813 00004a40 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2123| 
    9814 00004a44 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |2123| 
    9815 00004a48 03002EEE             LDW     .D2T2   *+SP(184),B6      ; |2123| 
    9816 00004a4c 00004000             NOP             3
    9817 00004a50 02949A42             ADDAH   .D2     B5,B4,B5          ; |2123| 
    9818 00004a54 02802A52             ADDK    .S2     84,B5             ; |2123| 
    9819 00004a58 02940286             LDHU    .D2T2   *B5,B5            ; |2123| 
    9820 00004a5c 00006000             NOP             4
    9821 00004a60 02988AD6             STH     .D2T2   B5,*+B6[B4]       ; |2123| 
    9822                            .line   1404
    9823                    ;------------------------------------------------------------------------------
    9824                    ; 2125 | if( hv < 0 )                                             //    FOR DECE
    9825                    ;     | LERATING FLOWS:                                                        
    9826                    ;------------------------------------------------------------------------------
    9827 00004a64 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |2125| 
    9828 00004a68 00006000             NOP             4
    9829 00004a6c 001008DA             CMPLT   .L2     B4,0,B0           ; |2125| 
    9830 00004a70 30006B90     [!B0]   B       .S1     L128              ; |2125| 
    9831 00004a74 00008000             NOP             5
    9832                               ; BRANCH OCCURS                   ; |2125| 
    9833                    ;** --------------------------------------------------------------------------*
    9834                            .line   1406
    9835                    ;------------------------------------------------------------------------------
    9836                    ; 2127 | rectH = (UINT16) (-hv);                               //    this factor
    9837                    ;     |  in the recycle rate incr with                                         
    9838                    ;------------------------------------------------------------------------------
    9839 00004a78 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |2127| 
    9840 00004a7c 00006000             NOP             4
    9841 00004a80 021000DA             NEG     .L2     B4,B4             ; |2127| 
    9842 00004a84 023DE2D6             STH     .D2T2   B4,*+SP(30)       ; |2127| 
    9843                            .line   1407
    9844                    ;------------------------------------------------------------------------------
    9845                    ; 2128 | rectH >>= vv;                                         //    B ~ deltaT 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  180

    9846                    ;     | * flow vel / 3.  the scaling                                           
    9847                    ;------------------------------------------------------------------------------
    9848 00004a88 02BDE286             LDHU    .D2T2   *+SP(30),B5       ; |2128| 
    9849 00004a8c 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |2128| 
    9850 00004a90 00006000             NOP             4
    9851 00004a94 021489E2             SHRU    .S2     B5,B4,B4          ; |2128| 
    9852 00004a98 023DE2D6             STH     .D2T2   B4,*+SP(30)       ; |2128| 
    9853                            .line   1408
    9854                    ;------------------------------------------------------------------------------
    9855                    ; 2129 | rectH /= 3;                                           //    by 1/3 was 
    9856                    ;     | determined heuristically.                                              
    9857                    ;------------------------------------------------------------------------------
    9858 00004a9c 0FF6B010!            B       .S1     __divi            ; |2129| 
    9859 00004aa0 023DE284             LDHU    .D2T1   *+SP(30),A4       ; 
    9860 00004aa4 01A55A2A'            MVKL    .S2     RL578,B3          ; |2129| 
    9861 00004aa8 0180006A'            MVKH    .S2     RL578,B3          ; |2129| 
    9862 00004aac 020001AA             MVK     .S2     0x3,B4            ; |2129| 
    9863 00004ab0 00000000             NOP             1
    9864 00004ab4           RL578:     ; CALL OCCURS                     ; |2129| 
    9865 00004ab4 023DE2D4             STH     .D2T1   A4,*+SP(30)       ; |2129| 
    9866                            .line   1409
    9867                    ;------------------------------------------------------------------------------
    9868                    ; 2130 | if( rectH < 1 ) rectH = 1;                            //    rate limite
    9869                    ;     | d to [1..400] parts per 1000.                                          
    9870                    ;------------------------------------------------------------------------------
    9871 00004ab8 023DE286             LDHU    .D2T2   *+SP(30),B4       ; |2130| 
    9872 00004abc 00006000             NOP             4
    9873 00004ac0 00100ADA             CMPGT   .L2     B4,0,B0           ; |2130| 
    9874 00004ac4 300000A8     [!B0]   MVK     .S1     1,A0              ; |2130| 
    9875 00004ac8 303DE2D4     [!B0]   STH     .D2T1   A0,*+SP(30)       ; |2130| 
    9876                            .line   1410
    9877                    ;------------------------------------------------------------------------------
    9878                    ; 2131 | if( rectH > 400 ) rectH = 400;                                         
    9879                    ;------------------------------------------------------------------------------
    9880 00004acc 023DE286             LDHU    .D2T2   *+SP(30),B4       ; |2131| 
    9881 00004ad0 0000C828             MVK     .S1     400,A0            ; |2131| 
    9882 00004ad4 00004000             NOP             3
    9883 00004ad8 00901AF8             CMPGT   .L1X    B4,A0,A1          ; |2131| 
    9884 00004adc 8200C82A     [ A1]   MVK     .S2     400,B4            ; |2131| 
    9885 00004ae0 823DE2D6     [ A1]   STH     .D2T2   B4,*+SP(30)       ; |2131| 
    9886                            .line   1412
    9887                    ;------------------------------------------------------------------------------
    9888                    ; 2133 | i32val = hv * sincosLUT[ rectL ];                     //    change in r
    9889                    ;     | adial pos at outer edge; repos                                         
    9890                    ;------------------------------------------------------------------------------
    9891 00004ae4 020034EE             LDW     .D2T2   *+SP(208),B4      ; |2133| 
    9892 00004ae8 00006000             NOP             4
    9893 00004aec 02910AC6             LDH     .D2T2   *+B4[B8],B5       ; |2133| 
    9894 00004af0 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |2133| 
    9895 00004af4 00006000             NOP             4
    9896 00004af8 0590AC82             MPY     .M2     B5,B4,B11         ; |2133| 
    9897 00004afc 00000000             NOP             1
    9898                            .line   1413
    9899                    ;------------------------------------------------------------------------------
    9900                    ; 2134 | i32val >>= (10 + vv);                                 //    dots in the
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  181

    9901                    ;     |  band between outer radius and                                         
    9902                    ;------------------------------------------------------------------------------
    9903 00004b00 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |2134| 
    9904 00004b04 00006000             NOP             4
    9905 00004b08 0211405A             ADD     .L2     10,B4,B4          ; |2134| 
    9906 00004b0c 05AC8DE2             SHR     .S2     B11,B4,B11        ; |2134| 
    9907                            .line   1414
    9908                    ;------------------------------------------------------------------------------
    9909                    ; 2135 | i32val += (INT32) rectL;                              //    r = rOuter 
    9910                    ;     | - radial chng at outer edge...                                         
    9911                    ;------------------------------------------------------------------------------
    9912 00004b10 05AD007A             ADD     .L2     B8,B11,B11        ; |2135| 
    9913                            .line   1415
    9914                    ;------------------------------------------------------------------------------
    9915                    ; 2136 | u16tmp = (UINT16) i32val;                                              
    9916                    ;------------------------------------------------------------------------------
    9917 00004b14 05BE82D6             STH     .D2T2   B11,*+SP(40)      ; |2136| 
    9918                            .line   1417
    9919                    ;------------------------------------------------------------------------------
    9920                    ; 2138 | while( a < de )                                                        
    9921                    ;------------------------------------------------------------------------------
    9922 00004b18 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |2138| 
    9923 00004b1c 90009790     [!A1]   B       .S1     L133              ; |2138| 
    9924 00004b20 00008000             NOP             5
    9925                               ; BRANCH OCCURS                   ; |2138| 
    9926                    ;** --------------------------------------------------------------------------*
    9927                    ;**   BEGIN LOOP L123
    9928                    ;** --------------------------------------------------------------------------*
    9929 00004b24           L123:    
    9930                            .line   1419
    9931                    ;------------------------------------------------------------------------------
    9932                    ; 2140 | i32val = hv * sincosLUT[ *a ];                     //    dr*2^(10+M)= [
    9933                    ;     | B*2^M]*[sin(r)*cos(r)*2^10]                                            
    9934                    ;------------------------------------------------------------------------------
    9936 00004b28 000034EC             LDW     .D2T1   *+SP(208),A0      ; |2140| 
    9935 00004b24 01A40204             LDHU    .D1T1   *A9,A3            ; |2140| 
    9937 00004b2c 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |2140| 
    9938 00004b30 00004000             NOP             3
    9939 00004b34 00006A44             LDH     .D1T1   *+A0[A3],A0       ; |2140| 
    9940 00004b38 00006000             NOP             4
    9941 00004b3c 05809C82             MPY     .M2X    A0,B4,B11         ; |2140| 
    9942 00004b40 00000000             NOP             1
    9943                            .line   1420
    9944                    ;------------------------------------------------------------------------------
    9945                    ; 2141 | i32val >>= (2 + vv);                               //    dr*2^(10+M) --
    9946                    ;     | > dr*2^8                                                               
    9947                    ;------------------------------------------------------------------------------
    9948 00004b44 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |2141| 
    9949 00004b48 00006000             NOP             4
    9950 00004b4c 0210405A             ADD     .L2     2,B4,B4           ; |2141| 
    9951 00004b50 05AC8DE2             SHR     .S2     B11,B4,B11        ; |2141| 
    9952                            .line   1421
    9953                    ;------------------------------------------------------------------------------
    9954                    ; 2142 | i32val += (INT32) *nextDotLife;                    //    accum fraction
    9955                    ;     | al pos chng (deg/100/2^8)                                              
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  182

    9956                    ; 2143 | //    from last update -- NOTE usage of the                            
    9957                    ; 2144 | //    "dotlife" array for this purpose!                                
    9958                    ;------------------------------------------------------------------------------
    9959 00004b54 020023EE             LDW     .D2T2   *+SP(140),B4      ; |2142| 
    9960 00004b58 00006000             NOP             4
    9961 00004b5c 029002C6             LDH     .D2T2   *B4,B5            ; |2142| 
    9962 00004b60 00006000             NOP             4
    9963 00004b64 05ACA07A             ADD     .L2     B5,B11,B11        ; |2142| 
    9964                            .line   1425
    9965                    ;------------------------------------------------------------------------------
    9966                    ; 2146 | *nextDotLife = 0xFF00 | (0x00FF & i32val);         //    carry over fra
    9967                    ;     | c pos chng for next update                                             
    9968                    ;------------------------------------------------------------------------------
    9969 00004b68 02AF180A             EXTU    .S2     B11,24,24,B5      ; |2146| 
    9970 00004b6c 02950F8A             SET     .S2     B5,8,15,B5        ; |2146| 
    9971 00004b70 029002D6             STH     .D2T2   B5,*B4            ; |2146| 
    9972                            .line   1426
    9973                    ;------------------------------------------------------------------------------
    9974                    ; 2147 | i32val >>= 8;                                      //    dr*2^8 --> dr 
    9975                    ;------------------------------------------------------------------------------
    9976 00004b74 05AD0DA2             SHR     .S2     B11,8,B11         ; |2147| 
    9977                            .line   1427
    9978                    ;------------------------------------------------------------------------------
    9979                    ; 2148 | ++i32val;                                          //    -1 maps to 0 f
    9980                    ;     | or neg flows                                                           
    9981                    ;------------------------------------------------------------------------------
    9982 00004b78 05AC205A             ADD     .L2     1,B11,B11         ; |2148| 
    9983                            .line   1428
    9984                    ;------------------------------------------------------------------------------
    9985                    ; 2149 | i32val += (INT32) *a;                              //    r' = r + dr   
    9986                    ;------------------------------------------------------------------------------
    9987 00004b7c 02240206             LDHU    .D1T2   *A9,B4            ; |2149| 
    9988 00004b80 00006000             NOP             4
    9989 00004b84 05AC807A             ADD     .L2     B4,B11,B11        ; |2149| 
    9990                            .line   1429
    9991                    ;------------------------------------------------------------------------------
    9992                    ; 2150 | *a = (UINT16) i32val;                                                  
    9993                    ;------------------------------------------------------------------------------
    9994 00004b88 05A40256             STH     .D1T2   B11,*A9           ; |2150| 
    9995                            .line   1431
    9996                    ;------------------------------------------------------------------------------
    9997                    ; 2152 | u16Dummy = ((UINT16) GetRandNum()) % 1000;         //    algorithm for 
    9998                    ;     | choosing dots to recycle:                                              
    9999                    ;------------------------------------------------------------------------------
   10000 00004b8c 0FF69610             B       .S1     _GetRandNum       ; |2152| 
   10001 00004b90 01A5CE2A'            MVKL    .S2     RL582,B3          ; |2152| 
   10002 00004b94 0180006A'            MVKH    .S2     RL582,B3          ; |2152| 
   10003 00004b98 00004000             NOP             3
   10004 00004b9c           RL582:     ; CALL OCCURS                     ; |2152| 
   10005 00004b9c 0FF69010!            B       .S1     __remi            ; |2152| 
   10006 00004ba0 01A5D82A'            MVKL    .S2     RL584,B3          ; |2152| 
   10007 00004ba4 0180006A'            MVKH    .S2     RL584,B3          ; |2152| 
   10008 00004ba8 0201F42A             MVK     .S2     0x3e8,B4          ; |2152| 
   10009 00004bac 00002000             NOP             2
   10010 00004bb0           RL584:     ; CALL OCCURS                     ; |2152| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  183

   10011 00004bb0 023E62D4             STH     .D2T1   A4,*+SP(38)       ; |2152| 
   10012                            .line   1432
   10013                    ;------------------------------------------------------------------------------
   10014                    ; 2153 | rectW = rectR +                                    //       1) dot has 
   10015                    ;     | entered hole at FOE, or                                                
   10016                    ; 2154 | (((UINT16) GetRandNum()) % (rectL-rectR));      //       2) is randomly
   10017                    ;     |  selected for recycle.                                                 
   10018                    ;------------------------------------------------------------------------------
   10019 00004bb4 0FF69210             B       .S1     _GetRandNum       ; |2153| 
   10020 00004bb8 01A5E22A'            MVKL    .S2     RL588,B3          ; |2153| 
   10021 00004bbc 0180006A'            MVKH    .S2     RL588,B3          ; |2153| 
   10022 00004bc0 00004000             NOP             3
   10023 00004bc4           RL588:     ; CALL OCCURS                     ; |2153| 
   10024 00004bc4 0FF68810!            B       .S1     __remi            ; |2153| 
   10025 00004bc8 01A5EC2A'            MVKL    .S2     RL590,B3          ; |2153| 
   10026 00004bcc 0180006A'            MVKH    .S2     RL590,B3          ; |2153| 
   10027 00004bd0 022110FA             SUB     .L2X    B8,A8,B4          ; 
   10028 00004bd4 00002000             NOP             2
   10029 00004bd8           RL590:     ; CALL OCCURS                     ; |2153| 
   10030 00004bd8 00208078             ADD     .L1     A4,A8,A0          ; 
   10031 00004bdc 003DC2D4             STH     .D2T1   A0,*+SP(28)       ; |2153| 
   10032                            .line   1434
   10033                    ;------------------------------------------------------------------------------
   10034                    ; 2155 | if( (i32val < (INT32) rectR) ||                    //    if chosen for 
   10035                    ;     | recycle, randomly choose                                               
   10036                    ; 2156 | ((u16Dummy<rectH) && (i32val<(INT32)rectW))    //    polar coords (r,th
   10037                    ;     | eta) so that dot is                                                    
   10038                    ; 2157 | )                                               //    repos in band nea
   10039                    ;     | r outer edge of field                                                  
   10040                    ;------------------------------------------------------------------------------
   10041 00004be0 00217AFA             CMPLT   .L2X    B11,A8,B0         ; |2155| 
   10042 00004be4 20000710     [ B0]   B       .S1     L124              ; |2155| 
   10043                    
   10044 00004be8 2500005B     [ B0]   MV      .L2     B0,B10            ; |2155| 
   10045 00004bec 323DE286  || [!B0]   LDHU    .D2T2   *+SP(30),B4       ; |2155| 
   10046                    
   10047 00004bf0 32BE6287     [!B0]   LDHU    .D2T2   *+SP(38),B5       ; |2155| 
   10048 00004bf4 2028005A  || [ B0]   MV      .L2     B10,B0            ; |2155| 
   10049                    
   10050 00004bf8 00004000             NOP             3
   10051                               ; BRANCH OCCURS                   ; |2155| 
   10052                    ;** --------------------------------------------------------------------------*
   10053 00004bfc 00000000             NOP             1
   10054 00004c00 0010AAFA             CMPLT   .L2     B5,B4,B0          ; |2155| 
   10055 00004c04 223DC286     [ B0]   LDHU    .D2T2   *+SP(28),B4       ; |2155| 
   10056 00004c08 00006000             NOP             4
   10057 00004c0c 20116AFA     [ B0]   CMPLT   .L2     B11,B4,B0         ; |2155| 
   10058 00004c10 0500005A             MV      .L2     B0,B10            ; 
   10059 00004c14 0028005A             MV      .L2     B10,B0            ; |2155| 
   10060                    ;** --------------------------------------------------------------------------*
   10061 00004c18           L124:    
   10062 00004c18 30001010     [!B0]   B       .S1     L125              ; |2155| 
   10063 00004c1c 00008000             NOP             5
   10064                               ; BRANCH OCCURS                   ; |2155| 
   10065                    ;** --------------------------------------------------------------------------*
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  184

   10066                            .line   1438
   10067                    ;------------------------------------------------------------------------------
   10068                    ; 2159 | *a = u16tmp + (((UINT16) GetRandNum()) % (rectL-u16tmp));              
   10069                    ;------------------------------------------------------------------------------
   10070 00004c20 0FF68210             B       .S1     _GetRandNum       ; |2159| 
   10071 00004c24 01A6182A'            MVKL    .S2     RL594,B3          ; |2159| 
   10072 00004c28 0180006A'            MVKH    .S2     RL594,B3          ; |2159| 
   10073 00004c2c 00004000             NOP             3
   10074 00004c30           RL594:     ; CALL OCCURS                     ; |2159| 
   10075                    
   10076 00004c30 0FF67C11!            B       .S1     __remi            ; |2159| 
   10077 00004c34 023E8286  ||         LDHU    .D2T2   *+SP(40),B4       ; |2159| 
   10078                    
   10079 00004c38 01A6242A'            MVKL    .S2     RL596,B3          ; |2159| 
   10080 00004c3c 0180006A'            MVKH    .S2     RL596,B3          ; |2159| 
   10081 00004c40 00002000             NOP             2
   10082 00004c44 021100FA             SUB     .L2     B8,B4,B4          ; 
   10083 00004c48           RL596:     ; CALL OCCURS                     ; |2159| 
   10084 00004c48 023E8286             LDHU    .D2T2   *+SP(40),B4       ; |2159| 
   10085 00004c4c 00006000             NOP             4
   10086 00004c50 00109078             ADD     .L1X    A4,B4,A0          ; 
   10087 00004c54 00240254             STH     .D1T1   A0,*A9            ; |2159| 
   10088                            .line   1439
   10089                    ;------------------------------------------------------------------------------
   10090                    ; 2160 | *b = (((UINT16) GetRandNum()) % 3600);                                 
   10091                    ;------------------------------------------------------------------------------
   10092 00004c58 0FF67E10             B       .S1     _GetRandNum       ; |2160| 
   10093 00004c5c 01A6342A'            MVKL    .S2     RL600,B3          ; |2160| 
   10094 00004c60 0180006A'            MVKH    .S2     RL600,B3          ; |2160| 
   10095 00004c64 00004000             NOP             3
   10096 00004c68           RL600:     ; CALL OCCURS                     ; |2160| 
   10097 00004c68 0FF67410!            B       .S1     __remi            ; |2160| 
   10098 00004c6c 01A63E2A'            MVKL    .S2     RL602,B3          ; |2160| 
   10099 00004c70 0180006A'            MVKH    .S2     RL602,B3          ; |2160| 
   10100 00004c74 0207082A             MVK     .S2     0xe10,B4          ; |2160| 
   10101 00004c78 00002000             NOP             2
   10102 00004c7c           RL602:     ; CALL OCCURS                     ; |2160| 
   10103 00004c7c 021C0254             STH     .D1T1   A4,*A7            ; |2160| 
   10104                    ;** --------------------------------------------------------------------------*
   10105 00004c80           L125:    
   10106                            .line   1442
   10107                    ;------------------------------------------------------------------------------
   10108                    ; 2163 | hw = tanLUT[ *a ];                                 //    convert new po
   10109                    ;     | lar coords to (x,y) pix:                                               
   10110                    ;------------------------------------------------------------------------------
   10112 00004c84 018033EC             LDW     .D2T1   *+SP(204),A3      ; |2163| 
   10111 00004c80 00240204             LDHU    .D1T1   *A9,A0            ; |2163| 
   10113 00004c88 00006000             NOP             4
   10114 00004c8c 000C0A44             LDH     .D1T1   *+A3[A0],A0       ; |2163| 
   10115 00004c90 00006000             NOP             4
   10116 00004c94 003C82D4             STH     .D2T1   A0,*+SP(8)        ; |2163| 
   10117                            .line   1443
   10118                    ;------------------------------------------------------------------------------
   10119                    ; 2164 | i32val = rectU * hw;                               //    r*2^20= [alpha
   10120                    ;     | X*2^10] * [tan(rDeg)*2^10]                                             
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  185

   10121                    ;------------------------------------------------------------------------------
   10122 00004c98 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |2164| 
   10123 00004c9c 00006000             NOP             4
   10124 00004ca0 05B49D82             MPYUS   .M2X    A13,B4,B11        ; |2164| 
   10125 00004ca4 00000000             NOP             1
   10126                            .line   1444
   10127                    ;------------------------------------------------------------------------------
   10128                    ; 2165 | i32val >>= 10;                                     //    r*2^20 --> r*2
   10129                    ;     | ^10                                                                    
   10130                    ;------------------------------------------------------------------------------
   10131 00004ca8 05AD4DA2             SHR     .S2     B11,10,B11        ; |2165| 
   10132                            .line   1445
   10133                    ;------------------------------------------------------------------------------
   10134                    ; 2166 | i32val *= cosLUT[ *b ];                            //    x*2^20= [r*2^1
   10135                    ;     | 0] * [cos(theta) * 2^10]                                               
   10136                    ;------------------------------------------------------------------------------
   10137 00004cac 018036EC             LDW     .D2T1   *+SP(216),A3      ; |2166| 
   10138 00004cb0 001C0204             LDHU    .D1T1   *A7,A0            ; |2166| 
   10139 00004cb4 00006000             NOP             4
   10140 00004cb8 018C0A44             LDH     .D1T1   *+A3[A0],A3       ; |2166| 
   10141 00004cbc 00006000             NOP             4
   10142 00004cc0 002C7880             MPYLH   .M1X    A3,B11,A0         ; |2166| 
   10143 00004cc4 020D7E82             MPYSU   .M2X    A3,B11,B4         ; |2166| 
   10144 00004cc8 00020CA0             SHL     .S1     A0,16,A0          ; |2166| 
   10145 00004ccc 0580907A             ADD     .L2X    B4,A0,B11         ; |2166| 
   10146                            .line   1446
   10147                    ;------------------------------------------------------------------------------
   10148                    ; 2167 | i32val >>= 4;                                      //    x(pix) = [x*2^
   10149                    ;     | 20]/16 = x*65536                                                       
   10150                    ;------------------------------------------------------------------------------
   10151 00004cd0 05AC8DA2             SHR     .S2     B11,4,B11         ; |2167| 
   10152                            .line   1447
   10153                    ;------------------------------------------------------------------------------
   10154                    ; 2168 | i32val += xCoord;                                  //    offset by FOE'
   10155                    ;     | s x-coord                                                              
   10156                    ;------------------------------------------------------------------------------
   10157 00004cd4 05A9707A             ADD     .L2X    A10,B11,B11       ; |2168| 
   10158                            .line   1448
   10159                    ;------------------------------------------------------------------------------
   10160                    ; 2169 | xyvals = ((0x0000FFFF & i32val) << 16);            //    pack x-coord f
   10161                    ;     | or download to dotter brd;                                             
   10162                    ; 2170 | //    "wraps" dots that exceed [0..65535]!                             
   10163                    ;------------------------------------------------------------------------------
   10164 00004cd8 022E100A             EXTU    .S2     B11,16,16,B4      ; |2169| 
   10165 00004cdc 02920CA2             SHL     .S2     B4,16,B5          ; |2169| 
   10166 00004ce0 02BDC2F6             STW     .D2T2   B5,*+SP(56)       ; |2169| 
   10167                            .line   1451
   10168                    ;------------------------------------------------------------------------------
   10169                    ; 2172 | i32val = rectD * hw;                               //    analogously fo
   10170                    ;     | r the y-coord, except we                                               
   10171                    ;------------------------------------------------------------------------------
   10172 00004ce4 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |2172| 
   10173 00004ce8 00006000             NOP             4
   10174 00004cec 05912E82             MPYUS   .M2     B9,B4,B11         ; |2172| 
   10175 00004cf0 00000000             NOP             1
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  186

   10176                            .line   1452
   10177                    ;------------------------------------------------------------------------------
   10178                    ; 2173 | i32val >>= 10;                                     //    use the alphaY
   10179                    ;     |  conversion factor, and                                                
   10180                    ;------------------------------------------------------------------------------
   10181 00004cf4 05AD4DA2             SHR     .S2     B11,10,B11        ; |2173| 
   10182                            .line   1453
   10183                    ;------------------------------------------------------------------------------
   10184                    ; 2174 | i32val *= sinLUT[ *b ];                            //    sin(theta)... 
   10185                    ;------------------------------------------------------------------------------
   10186 00004cf8 030035EE             LDW     .D2T2   *+SP(212),B6      ; |2174| 
   10187 00004cfc 021C0206             LDHU    .D1T2   *A7,B4            ; |2174| 
   10188 00004d00 00006000             NOP             4
   10189 00004d04 03188AC6             LDH     .D2T2   *+B6[B4],B6       ; |2174| 
   10190 00004d08 00006000             NOP             4
   10191 00004d0c 022CC882             MPYLH   .M2     B6,B11,B4         ; |2174| 
   10192 00004d10 032CCD82             MPYSU   .M2     B6,B11,B6         ; |2174| 
   10193 00004d14 02120CA2             SHL     .S2     B4,16,B4          ; |2174| 
   10194 00004d18 0590C07A             ADD     .L2     B6,B4,B11         ; |2174| 
   10195                            .line   1454
   10196                    ;------------------------------------------------------------------------------
   10197                    ; 2175 | i32val >>= 4;                                                          
   10198                    ;------------------------------------------------------------------------------
   10199 00004d1c 05AC8DA2             SHR     .S2     B11,4,B11         ; |2175| 
   10200                            .line   1455
   10201                    ;------------------------------------------------------------------------------
   10202                    ; 2176 | i32val += yCoord;                                  //    ... and we off
   10203                    ;     | set by FOE's y-coord                                                   
   10204                    ;------------------------------------------------------------------------------
   10205 00004d20 05AD707A             ADD     .L2X    A11,B11,B11       ; |2176| 
   10206                            .line   1456
   10207                    ;------------------------------------------------------------------------------
   10208                    ; 2177 | xyvals |= (0x0000FFFF & i32val);                                       
   10209                    ;------------------------------------------------------------------------------
   10210 00004d24 022E100A             EXTU    .S2     B11,16,16,B4      ; |2177| 
   10211 00004d28 02148FFA             OR      .L2     B4,B5,B4          ; |2177| 
   10212 00004d2c 023DC2F6             STW     .D2T2   B4,*+SP(56)       ; |2177| 
   10213                            .line   1458
   10214                    ;------------------------------------------------------------------------------
   10215                    ; 2179 | while( *stataddr & 0x1 );                          //    finally:  draw
   10216                    ;     |  the dot!                                                              
   10217                    ;------------------------------------------------------------------------------
   10218 00004d30 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2179| 
   10219 00004d34 00006000             NOP             4
   10220 00004d38 021002E6             LDW     .D2T2   *B4,B4            ; |2179| 
   10221 00004d3c 00006000             NOP             4
   10222 00004d40 00903F58             AND     .L1X    1,B4,A1           ; |2179| 
   10223 00004d44 90000510     [!A1]   B       .S1     L127              ; |2179| 
   10224 00004d48 00008000             NOP             5
   10225                               ; BRANCH OCCURS                   ; |2179| 
   10226                    ;*----------------------------------------------------------------------------*
   10227                    ;*   SOFTWARE PIPELINE INFORMATION
   10228                    ;*      Disqualified loop: software pipelining disabled
   10229                    ;*----------------------------------------------------------------------------*
   10230 00004d4c           L126:    
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  187

   10231 00004d4c 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2179| 
   10232 00004d50 00006000             NOP             4
   10233 00004d54 021002E6             LDW     .D2T2   *B4,B4            ; |2179| 
   10234 00004d58 00006000             NOP             4
   10235 00004d5c 00102F5A             AND     .L2     1,B4,B0           ; |2179| 
   10236 00004d60 2FFFFD90     [ B0]   B       .S1     L126              ; |2179| 
   10237 00004d64 00008000             NOP             5
   10238                               ; BRANCH OCCURS                   ; |2179| 
   10239                    ;** --------------------------------------------------------------------------*
   10240 00004d68           L127:    
   10241                            .line   1459
   10242                    ;------------------------------------------------------------------------------
   10243                    ; 2180 | *locaddr = xyvals;                                                     
   10244                    ;------------------------------------------------------------------------------
   10246 00004d6c 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |2180| 
   10245 00004d68 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |2180| 
   10247 00004d70 00006000             NOP             4
   10248 00004d74 021402F6             STW     .D2T2   B4,*B5            ; |2180| 
   10249                            .line   1460
   10250                    ;------------------------------------------------------------------------------
   10251                    ; 2181 | visibleDotsXY[nTotalVisDots++] = xyvals;           //    save packed co
   10252                    ;     | ords in visi dots array                                                
   10253                    ;------------------------------------------------------------------------------
   10254 00004d78 028030EE             LDW     .D2T2   *+SP(192),B5      ; |2181| 
   10255 00004d7c 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |2181| 
   10256 00004d80 0330105A             MV      .L2X    A12,B6            ; 
   10257 00004d84 06302058             ADD     .L1     1,A12,A12         ; 
   10258 00004d88 00002000             NOP             2
   10259 00004d8c 0214CAF6             STW     .D2T2   B4,*+B5[B6]       ; |2181| 
   10260                            .line   1462
   10261                    ;------------------------------------------------------------------------------
   10262                    ; 2183 | ++a;                                               //    move on to nex
   10263                    ;     | t dot                                                                  
   10264                    ;------------------------------------------------------------------------------
   10265 00004d90 04A44058             ADD     .L1     2,A9,A9           ; |2183| 
   10266                            .line   1463
   10267                    ;------------------------------------------------------------------------------
   10268                    ; 2184 | ++b;                                                                   
   10269                    ;------------------------------------------------------------------------------
   10270 00004d94 039C4058             ADD     .L1     2,A7,A7           ; |2184| 
   10271                            .line   1464
   10272                    ;------------------------------------------------------------------------------
   10273                    ; 2185 | ++nextDotLife;                                                         
   10274                    ;------------------------------------------------------------------------------
   10275 00004d98 020023EE             LDW     .D2T2   *+SP(140),B4      ; |2185| 
   10276 00004d9c 00006000             NOP             4
   10277 00004da0 0210405A             ADD     .L2     2,B4,B4           ; |2185| 
   10278 00004da4 020023FE             STW     .D2T2   B4,*+SP(140)      ; |2185| 
   10279                            .line   1465
   10280 00004da8 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |2186| 
   10281 00004dac 8FFFB090     [ A1]   B       .S1     L123              ; |2186| 
   10282 00004db0 00008000             NOP             5
   10283                               ; BRANCH OCCURS                   ; |2186| 
   10284                    ;** --------------------------------------------------------------------------*
   10285                            .line   1466
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  188

   10286 00004db4 00004390             B       .S1     L133              ; |2187| 
   10287 00004db8 00008000             NOP             5
   10288                               ; BRANCH OCCURS                   ; |2187| 
   10289                    ;** --------------------------------------------------------------------------*
   10290 00004dbc           L128:    
   10291                            .line   1467
   10292                    ;------------------------------------------------------------------------------
   10293                    ; 2188 | else while( a < de )                                     //    FOR ACCE
   10294                    ;     | LERATING FLOWS (simpler):                                              
   10295                    ;------------------------------------------------------------------------------
   10297 00004dc0 90003F90     [!A1]   B       .S1     L133              ; |2188| 
   10296 00004dbc 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |2188| 
   10298 00004dc4 00008000             NOP             5
   10299                               ; BRANCH OCCURS                   ; |2188| 
   10300                    ;** --------------------------------------------------------------------------*
   10301                    ;**   BEGIN LOOP L129
   10302                    ;** --------------------------------------------------------------------------*
   10303 00004dc8           L129:    
   10304                            .line   1469
   10305                    ;------------------------------------------------------------------------------
   10306                    ; 2190 | i32val = hv * sincosLUT[ *a ];                        //    dr*2^(10+M)
   10307                    ;     | = [B*2^M]*[sin(r)*cos(r)*2^10]                                         
   10308                    ;------------------------------------------------------------------------------
   10310 00004dcc 018034EC             LDW     .D2T1   *+SP(208),A3      ; |2190| 
   10309 00004dc8 00240204             LDHU    .D1T1   *A9,A0            ; |2190| 
   10311 00004dd0 023C42C6             LDH     .D2T2   *+SP(4),B4        ; |2190| 
   10312 00004dd4 00004000             NOP             3
   10313 00004dd8 000C0A44             LDH     .D1T1   *+A3[A0],A0       ; |2190| 
   10314 00004ddc 00006000             NOP             4
   10315 00004de0 05809C82             MPY     .M2X    A0,B4,B11         ; |2190| 
   10316 00004de4 00000000             NOP             1
   10317                            .line   1470
   10318                    ;------------------------------------------------------------------------------
   10319                    ; 2191 | i32val >>= (2 + vv);                                  //    dr*2^(10+M)
   10320                    ;     |  --> dr*2^8                                                            
   10321                    ;------------------------------------------------------------------------------
   10322 00004de8 023C62C6             LDH     .D2T2   *+SP(6),B4        ; |2191| 
   10323 00004dec 00006000             NOP             4
   10324 00004df0 0210405A             ADD     .L2     2,B4,B4           ; |2191| 
   10325 00004df4 05AC8DE2             SHR     .S2     B11,B4,B11        ; |2191| 
   10326                            .line   1471
   10327                    ;------------------------------------------------------------------------------
   10328                    ; 2192 | i32val += (INT32) *nextDotLife;                       //    accum fract
   10329                    ;     | ional pos change from last upd                                         
   10330                    ;------------------------------------------------------------------------------
   10331 00004df8 028023EE             LDW     .D2T2   *+SP(140),B5      ; |2192| 
   10332 00004dfc 00006000             NOP             4
   10333 00004e00 021402C6             LDH     .D2T2   *B5,B4            ; |2192| 
   10334 00004e04 00006000             NOP             4
   10335 00004e08 05AC807A             ADD     .L2     B4,B11,B11        ; |2192| 
   10336                            .line   1473
   10337                    ;------------------------------------------------------------------------------
   10338                    ; 2194 | *nextDotLife = 0x00FF & i32val;                       //    carry over 
   10339                    ;     | frac pos chng for next update                                          
   10340                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  189

   10341 00004e0c 022F180A             EXTU    .S2     B11,24,24,B4      ; |2194| 
   10342 00004e10 021402D6             STH     .D2T2   B4,*B5            ; |2194| 
   10343                            .line   1474
   10344                    ;------------------------------------------------------------------------------
   10345                    ; 2195 | i32val >>= 8;                                         //    dr*2^8 --> 
   10346                    ;     | dr                                                                     
   10347                    ;------------------------------------------------------------------------------
   10348 00004e14 05AD0DA2             SHR     .S2     B11,8,B11         ; |2195| 
   10349                            .line   1475
   10350                    ;------------------------------------------------------------------------------
   10351                    ; 2196 | i32val += (INT32) *a;                                 //    r' = r + dr
   10352                    ;------------------------------------------------------------------------------
   10353 00004e18 02240206             LDHU    .D1T2   *A9,B4            ; |2196| 
   10354 00004e1c 00006000             NOP             4
   10355 00004e20 05AC807A             ADD     .L2     B4,B11,B11        ; |2196| 
   10356                            .line   1476
   10357                    ;------------------------------------------------------------------------------
   10358                    ; 2197 | *a = (UINT16) i32val;                                 //    update new 
   10359                    ;     | radial pos                                                             
   10360                    ;------------------------------------------------------------------------------
   10361 00004e24 05A40256             STH     .D1T2   B11,*A9           ; |2197| 
   10362                            .line   1477
   10363                    ;------------------------------------------------------------------------------
   10364                    ; 2198 | if( i32val > (INT32) rectL )                          //    randomly re
   10365                    ;     | pos dots that pass outer edge                                          
   10366                    ;------------------------------------------------------------------------------
   10367 00004e28 002168FA             CMPGT   .L2     B11,B8,B0         ; |2198| 
   10368 00004e2c 30000D10     [!B0]   B       .S1     L130              ; |2198| 
   10369 00004e30 00008000             NOP             5
   10370                               ; BRANCH OCCURS                   ; |2198| 
   10371                    ;** --------------------------------------------------------------------------*
   10372                            .line   1479
   10373                    ;------------------------------------------------------------------------------
   10374                    ; 2200 | *a = rectR +                                                           
   10375                    ; 2201 | (((UINT16) GetRandNum()) % (rectL-rectR));                             
   10376                    ;------------------------------------------------------------------------------
   10377 00004e34 0FF64210             B       .S1     _GetRandNum       ; |2200| 
   10378 00004e38 01A7222A'            MVKL    .S2     RL606,B3          ; |2200| 
   10379 00004e3c 0180006A'            MVKH    .S2     RL606,B3          ; |2200| 
   10380 00004e40 00004000             NOP             3
   10381 00004e44           RL606:     ; CALL OCCURS                     ; |2200| 
   10382 00004e44 0FF63810!            B       .S1     __remi            ; |2200| 
   10383 00004e48 01A72C2A'            MVKL    .S2     RL608,B3          ; |2200| 
   10384 00004e4c 0180006A'            MVKH    .S2     RL608,B3          ; |2200| 
   10385 00004e50 022110FA             SUB     .L2X    B8,A8,B4          ; 
   10386 00004e54 00002000             NOP             2
   10387 00004e58           RL608:     ; CALL OCCURS                     ; |2200| 
   10388 00004e58 00208078             ADD     .L1     A4,A8,A0          ; 
   10389 00004e5c 00240254             STH     .D1T1   A0,*A9            ; |2200| 
   10390                            .line   1481
   10391                    ;------------------------------------------------------------------------------
   10392                    ; 2202 | *b = (((UINT16) GetRandNum()) % 3600);                                 
   10393                    ;------------------------------------------------------------------------------
   10394 00004e60 0FF63A10             B       .S1     _GetRandNum       ; |2202| 
   10395 00004e64 01A7382A'            MVKL    .S2     RL612,B3          ; |2202| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  190

   10396 00004e68 0180006A'            MVKH    .S2     RL612,B3          ; |2202| 
   10397 00004e6c 00004000             NOP             3
   10398 00004e70           RL612:     ; CALL OCCURS                     ; |2202| 
   10399 00004e70 0FF63410!            B       .S1     __remi            ; |2202| 
   10400 00004e74 01A7422A'            MVKL    .S2     RL614,B3          ; |2202| 
   10401 00004e78 0180006A'            MVKH    .S2     RL614,B3          ; |2202| 
   10402 00004e7c 0207082A             MVK     .S2     0xe10,B4          ; |2202| 
   10403 00004e80 00002000             NOP             2
   10404 00004e84           RL614:     ; CALL OCCURS                     ; |2202| 
   10405 00004e84 021C0254             STH     .D1T1   A4,*A7            ; |2202| 
   10406                    ;** --------------------------------------------------------------------------*
   10407 00004e88           L130:    
   10408                            .line   1484
   10409                    ;------------------------------------------------------------------------------
   10410                    ; 2205 | hw = tanLUT[ *a ];                                    //    convert new
   10411                    ;     |  polar coords to (x,y) pix:                                            
   10412                    ;------------------------------------------------------------------------------
   10414 00004e8c 000033EC             LDW     .D2T1   *+SP(204),A0      ; |2205| 
   10413 00004e88 01A40204             LDHU    .D1T1   *A9,A3            ; |2205| 
   10415 00004e90 00006000             NOP             4
   10416 00004e94 00006A44             LDH     .D1T1   *+A0[A3],A0       ; |2205| 
   10417 00004e98 00006000             NOP             4
   10418 00004e9c 003C82D4             STH     .D2T1   A0,*+SP(8)        ; |2205| 
   10419                            .line   1485
   10420                    ;------------------------------------------------------------------------------
   10421                    ; 2206 | i32val = rectU * hw;                                  //    r*2^20= [al
   10422                    ;     | phaX*2^10] * [tan(rDeg)*2^10]                                          
   10423                    ;------------------------------------------------------------------------------
   10424 00004ea0 023C82C6             LDH     .D2T2   *+SP(8),B4        ; |2206| 
   10425 00004ea4 00006000             NOP             4
   10426 00004ea8 05B49D82             MPYUS   .M2X    A13,B4,B11        ; |2206| 
   10427 00004eac 00000000             NOP             1
   10428                            .line   1486
   10429                    ;------------------------------------------------------------------------------
   10430                    ; 2207 | i32val >>= 10;                                        //    r*2^20 --> 
   10431                    ;     | r*2^10                                                                 
   10432                    ;------------------------------------------------------------------------------
   10433 00004eb0 05AD4DA2             SHR     .S2     B11,10,B11        ; |2207| 
   10434                            .line   1487
   10435                    ;------------------------------------------------------------------------------
   10436                    ; 2208 | i32val *= cosLUT[ *b ];                               //    x*2^20= [r*
   10437                    ;     | 2^10] * [cos(theta) * 2^10]                                            
   10438                    ;------------------------------------------------------------------------------
   10439 00004eb4 018036EC             LDW     .D2T1   *+SP(216),A3      ; |2208| 
   10440 00004eb8 001C0204             LDHU    .D1T1   *A7,A0            ; |2208| 
   10441 00004ebc 00006000             NOP             4
   10442 00004ec0 018C0A44             LDH     .D1T1   *+A3[A0],A3       ; |2208| 
   10443 00004ec4 00006000             NOP             4
   10444 00004ec8 002C7880             MPYLH   .M1X    A3,B11,A0         ; |2208| 
   10445 00004ecc 020D7E82             MPYSU   .M2X    A3,B11,B4         ; |2208| 
   10446 00004ed0 00020CA0             SHL     .S1     A0,16,A0          ; |2208| 
   10447 00004ed4 0580907A             ADD     .L2X    B4,A0,B11         ; |2208| 
   10448                            .line   1488
   10449                    ;------------------------------------------------------------------------------
   10450                    ; 2209 | i32val >>= 4;                                         //    x(pix) = [x
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  191

   10451                    ;     | *2^20]/16 = x*65536                                                    
   10452                    ;------------------------------------------------------------------------------
   10453 00004ed8 05AC8DA2             SHR     .S2     B11,4,B11         ; |2209| 
   10454                            .line   1489
   10455                    ;------------------------------------------------------------------------------
   10456                    ; 2210 | i32val += xCoord;                                     //    offset by F
   10457                    ;     | OE's x-coord                                                           
   10458                    ;------------------------------------------------------------------------------
   10459 00004edc 05A9707A             ADD     .L2X    A10,B11,B11       ; |2210| 
   10460                            .line   1490
   10461                    ;------------------------------------------------------------------------------
   10462                    ; 2211 | xyvals = ((0x0000FFFF & i32val) << 16);               //    pack x-coor
   10463                    ;     | d for download to dotter brd                                           
   10464                    ;------------------------------------------------------------------------------
   10465 00004ee0 022E100A             EXTU    .S2     B11,16,16,B4      ; |2211| 
   10466 00004ee4 02120CA2             SHL     .S2     B4,16,B4          ; |2211| 
   10467 00004ee8 023DC2F6             STW     .D2T2   B4,*+SP(56)       ; |2211| 
   10468                            .line   1492
   10469                    ;------------------------------------------------------------------------------
   10470                    ; 2213 | i32val = rectD * hw;                                  //    analogously
   10471                    ;     |  for y-coord, except we use                                            
   10472                    ;------------------------------------------------------------------------------
   10473 00004eec 02BC82C6             LDH     .D2T2   *+SP(8),B5        ; |2213| 
   10474 00004ef0 00006000             NOP             4
   10475 00004ef4 05952E82             MPYUS   .M2     B9,B5,B11         ; |2213| 
   10476 00004ef8 00000000             NOP             1
   10477                            .line   1493
   10478                    ;------------------------------------------------------------------------------
   10479                    ; 2214 | i32val >>= 10;                                        //    alphaY and 
   10480                    ;     | sin(theta)...                                                          
   10481                    ;------------------------------------------------------------------------------
   10482 00004efc 05AD4DA2             SHR     .S2     B11,10,B11        ; |2214| 
   10483                            .line   1494
   10484                    ;------------------------------------------------------------------------------
   10485                    ; 2215 | i32val *= sinLUT[ *b ];                                                
   10486                    ;------------------------------------------------------------------------------
   10487 00004f00 031C0206             LDHU    .D1T2   *A7,B6            ; |2215| 
   10488 00004f04 028035EE             LDW     .D2T2   *+SP(212),B5      ; |2215| 
   10489 00004f08 00006000             NOP             4
   10490 00004f0c 0314CAC6             LDH     .D2T2   *+B5[B6],B6       ; |2215| 
   10491 00004f10 00006000             NOP             4
   10492 00004f14 02ACC882             MPYLH   .M2     B6,B11,B5         ; |2215| 
   10493 00004f18 032CCD82             MPYSU   .M2     B6,B11,B6         ; |2215| 
   10494 00004f1c 02960CA2             SHL     .S2     B5,16,B5          ; |2215| 
   10495 00004f20 0594C07A             ADD     .L2     B6,B5,B11         ; |2215| 
   10496                            .line   1495
   10497                    ;------------------------------------------------------------------------------
   10498                    ; 2216 | i32val >>= 4;                                                          
   10499                    ;------------------------------------------------------------------------------
   10500 00004f24 05AC8DA2             SHR     .S2     B11,4,B11         ; |2216| 
   10501                            .line   1496
   10502                    ;------------------------------------------------------------------------------
   10503                    ; 2217 | i32val += yCoord;                                     //    ... and we 
   10504                    ;     | offset by FOE's y-coord                                                
   10505                    ;------------------------------------------------------------------------------
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  192

   10506 00004f28 05AD707A             ADD     .L2X    A11,B11,B11       ; |2217| 
   10507                            .line   1497
   10508                    ;------------------------------------------------------------------------------
   10509                    ; 2218 | xyvals |= (0x0000FFFF & i32val);                                       
   10510                    ;------------------------------------------------------------------------------
   10511 00004f2c 02AE100A             EXTU    .S2     B11,16,16,B5      ; |2218| 
   10512 00004f30 0210AFFA             OR      .L2     B5,B4,B4          ; |2218| 
   10513 00004f34 023DC2F6             STW     .D2T2   B4,*+SP(56)       ; |2218| 
   10514                            .line   1499
   10515                    ;------------------------------------------------------------------------------
   10516                    ; 2220 | while( *stataddr & 0x1 );                             //    finally:  d
   10517                    ;     | raw the dot!                                                           
   10518                    ;------------------------------------------------------------------------------
   10519 00004f38 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2220| 
   10520 00004f3c 00006000             NOP             4
   10521 00004f40 021002E6             LDW     .D2T2   *B4,B4            ; |2220| 
   10522 00004f44 00006000             NOP             4
   10523 00004f48 00903F58             AND     .L1X    1,B4,A1           ; |2220| 
   10524 00004f4c 90000610     [!A1]   B       .S1     L132              ; |2220| 
   10525 00004f50 00008000             NOP             5
   10526                               ; BRANCH OCCURS                   ; |2220| 
   10527                    ;*----------------------------------------------------------------------------*
   10528                    ;*   SOFTWARE PIPELINE INFORMATION
   10529                    ;*      Disqualified loop: software pipelining disabled
   10530                    ;*----------------------------------------------------------------------------*
   10531 00004f54           L131:    
   10532 00004f54 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2220| 
   10533 00004f58 00006000             NOP             4
   10534 00004f5c 021002E6             LDW     .D2T2   *B4,B4            ; |2220| 
   10535 00004f60 00006000             NOP             4
   10536 00004f64 00102F5A             AND     .L2     1,B4,B0           ; |2220| 
   10537 00004f68 2FFFFE90     [ B0]   B       .S1     L131              ; |2220| 
   10538 00004f6c 00008000             NOP             5
   10539                               ; BRANCH OCCURS                   ; |2220| 
   10540                    ;** --------------------------------------------------------------------------*
   10541 00004f70           L132:    
   10542                            .line   1500
   10543                    ;------------------------------------------------------------------------------
   10544                    ; 2221 | *locaddr = xyvals;                                                     
   10545                    ;------------------------------------------------------------------------------
   10547 00004f74 023E42E6             LDW     .D2T2   *+SP(72),B4       ; |2221| 
   10546 00004f70 02BDC2E6             LDW     .D2T2   *+SP(56),B5       ; |2221| 
   10548 00004f78 00006000             NOP             4
   10549 00004f7c 029002F6             STW     .D2T2   B5,*B4            ; |2221| 
   10550                            .line   1501
   10551                    ;------------------------------------------------------------------------------
   10552                    ; 2222 | visibleDotsXY[nTotalVisDots++] = xyvals;              //    save packed
   10553                    ;     |  coords in visi dots array                                             
   10554                    ;------------------------------------------------------------------------------
   10555 00004f80 028030EE             LDW     .D2T2   *+SP(192),B5      ; |2222| 
   10556 00004f84 023DC2E6             LDW     .D2T2   *+SP(56),B4       ; |2222| 
   10557 00004f88 0330105A             MV      .L2X    A12,B6            ; 
   10558 00004f8c 06302058             ADD     .L1     1,A12,A12         ; 
   10559 00004f90 00002000             NOP             2
   10560 00004f94 0214CAF6             STW     .D2T2   B4,*+B5[B6]       ; |2222| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  193

   10561                            .line   1503
   10562                    ;------------------------------------------------------------------------------
   10563                    ; 2224 | ++a;                                                  //    move on to 
   10564                    ;     | next dot                                                               
   10565                    ;------------------------------------------------------------------------------
   10566 00004f98 04A44058             ADD     .L1     2,A9,A9           ; |2224| 
   10567                            .line   1504
   10568                    ;------------------------------------------------------------------------------
   10569                    ; 2225 | ++b;                                                                   
   10570                    ;------------------------------------------------------------------------------
   10571 00004f9c 039C4058             ADD     .L1     2,A7,A7           ; |2225| 
   10572                            .line   1505
   10573                    ;------------------------------------------------------------------------------
   10574                    ; 2226 | ++nextDotLife;                                                         
   10575                    ;------------------------------------------------------------------------------
   10576 00004fa0 020023EE             LDW     .D2T2   *+SP(140),B4      ; |2226| 
   10577 00004fa4 00006000             NOP             4
   10578 00004fa8 0210405A             ADD     .L2     2,B4,B4           ; |2226| 
   10579 00004fac 020023FE             STW     .D2T2   B4,*+SP(140)      ; |2226| 
   10580                            .line   1506
   10581 00004fb0 00B92BF8             CMPLTU  .L1     A9,A14,A1         ; |2227| 
   10582 00004fb4 8FFFC510     [ A1]   B       .S1     L129              ; |2227| 
   10583 00004fb8 00008000             NOP             5
   10584                               ; BRANCH OCCURS                   ; |2227| 
   10585                    ;** --------------------------------------------------------------------------*
   10586 00004fbc           L133:    
   10587                            .line   1510
   10588                    ;------------------------------------------------------------------------------
   10589                    ; 2231 | u16Dummy = (UINT16) data[cd + NREPS];                       // decremen
   10590                    ;     | t #reps for this tgt                                                   
   10591                    ;------------------------------------------------------------------------------
   10593 00004fc0 018032EC             LDW     .D2T1   *+SP(200),A3      ; |2231| 
   10592 00004fbc 023F62E6             LDW     .D2T2   *+SP(108),B4      ; |2231| 
   10594 00004fc4 00004000             NOP             3
   10595 00004fc8 00109058             ADD     .L1X    4,B4,A0           ; |2231| 
   10596 00004fcc 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |2231| 
   10597 00004fd0 00006000             NOP             4
   10598 00004fd4 003E62D4             STH     .D2T1   A0,*+SP(38)       ; |2231| 
   10599                            .line   1511
   10600                    ;------------------------------------------------------------------------------
   10601                    ; 2232 | if( u16Type == DOTLIFEWIN || u16Type == DL_NOISEDIR ||      // (be sure
   10602                    ;     |  to mask out dot life decr in reps                                     
   10603                    ; 2233 | u16Type == DL_NOISESPEED )                              // field for th
   10604                    ;     | e "limited dot life" tgt types)                                        
   10605                    ;------------------------------------------------------------------------------
   10606 00004fd8 023E4286             LDHU    .D2T2   *+SP(36),B4       ; |2232| 
   10607 00004fdc 00006000             NOP             4
   10608 00004fe0 00110A5A             CMPEQ   .L2     B4,8,B0           ; |2232| 
   10609 00004fe4 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |2232| 
   10610 00004fe8 00006000             NOP             4
   10611 00004fec 30116A5A     [!B0]   CMPEQ   .L2     B4,11,B0          ; |2232| 
   10612 00004ff0 323E4286     [!B0]   LDHU    .D2T2   *+SP(36),B4       ; |2232| 
   10613 00004ff4 00006000             NOP             4
   10614 00004ff8 3011AA5A     [!B0]   CMPEQ   .L2     B4,13,B0          ; |2232| 
   10615                            .line   1513
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  194

   10616                    ;------------------------------------------------------------------------------
   10617                    ; 2234 | u16Dummy &= 0x000000FF;                                                
   10618                    ;------------------------------------------------------------------------------
   10619 00004ffc 223E6286     [ B0]   LDHU    .D2T2   *+SP(38),B4       ; |2234| 
   10620 00005000 00006000             NOP             4
   10621 00005004 2213180A     [ B0]   EXTU    .S2     B4,24,24,B4       ; |2234| 
   10622 00005008 223E62D6     [ B0]   STH     .D2T2   B4,*+SP(38)       ; |2234| 
   10623                            .line   1514
   10624                    ;------------------------------------------------------------------------------
   10625                    ; 2235 | nRedrawsLeft[d] = u16Dummy;                                            
   10626                    ;------------------------------------------------------------------------------
   10627 0000500c 01BF42E4             LDW     .D2T1   *+SP(104),A3      ; |2235| 
   10628 00005010 00002DEC             LDW     .D2T1   *+SP(180),A0      ; |2235| 
   10629 00005014 023E6286             LDHU    .D2T2   *+SP(38),B4       ; |2235| 
   10630 00005018 00006000             NOP             4
   10631 0000501c 02006A56             STH     .D1T2   B4,*+A0[A3]       ; |2235| 
   10632                            .line   1515
   10633                    ;------------------------------------------------------------------------------
   10634                    ; 2236 | nRedrawsLeft[d]--;                                                     
   10635                    ;------------------------------------------------------------------------------
   10636 00005020 02802DEE             LDW     .D2T2   *+SP(180),B5      ; |2236| 
   10637 00005024 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2236| 
   10638 00005028 00006000             NOP             4
   10639 0000502c 02149A42             ADDAH   .D2     B5,B4,B4          ; |2236| 
   10640 00005030 02900286             LDHU    .D2T2   *B4,B5            ; |2236| 
   10641 00005034 00006000             NOP             4
   10642 00005038 0297E05A             SUB     .L2     B5,1,B5           ; |2236| 
   10643 0000503c 029002D6             STH     .D2T2   B5,*B4            ; |2236| 
   10644                    ;** --------------------------------------------------------------------------*
   10645 00005040           L134:    
   10646                            .line   1516
   10647                    ;------------------------------------------------------------------------------
   10648                    ; 2237 | }                                                              // END: 
   10649                    ;     |  first pass thru all targets                                           
   10650                    ;------------------------------------------------------------------------------
   10652 00005044 00006000             NOP             4
   10651 00005040 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2237| 
   10653 00005048 0290205A             ADD     .L2     1,B4,B5           ; |2237| 
   10654 0000504c 02BF42F6             STW     .D2T2   B5,*+SP(104)      ; |2237| 
   10655 00005050 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |2237| 
   10656 00005054 00006000             NOP             4
   10657 00005058 0210A286             LDHU    .D2T2   *+B4(10),B4       ; |2237| 
   10658 0000505c 00006000             NOP             4
   10659 00005060 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
   10660 00005064 2FF9AD10     [ B0]   B       .S1     L40               ; |2237| 
   10661 00005068 00008000             NOP             5
   10662                               ; BRANCH OCCURS                   ; |2237| 
   10663                    ;** --------------------------------------------------------------------------*
   10664 0000506c           L135:    
   10665                            .line   1518
   10666                    ;------------------------------------------------------------------------------
   10667                    ; 2239 | if( maxRepeats > 0 ) for( i = 0; i < maxRepeats-1; i++ )       // now c
   10668                    ;     | omplete remaining reps for all tgts                                    
   10669                    ; 2240 | {                                                              // by us
   10670                    ;     | ing the visible dots array we prepared                                 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  195

   10671                    ;------------------------------------------------------------------------------
   10673 00005070 00006000             NOP             4
   10672 0000506c 00BFA2E4             LDW     .D2T1   *+SP(116),A1      ; |2239| 
   10674 00005074 90003510     [!A1]   B       .S1     L144              ; |2239| 
   10675 00005078 00008000             NOP             5
   10676                               ; BRANCH OCCURS                   ; |2239| 
   10677                    ;** --------------------------------------------------------------------------*
   10678 0000507c 000000F8             ZERO    .L1     A0                ; |2239| 
   10679 00005080 003EA2F4             STW     .D2T1   A0,*+SP(84)       ; |2239| 
   10680 00005084 0187E058             SUB     .L1     A1,1,A3           ; 
   10681 00005088 008C0BF8             CMPLTU  .L1     A0,A3,A1          ; 
   10682 0000508c 90003110     [!A1]   B       .S1     L144              ; |2239| 
   10683 00005090 00008000             NOP             5
   10684                               ; BRANCH OCCURS                   ; |2239| 
   10685                    ;** --------------------------------------------------------------------------*
   10686                    ;**   BEGIN LOOP L136
   10687                    ;** --------------------------------------------------------------------------*
   10688 00005094           L136:    
   10689                            .line   1520
   10690                    ;------------------------------------------------------------------------------
   10691                    ; 2241 | nTotalVisDots = 0;                                          // in the f
   10692                    ;     | irst pass!!!  This implementation                                      
   10693                    ;------------------------------------------------------------------------------
   10695                            .line   1521
   10694 00005094 060000F8             ZERO    .L1     A12               ; |2241| 
   10696                    ;------------------------------------------------------------------------------
   10697                    ; 2242 | for( d = 0; d < parameters->wNumTargets; d++ )              // allows f
   10698                    ;     | or different NREPS values for                                          
   10699                    ; 2243 | {                                                           // differen
   10700                    ;     | t tgts.  Note that its is important                                    
   10701                    ;------------------------------------------------------------------------------
   10702 00005098 028000FA             ZERO    .L2     B5                ; |2242| 
   10703 0000509c 02BF42F6             STW     .D2T2   B5,*+SP(104)      ; |2242| 
   10704 000050a0 02002AEE             LDW     .D2T2   *+SP(168),B4      ; |2242| 
   10705 000050a4 00006000             NOP             4
   10706 000050a8 0210A286             LDHU    .D2T2   *+B4(10),B4       ; |2242| 
   10707 000050ac 00006000             NOP             4
   10708 000050b0 0010ABFA             CMPLTU  .L2     B5,B4,B0          ; 
   10709 000050b4 30002810     [!B0]   B       .S1     L143              ; |2242| 
   10710 000050b8 00008000             NOP             5
   10711                               ; BRANCH OCCURS                   ; |2242| 
   10712                    ;** --------------------------------------------------------------------------*
   10713                    ;**   BEGIN LOOP L137
   10714                    ;** --------------------------------------------------------------------------*
   10715 000050bc           L137:    
   10716                            .line   1523
   10717                    ;------------------------------------------------------------------------------
   10718                    ; 2244 | if( nRedrawsLeft[d] > 0 )                                // to cycle th
   10719                    ;     | ru the targets rather than                                             
   10720                    ; 2245 | {                                                        // redrawing t
   10721                    ;     | gt1 N times, tgt2 M times, etc.                                        
   10722                    ;------------------------------------------------------------------------------
   10724 000050c0 02002DEE             LDW     .D2T2   *+SP(180),B4      ; |2244| 
   10723 000050bc 02BF42E6             LDW     .D2T2   *+SP(104),B5      ; |2244| 
   10725 000050c4 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  196

   10726 000050c8 0210AA86             LDHU    .D2T2   *+B4[B5],B4       ; |2244| 
   10727 000050cc 00006000             NOP             4
   10728 000050d0 00100ADA             CMPGT   .L2     B4,0,B0           ; |2244| 
   10729 000050d4 30001B90     [!B0]   B       .S1     L142              ; |2244| 
   10730 000050d8 00008000             NOP             5
   10731                               ; BRANCH OCCURS                   ; |2244| 
   10732                    ;** --------------------------------------------------------------------------*
   10733                            .line   1525
   10734                    ;------------------------------------------------------------------------------
   10735                    ; 2246 | k = nTotalVisDots + nVisDotsPerTgt[d];                // the former app
   10736                    ;     | roach move evenly distributes                                          
   10737                    ;------------------------------------------------------------------------------
   10738 000050dc 02002EEE             LDW     .D2T2   *+SP(184),B4      ; |2246| 
   10739 000050e0 00006000             NOP             4
   10740 000050e4 0210AA86             LDHU    .D2T2   *+B4[B5],B4       ; |2246| 
   10741 000050e8 00006000             NOP             4
   10742 000050ec 00119078             ADD     .L1X    B4,A12,A0         ; |2246| 
   10743 000050f0 003EE2F4             STW     .D2T1   A0,*+SP(92)       ; |2246| 
   10744                            .line   1526
   10745                    ;------------------------------------------------------------------------------
   10746                    ; 2247 | for( j = nTotalVisDots; j < k; j++ )                  // individual dot
   10747                    ;     |  refreshes over update period.                                         
   10748                    ;------------------------------------------------------------------------------
   10749 000050f4 063EC2F4             STW     .D2T1   A12,*+SP(88)      ; |2247| 
   10750 000050f8 00818BF8             CMPLTU  .L1     A12,A0,A1         ; 
   10751 000050fc 90001390     [!A1]   B       .S1     L141              ; |2247| 
   10752 00005100 00008000             NOP             5
   10753                               ; BRANCH OCCURS                   ; |2247| 
   10754                    ;** --------------------------------------------------------------------------*
   10755                    ;**   BEGIN LOOP L138
   10756                    ;** --------------------------------------------------------------------------*
   10757 00005104           L138:    
   10758                            .line   1528
   10759                    ;------------------------------------------------------------------------------
   10760                    ; 2249 | while( *stataddr & 0x1 );                                              
   10761                    ;------------------------------------------------------------------------------
   10763 00005108 00006000             NOP             4
   10762 00005104 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2249| 
   10764 0000510c 021002E6             LDW     .D2T2   *B4,B4            ; |2249| 
   10765 00005110 00006000             NOP             4
   10766 00005114 00102F5A             AND     .L2     1,B4,B0           ; |2249| 
   10767 00005118 30000790     [!B0]   B       .S1     L140              ; |2249| 
   10768 0000511c 00008000             NOP             5
   10769                               ; BRANCH OCCURS                   ; |2249| 
   10770                    ;*----------------------------------------------------------------------------*
   10771                    ;*   SOFTWARE PIPELINE INFORMATION
   10772                    ;*      Disqualified loop: software pipelining disabled
   10773                    ;*----------------------------------------------------------------------------*
   10774 00005120           L139:    
   10775 00005120 023E62E6             LDW     .D2T2   *+SP(76),B4       ; |2249| 
   10776 00005124 00006000             NOP             4
   10777 00005128 021002E6             LDW     .D2T2   *B4,B4            ; |2249| 
   10778 0000512c 00006000             NOP             4
   10779 00005130 00102F5A             AND     .L2     1,B4,B0           ; |2249| 
   10780 00005134 20000010     [ B0]   B       .S1     L139              ; |2249| 
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  197

   10781 00005138 00008000             NOP             5
   10782                               ; BRANCH OCCURS                   ; |2249| 
   10783                    ;** --------------------------------------------------------------------------*
   10784 0000513c           L140:    
   10785                            .line   1529
   10786                    ;------------------------------------------------------------------------------
   10787                    ; 2250 | *locaddr = visibleDotsXY[j];                                           
   10788                    ;------------------------------------------------------------------------------
   10790 00005140 028030EE             LDW     .D2T2   *+SP(192),B5      ; |2250| 
   10789 0000513c 023EC2E6             LDW     .D2T2   *+SP(88),B4       ; |2250| 
   10791 00005144 00006000             NOP             4
   10792 00005148 02148AE6             LDW     .D2T2   *+B5[B4],B4       ; |2250| 
   10793 0000514c 02BE42E6             LDW     .D2T2   *+SP(72),B5       ; |2250| 
   10794 00005150 00006000             NOP             4
   10795 00005154 021402F6             STW     .D2T2   B4,*B5            ; |2250| 
   10796                            .line   1530
   10797 00005158 023EC2E6             LDW     .D2T2   *+SP(88),B4       ; |2251| 
   10798 0000515c 00006000             NOP             4
   10799 00005160 0210205A             ADD     .L2     1,B4,B4           ; |2251| 
   10800 00005164 023EC2F6             STW     .D2T2   B4,*+SP(88)       ; |2251| 
   10801 00005168 02BEE2E6             LDW     .D2T2   *+SP(92),B5       ; |2251| 
   10802 0000516c 00006000             NOP             4
   10803 00005170 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
   10804 00005174 2FFFF490     [ B0]   B       .S1     L138              ; |2251| 
   10805 00005178 00008000             NOP             5
   10806                               ; BRANCH OCCURS                   ; |2251| 
   10807                    ;** --------------------------------------------------------------------------*
   10808 0000517c           L141:    
   10809                            .line   1531
   10810                    ;------------------------------------------------------------------------------
   10811                    ; 2252 | nRedrawsLeft[d]--;                                                     
   10812                    ;------------------------------------------------------------------------------
   10814 00005180 02802DEE             LDW     .D2T2   *+SP(180),B5      ; |2252| 
   10813 0000517c 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2252| 
   10815 00005184 00006000             NOP             4
   10816 00005188 02949A42             ADDAH   .D2     B5,B4,B5          ; |2252| 
   10817 0000518c 02140286             LDHU    .D2T2   *B5,B4            ; |2252| 
   10818 00005190 00006000             NOP             4
   10819 00005194 0213E05A             SUB     .L2     B4,1,B4           ; |2252| 
   10820 00005198 021402D6             STH     .D2T2   B4,*B5            ; |2252| 
   10821                    ;** --------------------------------------------------------------------------*
   10822 0000519c           L142:    
   10823                            .line   1533
   10824                    ;------------------------------------------------------------------------------
   10825                    ; 2254 | nTotalVisDots += nVisDotsPerTgt[d];                                    
   10826                    ;------------------------------------------------------------------------------
   10828 000051a0 01802EEC             LDW     .D2T1   *+SP(184),A3      ; |2254| 
   10827 0000519c 003F42E4             LDW     .D2T1   *+SP(104),A0      ; |2254| 
   10829 000051a4 00006000             NOP             4
   10830 000051a8 000C0A04             LDHU    .D1T1   *+A3[A0],A0       ; |2254| 
   10831 000051ac 00006000             NOP             4
   10832 000051b0 06300078             ADD     .L1     A0,A12,A12        ; |2254| 
   10833                            .line   1534
   10834 000051b4 023F42E6             LDW     .D2T2   *+SP(104),B4      ; |2255| 
   10835 000051b8 00006000             NOP             4
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  198

   10836 000051bc 0210205A             ADD     .L2     1,B4,B4           ; |2255| 
   10837 000051c0 023F42F6             STW     .D2T2   B4,*+SP(104)      ; |2255| 
   10838 000051c4 02802AEE             LDW     .D2T2   *+SP(168),B5      ; |2255| 
   10839 000051c8 00006000             NOP             4
   10840 000051cc 0294A286             LDHU    .D2T2   *+B5(10),B5       ; |2255| 
   10841 000051d0 00006000             NOP             4
   10842 000051d4 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
   10843 000051d8 2FFFDF90     [ B0]   B       .S1     L137              ; |2255| 
   10844 000051dc 00008000             NOP             5
   10845                               ; BRANCH OCCURS                   ; |2255| 
   10846                    ;** --------------------------------------------------------------------------*
   10847 000051e0           L143:    
   10848                            .line   1535
   10849                    ;------------------------------------------------------------------------------
   10850                    ; 2258 | }                                                                 // EN
   10851                    ;     | D:  process XYCORE_DOFRAME command...                                  
   10852                    ;------------------------------------------------------------------------------
   10854 000051e4 00006000             NOP             4
   10853 000051e0 023EA2E6             LDW     .D2T2   *+SP(84),B4       ; |2256| 
   10855 000051e8 0210205A             ADD     .L2     1,B4,B4           ; |2256| 
   10856 000051ec 023EA2F6             STW     .D2T2   B4,*+SP(84)       ; |2256| 
   10857 000051f0 02BFA2E6             LDW     .D2T2   *+SP(116),B5      ; |2256| 
   10858 000051f4 00006000             NOP             4
   10859 000051f8 0297E05A             SUB     .L2     B5,1,B5           ; |2256| 
   10860 000051fc 00148BFA             CMPLTU  .L2     B4,B5,B0          ; 
   10861 00005200 2FFFD290     [ B0]   B       .S1     L136              ; |2256| 
   10862 00005204 00008000             NOP             5
   10863                               ; BRANCH OCCURS                   ; |2256| 
   10864                    ;** --------------------------------------------------------------------------*
   10865 00005208           L144:    
   10866                            .line   1540
   10867                    ;------------------------------------------------------------------------------
   10868                    ; 2261 | status = XYCORE_READY;                                            // wr
   10869                    ;     | ite XYCORE_READY into CmdStat register to                              
   10870                    ; 2262 | #if defined(_TGTDAKARF5)                                          // in
   10871                    ;     | form host XYAPI we're ready for next cmd.                              
   10872                    ; 2263 | C4X_Control( PCI, SET_MAILBOX, 2, &status );                           
   10873                    ; 2264 | #elif defined(_TGTDETROIT)                                             
   10874                    ;------------------------------------------------------------------------------
   10876 0000520c 023DA2F6             STW     .D2T2   B4,*+SP(52)       ; |2261| 
   10875 00005208 020000AA             MVK     .S2     1,B4              ; |2261| 
   10877                            .line   1544
   10878                    ;------------------------------------------------------------------------------
   10879                    ; 2265 | C6x_WritePlx( MAILBOX2_OFFSET, status );                               
   10880                    ; 2266 | #else    // _TGTDAYTONA                                                
   10881                    ; 2267 | *((UINT32 *)0x00400000) = status;                                      
   10882                    ; 2268 | #endif                                                                 
   10883                    ;------------------------------------------------------------------------------
   10884 00005210 00006428             MVKL    .S1     0x16000c8,A0      ; |2265| 
   10885 00005214 0000B068             MVKH    .S1     0x16000c8,A0      ; |2265| 
   10886 00005218 02000276             STW     .D1T2   B4,*A0            ; |2265| 
   10887                            .line   1549
   10888                    ;------------------------------------------------------------------------------
   10889                    ; 2270 | } while( command != XYCORE_CLOSE );                                  //
   10890                    ;     |  END runtime loop                                                      
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  199

   10891                    ;------------------------------------------------------------------------------
   10892 0000521c 023D82E6             LDW     .D2T2   *+SP(48),B4       ; |2270| 
   10893 00005220 00006000             NOP             4
   10894 00005224 00108A5A             CMPEQ   .L2     B4,4,B0           ; |2270| 
   10895 00005228 3FF6F290     [!B0]   B       .S1     L8                ; |2270| 
   10896 0000522c 00008000             NOP             5
   10897                               ; BRANCH OCCURS                   ; |2270| 
   10898                    ;** --------------------------------------------------------------------------*
   10899                            .line   1551
   10900                    ;------------------------------------------------------------------------------
   10901                    ; 2272 | }                                                                      
   10902                    ;     |  // END main()                                                         
   10903                    ;------------------------------------------------------------------------------
   10904 00005230 01803EEE             LDW     .D2T2   *+SP(248),B3      ; |2272| 
   10905 00005234 060041EE             LDW     .D2T2   *+SP(260),B12     ; |2272| 
   10906 00005238 058040EE             LDW     .D2T2   *+SP(256),B11     ; |2272| 
   10907 0000523c 05003FEE             LDW     .D2T2   *+SP(252),B10     ; |2272| 
   10908 00005240 07003DEC             LDW     .D2T1   *+SP(244),A14     ; |2272| 
   10909 00005244 06803CEC             LDW     .D2T1   *+SP(240),A13     ; |2272| 
   10910 00005248 06003BEC             LDW     .D2T1   *+SP(236),A12     ; |2272| 
   10911 0000524c 05803AEC             LDW     .D2T1   *+SP(232),A11     ; |2272| 
   10912                    
   10913 00005250 000C0363             B       .S2     B3                ; |2272| 
   10914 00005254 078042EC  ||         LDW     .D2T1   *+SP(264),A15     ; |2272| 
   10915                    
   10916 00005258 050039EC             LDW     .D2T1   *+SP(228),A10     ; |2272| 
   10917 0000525c 07808452             ADDK    .S2     264,SP            ; |2272| 
   10918 00005260 00004000             NOP             3
   10919                               ; BRANCH OCCURS                   ; |2272| 
   10920                            .endfunc        2272,01c08fc00h,264
   10921                    
   10922                    
   10923                    ;******************************************************************************
   10924                    ;* MARK THE END OF THE SCALAR INIT RECORD IN CINIT:C                          *
   10925                    ;******************************************************************************
   10926 00000010           CIR:    .sect   ".cinit:c"
   10927                    ;******************************************************************************
   10928                    ;* UNDEFINED EXTERNAL REFERENCES                                              *
   10929                    ;******************************************************************************
   10930                            .global _log
   10931                            .global _pow
   10932                            .global _sin
   10933                            .global _cos
   10934                            .global _tan
   10935                            .global _floor
   10936                            .global _C6x_ControlLed
   10937                            .global _C6x_ControlResetDspLink3
   10938                            .global _C6x_OpenC6x
   10939                            .global _C6x_OpenPlx
   10940                            .global __mpyd
   10941                            .global __addd
   10942                            .global __fltud
   10943                            .global __negd
   10944                            .global __fixdi
   10945                            .global __divd
TMS320C6x COFF Assembler         Version 4.00     Fri May 13 18:18:51 2011
Copyright (c) 1996-2000 Texas Instruments Incorporated
intermed\xycore.asm                                                  PAGE  200

   10946                            .global __subd
   10947                            .global _memcpy
   10948                            .global __divi
   10949                            .global __remi

 No Errors, No Warnings
